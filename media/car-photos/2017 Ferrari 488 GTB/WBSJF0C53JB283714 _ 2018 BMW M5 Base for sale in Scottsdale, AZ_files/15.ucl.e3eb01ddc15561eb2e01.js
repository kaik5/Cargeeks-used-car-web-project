(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[15],{"./client/components/Common/Basic/Button/Button.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/react/index.js"));a("./client/components/Common/Basic/Button/Button.scss");var n=function(e){return r.default.createElement("div",{className:e.parentClass},r.default.createElement("button",{type:"button",className:e.className,onClick:function(t){"function"==typeof e.onClick&&e.onClick(t)},title:e.title?e.title:""},e.iconClass?r.default.createElement("i",{className:e.icon}):null,r.default.createElement("span",null,e.value)))};t.default=n},"./client/components/Common/Basic/Button/Button.scss":function(e,t,a){},"./client/components/Common/Header/Skeletons/BranchIoBannerSkeleton.scss":function(e,t,a){},"./client/components/Common/Header/Skeletons/BranchIoBannerSkeleton.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/react/index.js"));a("./client/components/Common/Header/Skeletons/BranchIoBannerSkeleton.scss");var n=function(){return r.default.createElement("div",{className:"branch-io-banner-skeleton","aria-label":"Loading App Banner"},r.default.createElement("div",{className:"branch-io-banner-skeleton__app-icon"}),r.default.createElement("div",{className:"branch-io-banner-skeleton__text"},r.default.createElement("div",null),r.default.createElement("div",null)),r.default.createElement("div",{className:"branch-io-banner-skeleton__cta-button"}))};t.default=n},"./client/components/Common/Stars/Stars.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/Common/Stars/Stars.scss");var h=(0,p.inject)("AppStore")(n=(0,p.observer)(n=function(e){(0,i.default)(a,e);var t=m(a);function a(){return(0,s.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"renderIEComponent",value:function(){for(var e=this.props.value-.25,t=[];e>0;)e>.5?t.push(d.default.createElement("i",{className:"fa fa-star"})):t.push(d.default.createElement("i",{className:"fa fa-star-half"})),e--;return d.default.createElement("div",{className:"stars"},d.default.createElement("div",{className:"stars__row_active_ie11"},t),d.default.createElement("div",{className:"stars__row"}))}},{key:"render",value:function(){if(this.props.AppStore.isIE)return this.renderIEComponent();var e=this.props.value,t={width:"".concat(15.8*e,"px")};return d.default.createElement("div",{className:"stars"},d.default.createElement("div",{className:"stars__row_active",style:t}),d.default.createElement("div",{className:"stars__row"}))}}]),a}(d.Component))||n)||n;t.default=h},"./client/components/Common/Stars/Stars.scss":function(e,t,a){},"./client/components/Common/Tooltip/Tooltip.scss":function(e,t,a){},"./client/components/Common/Tooltip/Tooltip.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),s=l(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),o=l(a("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),c=a("./client/components/Common/Tooltip/parts/state.ts"),u=a("./client/components/Common/Tooltip/parts/types.ts");a("./client/components/Common/Tooltip/Tooltip.scss");var d=["children","className","id","position","tabIndex"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={top:void 0,right:void 0,bottom:void 0,left:void 0},v=function(e){var t=e.children,a=e.className,l=e.id,r=e.position,n=void 0===r?u.Positions.bottom:r,p=e.tabIndex,f=void 0===p?0:p,v=(0,o.default)(e,d),b=(0,i.useRef)(l||"cfx-tooltip__".concat((1001*Math.random()).toString().split(".")[1])).current,g=(0,i.useRef)(null),y=i.default.useRef(null),_=i.default.useRef(null),S=i.default.useRef(0),E=(0,i.useRef)(!1),w=i.default.useState(!1),D=(0,s.default)(w,2),C=D[0],j=D[1],R=i.default.useState(v.width||0),N=(0,s.default)(R,2),P=N[0],O=N[1],x=i.default.useState(n),k=(0,s.default)(x,2),V=k[0],T=k[1],M=i.default.useState(m({},h)),B=(0,s.default)(M,2),A=B[0],L=B[1],I=i.default.useState(m({},h)),F=(0,s.default)(I,2),H=F[0],q=F[1];function U(){!1===E.current&&(E.current=!0)}return i.default.useEffect((function(){var e;S.current||(null===(e=g.current)||void 0===e||e.addEventListener("keydown",U));return function(){var e;return null===(e=g.current)||void 0===e?void 0:e.removeEventListener("keydown",U)}}),[]),i.default.useEffect((function(){var e;if(S.current&&C)null===(e=y.current)||void 0===e||e.focus();else if(S.current&&E.current){var t;null==_||null===(t=_.current)||void 0===t||t.focus()}else if(!S.current){var a;S.current=(null==y||null===(a=y.current)||void 0===a?void 0:a.getBoundingClientRect().width)||0}}),[C]),i.default.useEffect((function(){for(var e,t,a=(null==y||null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect())||{height:0,width:0},l=(null==_||null===(t=_.current)||void 0===t?void 0:t.getBoundingClientRect())||{height:0,width:0,x:0,y:0},r=m({},h),o=m({},h),i=n.split("-"),c=(0,s.default)(i,2),d=c[0],p=c[1],f=v.width||S.current,b=g();b.left&&b.right;)f-=48,b=g();function g(){var e=window.innerWidth<f;return{bottom:l.y+l.height+a.height+16>window.innerHeight,top:a.height+16>l.y,left:e||f+16>l.x,right:e||l.x+l.width+f+16>window.innerWidth}}function E(e){[u.Positions.top,u.Positions.bottom].includes(e)?function(e){var t=w(b.left,b.right);switch(r.top=D(e===u.Positions.top?-1*a.height-16:l.height+16),t){case"start":return r.left=D(-1*(f-l.width)),void(o.right=D(l.width/2-8+3));case"end":return r.left=D(0),void(o.left=D(l.width/2-8+3));default:r.left=D((f-l.width)/2*-1),o.left=D(f/2-8)}}(e):function(e){var t=w(b.top,b.end);switch(r.left=D(e===u.Positions.left?-1*f-16:l.width+16),t){case"start":return r.top=D(-1*(a.height-l.height)),void(o.bottom=D(l.height/2-8));case"end":return r.top=D(0),void(o.top=D(l.height/2-8));default:r.top=D((a.height-l.height)/2*-1),o.top=D(a.height/2-8)}}(e),T(e)}function w(e,t){return e&&t?null:e?"end":t?"start":p}function D(e){return"".concat(e,"px")}b[d]?b.top&&!b.bottom?E(u.Positions.bottom):b.bottom&&!b.top?E(u.Positions.top):b.left&&!b.right?E(u.Positions.right):b.right&&!b.left&&E(u.Positions.left):E(d),O(f),L(r),q(o)}),[n,C,v.width]),i.default.createElement(c.TooltipContext.Provider,{value:{arrowStyle:H,buttonRef:_,ID_REF:b,open:C,tabIndex:f,toggleOpen:function(){j(!C)},tooltipRef:y,tooltipStyle:A,width:P}},i.default.createElement("div",{id:b,ref:g,className:"shared_tooltip".concat(a?" ".concat(a):""),"data-open":C||void 0,"data-position":V.split("-")[0],onMouseOut:function(){E.current=!1},onMouseOver:function(){E.current=!1}},t))};t.default=v},"./client/components/Common/Tooltip/parts/TooltipButton.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/extends.js")),n=l(a("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),s=l(a("./node_modules/react/index.js")),o=a("./client/components/Common/Tooltip/parts/state.ts"),i=["className","ariaLabel","ariaLabelledBy"],c=function(e){var t=e.className,a=e.ariaLabel,l=e.ariaLabelledBy,c=(0,n.default)(e,i),u=(0,o.useTooltipContext)(),d=u.buttonRef,p=u.tabIndex,f=u.toggleOpen;return s.default.createElement("button",(0,r.default)({},c,{"aria-label":a||"More information","aria-labelledby":l,className:"shared_tooltip_button fa fa-ic-info".concat(t?" ".concat(t):""),onClick:function(e){f(""),c.onClick&&c.onClick(e)},tabIndex:p,ref:d}))};t.default=c},"./client/components/Common/Tooltip/parts/TooltipContent.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),n=l(a("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),s=l(a("./node_modules/react/index.js")),o=a("./client/components/Common/Tooltip/parts/state.ts"),i=["children"];function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e){var t=e.children,a=(0,n.default)(e,i),l=(0,o.useTooltipContext)(),r=l.arrowStyle,c=l.ID_REF,d=l.open,p=l.tabIndex,f=l.tooltipStyle,m=l.toggleOpen,h=l.tooltipRef,v=l.width;return s.default.createElement("div",{"aria-label":a["aria-label"],"aria-hidden":!d,className:"shared_tooltip_content".concat(d?"":" sr-only"),"data-no-defined-width":0===v||void 0,id:"".concat(c,"_content"),onBlur:function(){return m("blur")},onKeyDown:function(e){e&&"Escape"===(null==e?void 0:e.code)&&m("blur")},ref:h,role:"tooltip",tabIndex:d?p:-1,style:u(u({},f),{},{width:0!==v?"".concat(v,"px"):"auto"})},t,s.default.createElement("span",{className:"shared_tooltip_content_arrow",style:u({},r)}))};t.default=d},"./client/components/Common/Tooltip/parts/state.ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltipContext=function(){var e=(0,l.useContext)(r);if(void 0===e)throw new Error("useTooltipContext must be used in a TooltipContext provider");return e},t.TooltipContext=void 0;var l=a("./node_modules/react/index.js"),r=(0,l.createContext)({});t.TooltipContext=r},"./client/components/Common/Tooltip/parts/types.ts":function(e,t,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.Positions=void 0,t.Positions=l,function(e){e.top="top",e.right="right",e.bottom="bottom",e.left="left"}(l||(t.Positions=l={}))},"./client/components/FindADealer/DealerHeader/DealerHours.scss":function(e,t,a){},"./client/components/FindADealer/DealerHeader/DealerHours.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/react/index.js")),d=l(a("./client/stores/stores.ts")),p=l(a("./client/language/strings.js"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/FindADealer/DealerHeader/DealerHours.scss");var m=p.default.CLOSED,h=p.default.CALL_FOR_APPOINTMENT,v=function(e){(0,o.default)(a,e);var t=f(a);function a(e){var l;return(0,n.default)(this,a),(l=t.call(this,e)).getDisplayTime=function(e){function t(e){var t=e.split(":"),a=parseInt(t[0],10),l=a>=12?"pm":"am";a=a>12||0===a?Math.abs(a-12):a;var r=parseInt(t[1],10);return"".concat(a).concat(r?":".concat(r):"").concat(l)}return e&&e.open&&e.close?"".concat(t(e.open)," - ").concat(t(e.close)):m},l.formatBusinessHours=function(e){var t={};e.forEach((function(e){t[Object.keys(e)[0]]=e[Object.keys(e)[0]],t[Object.keys(e)[0]].label=Object.keys(e)[0]}));var a=[t.sunday,t.monday,t.tuesday,t.wednesday,t.thursday,t.friday,t.saturday],l=(new Date).getDay(),n=a[l];return{rotatedHours:[].concat((0,r.default)(a.slice(l,a.length)),(0,r.default)(a.slice(0,l))),orderedHours:a,todaysHours:n}},l.toggleBusinessHours=function(e){e.preventDefault(),l.props.toggledDealerHourDropdown&&l.props.toggledDealerHourDropdown(),l.state.isShowing?l.setState({isShowing:!1}):l.setState({isShowing:!0})},l.handleOutsideClick=function(e){e&&!l.hoursToolTipWrapperNode.contains(e.target)&&l.setState({isShowing:!1})},l.renderHours=function(e){return e.map((function(e){var t="".concat(e.label[0].toUpperCase()).concat(e.label.substring(1)),a=e&&e.byAppointment&&u.default.createElement("span",{className:"fad-dealer-call-for-appointment"},h);return u.default.createElement("tr",{key:e.id,className:"fad-dealer-hours-row"},u.default.createElement("td",{className:"fad-dealer-hours-day"},t),u.default.createElement("td",{className:"fad-dealer-hours-time-row"},u.default.createElement("span",{className:"fad-dealer-hours-time"},l.getDisplayTime(e)),a))}))},l.state={isShowing:!1},l}return(0,s.default)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick)}},{key:"render",value:function(){var e=this,t=this.formatBusinessHours(this.props.businessHours);return u.default.createElement("button",{onClick:this.toggleBusinessHours,className:"".concat(this.props.fad?"fad-dealer-hours-wrapper":"vdp-dealer-hours-wrapper"),"aria-label":"Show hours"},u.default.createElement("span",{className:"dealer-current-status ".concat(this.props.fad?"fad-dealer-current-status":"vdp-dealer-current-status")},u.default.createElement("span",{className:"".concat(this.props.fad?"":"vdp-dealer-hours__text")},this.getDisplayTime(t.todaysHours))),u.default.createElement("div",{className:"hours-tool-tip-wrapper",ref:function(t){e.hoursToolTipWrapperNode=t}},u.default.createElement("div",null,u.default.createElement("i",{className:"fa ".concat(this.state.isShowing?"fa-chevron-up":"fa-chevron-down"),"aria-hidden":!0})),u.default.createElement("div",{className:"".concat(d.default.App.isMobile?"hours-tool-tip-mobile":"hours-tool-tip"," ").concat(this.state.isShowing?"show":"hide collapse")},u.default.createElement("table",{className:"hours-tool-tip-table"},u.default.createElement("tbody",{className:"hours-tool-tip-tbody"},this.renderHours(t.rotatedHours))))))}}]),a}(u.default.Component);t.default=v,v.defaultProps={businessHours:[],fad:!0}},"./client/components/TPSReport/VehicleReportingTooltip.scss":function(e,t,a){},"./client/components/TPSReport/VehicleReportingTooltip.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),d=l(a("./client/stores/stores.ts")),p=l(a("./config.js"));a("./client/components/TPSReport/VehicleReportingTooltip.scss");var f=l(a("./client/components/TPSReport/TPSDataTransformations.ts"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"makeListItems",value:function(){var e=d.default.VehicleDetails.carouselListings[this.props.vehicleIndex],t=f.default.getVehicleData(e);return Object.keys(t).map((function(e,a){return u.default.createElement("li",{key:"li-tps-".concat(a)},"".concat(e,": ").concat(t[e]))}))}},{key:"assignDealerColor",value:function(e,t){var a,l;switch(e){case"NEW":l=.15,a=.2;break;default:l=.12,a=.15}return t>0&&t<=l?"green":t>l&&t<a?"blue":t>=a?"red":"white"}},{key:"render",value:function(){if(d.default.App.tpsReportActive&&this.props.hovering&&"PROD"!==p.default.currentEnv()){var e=d.default.VehicleDetails.carouselListings[this.props.vehicleIndex],t=e.vin,a=e.tpCostPerVdp,l=e.dealerType;return u.default.createElement("div",{className:"tps-carousel-tooltip__wrapper",key:"tps-tooltip_".concat(t)},u.default.createElement("div",{className:"cfx-tooltip-container"},u.default.createElement("div",{className:"cfx-tooltip-inner",style:{backgroundColor:this.assignDealerColor(l,a)}},u.default.createElement("ul",{className:"cfx-tooltip-ul"},this.makeListItems()))))}return null}}]),a}(u.Component);t.default=v},"./client/components/VehicleDetails/BackToSrp/BackToSrp.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/regenerator/index.js")),n=l(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/react/index.js")),p=l(a("./node_modules/react-router/lib/browserHistory.js")),f=a("./node_modules/mobx-react/index.module.js"),m=l(a("./node_modules/numeral/numeral.js")),h=l(a("./shared/helpers/PersistentSearchUtility.js")),v=l(a("./client/analytics/BeaconHelperApi.js"));a("./client/components/VehicleDetails/BackToSrp/BackToSrp.scss");var b,g=l(a("./client/utils/utilities.js")),y=a("./client/utils/utils.ts");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){return/^\/(Dealer|Reviews)-/.test(e)&&!/^\/(Dealer|Reviews)-undefined/.test(e)},E=(0,f.inject)("AppStore","ModalStore","SearchRequestStore","SearchParamStore","VehicleDetailsStore","OptimizelyStore","FilterStore")(b=(0,f.observer)(b=function(e){(0,i.default)(a,e);var t=_(a);function a(e){var l;return(0,s.default)(this,a),(l=t.call(this,e)).getSearchTotal=function(){var e=l.props.SearchRequestStore.pagination;return(0,m.default)(e.totalRecords).format("0,0")},l.setBrowserBackButtonOnLoad=function(){var e,t="".concat(window.location.href.split("?").length>1?"?":"").concat(window.location.href.split("?")[1]||""),a="".concat(window.location.href.split("#").length>1?"#":"").concat(window.location.href.split("#")[1]||""),r=t||a,n=h.default.load(),s=l.props.VehicleDetailsStore.selectedVehicle.vin;n&&n.seoUrl?e="/".concat(n.seoUrl):l.props.SearchRequestStore.searchInfo.seoUrl&&(e=l.props.SearchRequestStore.searchInfo.seoUrl),n&&l.props.FilterStore.syncUIFiltersWithResults();var o=S(e);o&&l.props.SearchRequestStore.setSelectedDealer(l.props.SearchRequestStore.selectedVehicle.dealer);if(e&&!/^\//.test(e)&&(e="/".concat(e)),e){var i=document.title;p.default.push(e),n&&n.srpTitle&&(document.title=n.srpTitle),p.default.push("/vehicle/".concat(s).concat(r)),document.title=i,l.setState({storedUrl:e,backToDealer:o,isMounted:!0})}},l.backToSRP=function(){var e=(0,n.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("#"===l.state.storedUrl||l.state.backToDealer){e.next=11;break}if(t.preventDefault(),!l.props.AppStore.landedWithTPEligiblePartnerCode){e.next=7;break}return delete l.props.SearchRequestStore.params.tpVin,l.props.SearchRequestStore.params.page=1,e.next=7,l.props.SearchRequestStore.getListings(l.props.SearchRequestStore.params);case 7:l.props.ModalStore.setModal(""),l.props.SearchRequestStore.setBackToSrpClicked(!0),l.props.AppStore.setSearchRequestURL(l.state.storedUrl),p.default.push(l.state.storedUrl);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.handlePrevClick=function(e){e.preventDefault(),l.props.VehicleDetailsStore.carouselPrev(),g.default.scrollToTop(),v.default.vdpCarouselPrev(l.props.VehicleDetailsStore.selectedVehicle)},l.handleNextClick=function(e){e.preventDefault(),l.props.VehicleDetailsStore.carouselNext(),g.default.scrollToTop(),v.default.vdpCarouselNext(l.props.VehicleDetailsStore.selectedVehicle)},l.state={storedUrl:"#",backToDealer:!1,isMounted:!1,goBack:!1},l}return(0,o.default)(a,[{key:"goBackToDealer",value:function(){S(window.location.pathname)&&window.open(window.location.pathname,"_self")}},{key:"componentDidMount",value:function(){this.setBrowserBackButtonOnLoad(),window.addEventListener("popstate",this.goBackToDealer)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.goBackToDealer)}},{key:"componentDidUpdate",value:function(e,t){this.props.SearchRequestStore.searchInfo.seoUrl&&"#"===t.storedUrl&&this.setBrowserBackButtonOnLoad()}},{key:"renderPrevNav",value:function(){return d.default.createElement("a",{href:"#",className:(0,y.classNames)(["nav-prev",0===this.props.VehicleDetailsStore.carouselIndex&&"nav-disabled","0"===this.getSearchTotal()&&"client-side"===this.props.OptimizelyStore.carouselRenderingVariation&&"placeholder"]),onClick:this.handlePrevClick},d.default.createElement("i",{className:"fa fa-angle-left fa-2x"})," Prev")}},{key:"renderNextNav",value:function(){return d.default.createElement("a",{href:"#",className:(0,y.classNames)(["nav-next",this.props.VehicleDetailsStore.carouselIndex>=this.props.VehicleDetailsStore.carouselListings.length-1&&"nav-disabled","0"===this.getSearchTotal()&&"client-side"===this.props.OptimizelyStore.carouselRenderingVariation&&"placeholder"]),onClick:this.handleNextClick},"Next ",d.default.createElement("i",{className:"fa fa-angle-right fa-2x"}))}},{key:"renderHeader",value:function(){var e=this.props.SearchRequestStore.searchArea,t=this.props.SearchRequestStore.searchInfo,a=this.state.storedUrl||"#",l=e.city?"in ".concat(e.city,", ").concat(e.state):"Nationwide",r="".concat(t.subject," for sale ").concat(l);"seoDealer"===t.urlType&&(r="at ".concat(t.subject));var n=this.getSearchTotal();return d.default.createElement(d.default.Fragment,null,d.default.createElement("a",{className:(0,y.classNames)(["back-to-srp-summary__text","0"===n&&"client-side"===this.props.OptimizelyStore.carouselRenderingVariation&&"placeholder"]),href:a,onClick:this.backToSRP},d.default.createElement("i",{className:"fa fa-angle-left fa-2x"}),"Back to your ",n," results"),d.default.createElement("span",{className:(0,y.classNames)(["back-to-srp-location","0"===n&&"client-side"===this.props.OptimizelyStore.carouselRenderingVariation&&"placeholder"])},r))}},{key:"render",value:function(){return d.default.createElement("div",{className:"back-to-srp",key:"back-to-srp-header"},d.default.createElement("div",{className:"back-to-srp-fixed row align-middle"},d.default.createElement("div",{className:"column small-2 small-no-padding hide-for-xlarge"},this.renderPrevNav()),d.default.createElement("div",{className:"column small-8 xlarge-12 small-no-padding back-to-srp-summary text-center"},this.renderHeader()),d.default.createElement("div",{className:"column small-2 small-no-padding hide-for-xlarge"},this.renderNextNav())))}}]),a}(d.default.Component))||b)||b;t.default=E},"./client/components/VehicleDetails/BackToSrp/BackToSrp.scss":function(e,t,a){},"./client/components/VehicleDetails/Branch/BranchWatcher.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/regenerator/index.js")),s=l(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),o=l(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),i=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=l(a("./client/components/Common/Header/Skeletons/BranchIoBannerSkeleton.tsx")),u=l(a("./client/hooks/usePrevious.ts")),d=a("./client/services/branch.ts"),p=l(a("./client/stores/stores.ts")),f=a("./client/utils/utils.ts"),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),h=l(a("./client/components/VehicleDetails/Branch/branchGlobalStyles.ts"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=function(){},_=function(e,t){switch(t.type){case"willNotShowJourney":return{canShowSkeleton:!1,willBranchShowJourney:!1};case"bannerAlreadyPresent":case"willShowJourney":return g(g({},e),{},{willBranchShowJourney:!0});case"didCallJourneyClose":return g(g({},e),{},{canShowSkeleton:!0});case"didShowJourney":case"didClickJourneyClose":case"didClickJourneyCTA":return g(g({},e),{},{canShowSkeleton:!1});default:return e}},S=function(e){var t=e.vin,a=(0,u.default)(t),l=(0,m.useState)(!1),r=(0,o.default)(l,2),i=r[0],v=r[1],b=(0,m.useReducer)(_,{willBranchShowJourney:!1,canShowSkeleton:!1}),g=(0,o.default)(b,2),S=g[0],E=g[1],w=(0,m.useRef)(!1),D=(0,m.useRef)(-1),C=(0,m.useCallback)((function(e,t){E({type:e,data:t})}),[]);(0,m.useEffect)((function(){var e;return(0,d.waitForBranch)(1e4).then((function(t){v(!0),e=t,t.addListener(void 0,C),(0,d.isBranchIframeInDocument)()&&E({type:"bannerAlreadyPresent",data:null})})).catch((function(){v(!1)})),function(){(0,f.isDefined)(e)&&e.removeListener(C)}}),[C]),(0,m.useEffect)((function(){i&&t&&S.willBranchShowJourney&&t!==a&&j()}),[i,t,S.willBranchShowJourney]);var j=function(){var e=(0,s.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.current){e.next=5;break}return w.current=!0,e.next=4,(0,d.closeBranchJourney)().catch(y);case 4:w.current=!1;case 5:D.current&&window.clearTimeout(D.current),D.current=window.setTimeout((function(){var e;null===(e=p.default.Analytics)||void 0===e||e.updateBranchVDPDeepLink(),(0,d.openBranchJourney)()}),500);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S.willBranchShowJourney&&S.canShowSkeleton?m.default.createElement(m.default.Fragment,null,m.default.createElement(c.default,null),m.default.createElement("style",{"data-branch-styles":!0},h.default)):null};t.default=S},"./client/components/VehicleDetails/Branch/branchGlobalStyles.ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="\n    #branch-banner-iframe {\n        top: -76px;\n        left: 0;\n        right: 0;\n        border: 0;\n        height: 76px;\n        z-index: 99999;\n        box-shadow: 0 0 5px rgba(0, 0, 0, .35);\n        width: 1px;\n        min-width: 100%;\n        position: fixed;\n    }\n  \n    header.page-header,\n    #branch-banner-iframe,\n    .back-to-srp-fixed,\n    main,\n    .bc__section__vdp,\n    footer.footer,\n    .cfx-modal.cfx-modal-w-header {\n        transform: translate(0, 76px);\n    }\n  \n    header.page-header #responsive-menu,\n    header.page-header .mobile-menu-overlay {\n        min-height: 100vh;\n        transform: translate(0, -76px);\n    }\n  \n    .dropdown-pane.user-dropdown.is-open {\n        transform: translate(0, -76px);\n    }\n    \n    @media screen and (min-width: 960px) {\n        header.page-header #responsive-menu,\n        header.page-header .mobile-menu-overlay {\n            min-height: unset;\n            transform: none;\n        }\n    }\n  \n    #branch-banner-iframe,\n    header.page-header,\n    .back-to-srp-fixed,\n    main,\n    .bc__section__vdp,\n    footer.footer,\n    .cfx-modal.cfx-modal-w-header {\n        transition: transform 0.375s ease;\n    }\n  \n    header.page-header {\n        margin-top: 0px !important;\n    }\n"},"./client/components/VehicleDetails/Calculator/Calculator.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,s,o=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),u=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),d=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=l(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),h=l(a("./node_modules/numeral/numeral.js")),v=l(a("./client/utils/AppUtils.js")),b=l(a("./client/stores/stores.ts"));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,d.default)(this,a)}}a("./client/components/VehicleDetails/Calculator/Calculator.scss");var S=(0,m.observer)((s=n=function(e){(0,u.default)(a,e);var t=_(a);function a(e){var l;return(0,i.default)(this,a),(l=t.call(this,e)).componentDidMount=function(){l.calculatePayment()},l.componentDidUpdate=function(e){e.listing.vin!==l.props.listing.vin&&l.setState(y(y({},l.state),{},{payment:y(y({},l.state.payment),{},{price:l.props.listing.currentPrice,down_payment:l.props.listing.payment.down_payment,interest_rate:l.props.listing.payment.interest_rate,down_payment_percentage:l.props.listing.payment.down_payment_percentage,months:l.props.listing.payment.month_term})}),(function(){return l.calculatePayment()}))},l.getLoanTermAsButtons=function(e){return e.map((function(e){return f.default.createElement("button",{key:"".concat(e,"-months"),onClick:function(){return l.handleButtonClick(e)},className:"months-buttons ".concat(l.isMonthSelected(e)?"months-button-selected":""),"aria-label":"".concat(e," Loan Term months"),"aria-pressed":l.isMonthSelected(e)?"true":"false"},e)}))},l.calculatePayment=function(e){var t={price:l.state.payment.price,down_payment:parseFloat(l.state.payment.down_payment).toFixed(0),interest_rate:parseFloat(l.state.payment.interest_rate).toFixed(2),down_payment_percentage:l.state.payment.down_payment/l.props.listing.price.current_price.value*100,months:l.state.payment.months,last_valid_interest_rate:l.state.payment.last_valid_interest_rate};if(t.interest_rate=isNaN(t.interest_rate)?0:t.interest_rate,t.down_payment=isNaN(t.down_payment)?0:t.down_payment,e)switch(e.target.name){case"down_payment":t.down_payment=e.target.value.replace(/[^0-9.]+/g,""),t.down_payment>t.price?t.down_payment=t.price:t.down_payment<0&&(t.down_payment=0);break;case"interest_rate":t.interest_rate=e.target.value;break;case"months":t.months=e.target.value}var a=!isNaN(t.interest_rate)&&t.interest_rate>0?t.interest_rate:t.last_valid_interest_rate;t.down_payment_percentage=(t.down_payment/t.price*100).toFixed(0),t.loan_amount=t.price-t.down_payment,t.monthly_rate=a/100/12,t.last_valid_interest_rate=a,t.total=Math.round(t.loan_amount*t.monthly_rate/(1-Math.pow(1+t.monthly_rate,-t.months))),"0.00"===t.interest_rate&&(t.total=Math.round((t.price-t.down_payment)/t.months)),l.setState({payment:t})},l.handleCalculatorClick=function(e){e.preventDefault(),v.default.pushToDataLayer({event:"uclFinanceCalculator",siteType:b.default.App.siteType,hashedEmail:b.default.User.hashedEmail})},l.isMonthSelected=function(e){return e===Number(l.state.payment.months)},l.handleButtonClick=function(e){l.calculatePayment({target:{name:"months",value:e}})},l.state={payment:{price:l.props.listing.currentPrice,down_payment:l.props.listing.payment.down_payment,interest_rate:l.props.listing.payment.interest_rate,down_payment_percentage:l.props.listing.payment.down_payment/l.props.listing.price.current_price.value*100,months:l.props.listing.payment.month_term,last_valid_interest_rate:3.5},isOptyTracked:!1},l}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props.listing,t=this.getLoanTermAsButtons([24,36,48,60,72]);return f.default.createElement("div",{id:"vdp-calculator",onClick:this.handleCalculatorClick,className:"vdp-container calculator"},f.default.createElement("div",{className:"vdp-container-inner"},f.default.createElement("div",{className:"vdp-container-header"},f.default.createElement("h2",{className:"vdp-container-title"},"Payment Calculator")),f.default.createElement("div",{className:"vdp-container-body"},f.default.createElement("form",{className:"calculator-form"},f.default.createElement("label",{htmlFor:"down_payment",className:"calculator-form-group"},f.default.createElement("p",null,"Down Payment / Trade In"),f.default.createElement("input",{type:"tel",className:"down_payment",ref:"down_payment",name:"down_payment",value:(0,h.default)(this.state.payment.down_payment).format("$0,0"),onChange:this.calculatePayment}),f.default.createElement("small",null,parseFloat(this.state.payment.down_payment_percentage).toFixed(0),"% of"," ",e.price.current_price.label)),f.default.createElement("label",{htmlFor:"interest_rate",className:"calculator-form-group"},f.default.createElement("p",null,"Interest Rate (%)"),f.default.createElement("input",{type:"tel",className:"interest_rate",name:"interest_rate",value:this.state.payment.interest_rate,placeholder:e.interest_rate,onChange:this.calculatePayment}),f.default.createElement("small",null,"with good credit")),f.default.createElement("label",{htmlFor:"months",className:"calculator-form-group"},f.default.createElement("p",null,"Loan Terms (months)"),f.default.createElement("div",{className:"months-buttons-container"},t))),f.default.createElement("div",{className:"calculator-result"},f.default.createElement("p",null,"Estimated Monthly Payment*"),f.default.createElement("p",{className:"monthly-total"},"$",(0,h.default)(this.state.payment.total).format("0,0[.]00"),f.default.createElement("small",null,"/mo est.")))),f.default.createElement("div",{className:"vdp-container-footer"},f.default.createElement("p",null,"* ",e.disclaimers.monthlyPayment))))}}]),a}(f.default.Component),n.defaultProps={listing:{}},r=s))||r;t.default=S},"./client/components/VehicleDetails/Calculator/Calculator.scss":function(e,t,a){},"./client/components/VehicleDetails/Carousel/Carousel.scss":function(e,t,a){},"./client/components/VehicleDetails/Carousel/Carousel.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),p=l(a("./client/stores/stores.ts")),f=l(a("./client/components/VehicleDetails/Carousel/CarouselItem.jsx")),m=l(a("./client/components/VehicleDetails/Carousel/LeftArrow.jsx")),h=l(a("./client/components/VehicleDetails/Carousel/RightArrow.jsx")),v=l(a("./client/components/VehicleDetails/Carousel/CarouselImageLoader.jsx"));a("./client/components/VehicleDetails/Carousel/Carousel.scss");var b,g,y,_=l(a("./client/analytics/BeaconHelperApi.js"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}var w=(0,d.observer)((y=g=function(e){(0,o.default)(a,e);var t=E(a);function a(e){var l;return(0,n.default)(this,a),(l=t.call(this,e)).mounted=!1,l.allowAnimations=!1,l.resizeTimeout=void 0,l.renderTimeCalculated=void 0,l.clientRenderTime=void 0,l.nextSlide=function(){p.default.VehicleDetails.carouselNext(),_.default.vdpCarouselNext(p.default.VehicleDetails.selectedVehicle)},l.prevSlide=function(){p.default.VehicleDetails.carouselPrev(),_.default.vdpCarouselPrev(p.default.VehicleDetails.selectedVehicle)},l.onResize=function(){l.resizeTimeout&&clearTimeout(l.resizeTimeout),l.resizeTimeout=setTimeout((function(){l.mounted&&l.forceUpdate()}),250)},l.carouselItemWidth=function(){var e=document.querySelector(".carousel__item");return e?e.scrollWidth+22:0},l.getCarouselContainerWidth=function(){var e=document.querySelector("#carousel-container");return e?e.scrollWidth:0},l.allowAnimations=!1,l.state={ready:!1},l.renderTimeCalculated=!1,l}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.clientRenderTime=Date.now(),p.default.VehicleDetails.initializeCarousel(),window.addEventListener("resize",this.onResize),setTimeout((function(){e.mounted&&e.setState({ready:!0})}),250)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearTimeout(this.resizeTimeout),window.removeEventListener("resize",this.onResize),p.default.VehicleDetails.unloadCarousel()}},{key:"componentDidUpdate",value:function(){if(this.props.listings.length&&!this.renderTimeCalculated){var e,t,a;if("undefined"!=typeof window&&void 0!==window.newrelic)window.newrelic.addPageAction("ucl-carousel-placeholder-time",{variation:null===(e=p.default.Optimizely)||void 0===e?void 0:e.carouselRenderingVariation,value:Date.now()-(null===(t=p.default.SearchRequest)||void 0===t?void 0:t.startCarouselLoad)}),window.newrelic.addPageAction("ucl-carousel-client-placeholder-time",{variation:null===(a=p.default.Optimizely)||void 0===a?void 0:a.carouselRenderingVariation,value:Date.now()-this.clientRenderTime});this.renderTimeCalculated=!0}}},{key:"getNewCarouselPosition",value:function(e){if("undefined"==typeof window)return 0;var t=this.getCarouselContainerWidth()/2;return this.carouselItemWidth()*e*-1+t-this.carouselItemWidth()+10}},{key:"renderItems",value:function(){return u.default.createElement("div",{className:"carousel__track",style:{transform:"translate3d(".concat(this.getNewCarouselPosition(p.default.VehicleDetails.carouselIndex),"px, 0, 0)"),transition:"transform ease-out ".concat(this.allowAnimations?"0.25s":"0s")}},this.props.listings.map((function(e,t){return u.default.createElement(f.default,{key:"carousel_listing_item_".concat(t),id:"carousel_listing_item_".concat(t),price:e.price,listingId:e.listingId,followCount:e.followCount,consumerId:e.consumerId,following:e.following,listing:e,index:t,CarouselItemClass:t===p.default.VehicleDetails.carouselIndex?"carousel__item active":"carousel__item"})})))}},{key:"render",value:function(){var e=p.default.App.tpsReportActive?{height:"450px"}:this.props.style||{};return u.default.createElement("section",{className:"carousel",style:e},u.default.createElement(v.default,null),u.default.createElement("div",{className:"row"},u.default.createElement("div",{id:"carousel-container",className:"column small-12"},u.default.createElement("div",{className:"carousel__slider-outer".concat("SOLD"===p.default.VehicleDetails.selectedVehicle.listingStatus?" carousel__slider-outer--sold":"")},u.default.createElement("div",{className:"carousel__list"},u.default.createElement(m.default,{Prev:this.prevSlide,isReady:this.state.ready}),u.default.createElement("div",{className:"carousel__scrolling-wrapper-flexbox"},this.renderItems()),u.default.createElement(h.default,{Next:this.nextSlide,isReady:this.state.ready}))))))}}]),a}(u.Component),g.defaultProps={listings:[],location:{}},b=y))||b;t.default=w},"./client/components/VehicleDetails/Carousel/CarouselImageLoader.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.preloadTimeout=void 0;var r,n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}t.preloadTimeout=5e3;var f=(0,d.inject)("AppStore","VehicleDetailsStore")(r=(0,d.observer)(r=function(e){(0,o.default)(a,e);var t=p(a);function a(e){var l;return(0,n.default)(this,a),(l=t.call(this,e)).state={ready:!1},l}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,setTimeout((function(){e.mounted&&e.setState({ready:!0})}),5e3)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(!this.state.ready||!this.props.VehicleDetailsStore.selectedVehicle)return u.default.createElement("span",{className:"carousel-image-loader"});var e=this.props.AppStore.isMobile?null:this.props.VehicleDetailsStore.getImagesForPreload;return e&&e.length>0?u.default.createElement("div",{className:"carousel-image-loader","data-vin":this.props.VehicleDetailsStore.selectedVehicle.vin},e.map((function(e,t){return u.default.createElement("img",{key:"img-preoload-".concat(e.vin,"-").concat(t),src:e.src,alt:"vehicle"})}))):null}}]),a}(u.default.Component))||r)||r;t.default=f},"./client/components/VehicleDetails/Carousel/CarouselItem.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/lodash/lodash.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),f=a("./node_modules/mobx-react/index.module.js"),m=l(a("./client/stores/stores.ts")),h=l(a("./client/utils/utilities.js")),v=l(a("./client/analytics/BeaconHelperApi.js")),b=l(a("./client/components/Common/FollowButton/FollowButton.jsx")),g=l(a("./client/components/TPSReport/VehicleReportingTooltip.tsx")),y=l(a("./client/language/strings.js")),_=a("./client/utils/utils.ts");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var w=y.default.CALL_FOR_PRICE,D=y.default.REQUEST_QUOTE,C=(0,f.observer)(n=function(e){(0,i.default)(a,e);var t=E(a);function a(){var e;(0,s.default)(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={isHovering:!1},e.handleOnClick=function(t){h.default.prevent(t),m.default.VehicleDetails.setLastCarouselAction("carouselCardClick"),m.default.VehicleDetails.selectVehicle(e.props.listing,e.props.index),v.default.vdpCarouselCardClick(m.default.VehicleDetails.selectedVehicle)},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.props.listing,a=t.backfill?D:w,l=0===t.price.current_price.value?a:t.price.current_price.label,r=m.default.App.tpsReportActive?{height:"800px"}:{},n=d.default.get(t,"images.firstPhoto.small","https://static.carfax.com/uclassets/images/thumb-noimage.png");return m.default.App.isMobile&&!m.default.App.isTablet&&window.innerWidth<600&&(n="https://static.carfax.com/uclassets/images/thumb-noimage.png"),n=(0,_.getVastImageUrl)(n),p.default.createElement("div",{className:"carousel__slide",onClick:this.handleOnClick,onMouseEnter:function(){return e.setState({isHovering:!0})},onMouseLeave:function(){return e.setState({isHovering:!1})},style:r},p.default.createElement("div",{className:"carousel__slide-inner"},p.default.createElement("div",{id:this.props.id,className:this.props.CarouselItemClass,tabIndex:-1},p.default.createElement("div",{className:"carousel__slide-price"},l),p.default.createElement(b.default,{buttonClass:"carousel__slide-follow",display:"small",source:"carousel",listing:t}),p.default.createElement("img",{className:"carousel__slide-photo",src:n,alt:"car"}))),p.default.createElement(g.default,{vehicleIndex:this.props.index,hovering:this.state.isHovering}))}}]),a}(p.Component))||n;t.default=C},"./client/components/VehicleDetails/Carousel/LeftArrow.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.createElement("button",{className:"carousel__arrow carousel__left-arrow","aria-label":"Previous",onClick:e.Prev},r.default.createElement("i",{className:"fa fa-angle-left ".concat(e.isReady?"":"placeholder")}))};var r=l(a("./node_modules/react/index.js"))},"./client/components/VehicleDetails/Carousel/RightArrow.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.createElement("button",{className:"carousel__arrow carousel__right-arrow","aria-label":"Next",onClick:e.Next},r.default.createElement("i",{className:"fa fa-angle-right ".concat(e.isReady?"":"placeholder")}))};var r=l(a("./node_modules/react/index.js"))},"./client/components/VehicleDetails/ContentBlockWrapper/ContentBlockWrapper.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=a("./client/utils/utils.ts"),u=l(a("./node_modules/react/index.js"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}var p=function(e){(0,s.default)(a,e);var t=d(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,n.default)(a,[{key:"render",value:function(){var e=(0,c.classNames)(["vdp-container",this.props.wrapperClass]),t=(0,c.classNames)(["vdp-container-inner",this.props.innerWrapperClass]),a=(0,c.classNames)(["vdp-container-header",this.props.headerClass]),l=(0,c.classNames)(["vdp-container-body",this.props.bodyClass]),r=(0,c.classNames)(["vdp-container-footer",this.props.footerClass]);(0,c.classNames)(["vdp-container-footer",this.props.titleClass]);return u.default.createElement("div",{className:e},u.default.createElement("div",{className:t},this.props.headerContent?u.default.createElement("div",{className:a},this.props.headerContent):"",this.props.children?u.default.createElement("div",{className:l},this.props.children):"",this.props.footerContent?u.default.createElement("div",{className:r},this.props.footerContent):""))}}]),a}(u.default.PureComponent);t.default=p,p.defaultProps={pageType:"VDP"}},"./client/components/VehicleDetails/Cpo/CpoInfo.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/react/index.js")),d=l(a("./node_modules/lodash/lodash.js")),p=a("./node_modules/mobx-react/index.module.js"),f=l(a("./client/analytics/BeaconHelperApi.js")),m=l(a("./client/components/CulDeSacPages/data/cpoEnhancedData.js")),h=l(a("./client/utils/utilities.js"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/VehicleDetails/Cpo/CpoInfo.scss");var b=(0,p.inject)("ModalStore","AppStore")(r=(0,p.observer)(r=function(e){(0,o.default)(a,e);var t=v(a);function a(){var e;(0,n.default)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t,a){h.default.prevent(t);var l=e.props.listing.make;window.open("".concat(t.target.href),"_blank"),f.default.vdpCPOCallToAction({make:l,callToActionType:a})},e.handleModalClick=function(t,a){h.default.prevent(t);var l=e.props.listing.make;l=l.toLowerCase();var r="culdesac-video-modal-".concat(l);e.props.ModalStore.setModal(r),f.default.vdpCPOCallToAction({make:l,callToActionType:a})},e}return(0,s.default)(a,[{key:"render",value:function(){var e,t,a,l,r,n=this,s=this.props.listing.make,o=s.toLowerCase(),i=d.default.get(m.default,o,{}),c=i.checklistSrc,p=i.videoSrc,f=i.brochureSrc,h=i.cpoBullets,v=i.cpoCulDeSacUrl&&this.props.listing.cpoData.cpoCulDeSacUrl&&this.props.listing.isOemPromoted?i.cpoCulDeSacUrl:"";if(this.props.listing.cpoData&&this.props.listing.cpoData.id>0&&(t=i.cpoLogo?i.cpoLogo:this.props.listing.cpoData.cpoLogo,e=u.default.createElement("img",{className:"cpo-info-logo".concat("Subaru"===this.props.listing.make?" cpo-info-logo--subaru":""," ").concat(this.props.additionalCSS.logo||""," "),src:t,alt:"This is a certified preowned dealer"})),this.props.listing.cpoData&&this.props.listing.cpoData.id>0&&(a=u.default.createElement("h2",{className:"cpo-info-title ".concat(this.props.additionalCSS.title||""," ")},s," Certified Pre-Owned Program")),this.props.listing.cpoData&&this.props.listing.cpoData.id>0){var b=(this.props.listing.cpoData.cpoBullets[0]?this.props.listing.cpoData.cpoBullets:h).map((function(e,t){var a=e;return c&&(d.default.includes(e,"Point")||d.default.includes(e,"point"))&&(a=u.default.createElement("a",{href:c,onClick:function(e){return n.handleClick(e,"vdpChecklist")}},e)),u.default.createElement("li",{key:"cpo-item-".concat(t),className:"cpo-info-item ".concat(n.props.additionalCSS.listItem||""," ")},a)}));l="Ford"===this.props.listing.make?u.default.createElement("p",{className:"cpo__bullet__heading"},"Confidence at every turn:"):u.default.createElement("p",{className:"cpo__bullet__heading"},"All ",this.props.listing.make," Certified Pre-Owned vehicles include:"),r=u.default.createElement("ul",{className:"cpo-info-list ".concat(this.props.additionalCSS.list||""," ")},b)}var g=u.default.createElement("div",{className:"cpo-info-cta ".concat(this.props.additionalCSS.ctaWrapper||""," ")},p?u.default.createElement("a",{className:"cpo-info-link ".concat(this.props.additionalCSS.links||""),onClick:function(e){return n.handleModalClick(e,"vdpVideo")},href:p},u.default.createElement("i",{className:"cpo-right-arrow"}),'Watch "Why ',s,' Certified Pre-Owned"'):null,f?u.default.createElement("a",{className:"cpo-info-link ".concat(this.props.additionalCSS.links||""),onClick:function(e){return n.handleClick(e,"vdpBrochure")},href:f},s," Certified Pre-Owned Brochure"):null,v?u.default.createElement("a",{className:"cpo-info-link ".concat(this.props.additionalCSS.links||""),onClick:function(e){return n.handleClick(e,"vdpCTA2")},href:v},"Explore all ",s," Certified Pre-Owned Benefits",u.default.createElement("i",{className:"cpo-redirect"})):null);return i?u.default.createElement("div",{className:"cpo-info ".concat(this.props.additionalCSS.mainWrapper||"")},u.default.createElement("div",{className:"cpo-info-header ".concat(this.props.additionalCSS.header||""," ")},a),u.default.createElement("div",null,l,this.props.AppStore.isMobile?null:e,r,g,this.props.AppStore.isMobile?e:null)):null}}]),a}(u.default.Component))||r)||r;t.default=b},"./client/components/VehicleDetails/Cpo/CpoInfo.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerInfo/DealerInfo.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),p=a("./client/analytics/TrackingHelperApi.js"),f=l(a("./client/utils/utilities.js")),m=l(a("./client/analytics/BeaconHelperApi.js")),h=l(a("./client/utils/AppUtils.js")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./client/language/strings.js")),b=l(a("./client/components/Common/Stars/Stars.jsx")),g=l(a("./client/components/FindADealer/DealerHeader/DealerHours.tsx"));a("./client/components/VehicleDetails/DealerInfo/DealerInfo.scss");var y,_,S,E=l(a("./client/stores/stores.ts"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}var C=v.default.DEALER_INFO,j=v.default.SEND_MESSAGE,R=(v.default.VIEW_CAR_ON_DEALER_WEBSITE,(0,d.inject)("AppStore","AnalyticsStore","UserStore","ModalStore","SearchParamStore","SearchRequestStore","OptimizelyStore","VehicleDetailsStore")(y=(0,d.observer)((S=_=function(e){(0,o.default)(a,e);var t=D(a);function a(e){var l;return(0,n.default)(this,a),(l=t.call(this,e)).geocodeAddress=function(e){l.geocoder.geocode({address:e},(function(e,t){t===google.maps.GeocoderStatus.OK&&(l.setState({dealerAddress:e[0].formatted_address,isGeocodingError:!1}),l.map.setCenter(e[0].geometry.location),l.marker.setPosition(e[0].geometry.location))}))},l.initMap=function(){var e=document.getElementById("map-panel-vdp"),t=l.props.SearchRequestStore.selectedVehicle.dealer||l.props.SearchRequestStore.selectedDealer;l.map=new google.maps.Map(e,{zoom:15,center:{lat:parseInt(t.location.lat,10),lng:parseInt(t.location.lon,10)}}),l.marker=new google.maps.Marker({map:l.map,position:{lat:parseInt(t.location.lat,10),lng:parseInt(t.location.lat,10)},icon:"https://static.carfax.com/uclassets/images/dealerInfoIcons/icon-pin.svg"}),l.geocoder=new google.maps.Geocoder,l.directionsService=new google.maps.DirectionsService,l.directionsDisplay=new google.maps.DirectionsRenderer,l.directionsDisplay.setMap(l.map),l.directionsDisplay.setPanel(document.getElementById("direction-panel"))},l.handleMessageDealer=function(e,t){if(f.default.prevent(e),m.default.vdpDealerInfoSendMessage(l.props.SearchRequestStore.selectedVehicle),l.props.VehicleDetailsStore.setMobileLeadFormSource("mobile dealer info contact"),l.props.AppStore.isMobile)l.props.ModalStore.setModalWithListingData("mobile-lead-form",l.props.SearchRequestStore.selectedVehicle);else{var a=t.getBoundingClientRect();window.scrollBy({top:a.top-60,left:0,behavior:"smooth"})}},l.handleScrollToReviews=function(e,t){f.default.prevent(e);var a=t.getBoundingClientRect();window.scrollBy(0,a.top-60)},l.handleCallClick=function(){var e=l.props.SearchRequestStore.selectedVehicle;m.default.vdpPhone(e),(0,p.trackClickEVars)("eVar132","VDP | Dealer Info","event49","Mobile Call Dealer - ".concat(e.dealer.label," - ").concat(e.dealer.location.city," - ").concat(e.dealer.location.state," - ").concat(e.dealer.location.zip," - ").concat(e.dealer.phone),e.dealer.id),h.default.pushToDataLayer({event:"uclPhoneLead",siteType:l.props.AppStore.siteType,emailHashed:l.props.UserStore.hashedEmail}),l.props.AnalyticsStore.trackPhoneTaps()},l.handleMapClick=function(){var e=l.props.SearchRequestStore.selectedVehicle;m.default.vdpMap(e),(0,p.trackClick)("event68","Map Clicks",e.dealer.id)},l.handleWebsiteClick=function(e){e.preventDefault();var t=l.props.SearchRequestStore.selectedVehicle;(0,p.trackClick)("event48","Dealer Exit - ".concat(t.dealer.label," - ").concat(t.dealer.location.city," - ").concat(t.dealer.location.state," - ").concat(t.dealer.location.zip),t.dealer.id),m.default.vdpDealerWebsite(t),window.open(t.dealer.website,"_blank"),h.default.pushToDataLayer({event:"uclViewDealerWebsite",siteType:l.props.AppStore.siteType,emailHashed:l.props.UserStore.hashedEmail})},l.handleInventoryClick=function(){l.props.SearchParamStore.setMake(""),m.default.vdpDealerMicroSite(l.props.SearchRequestStore.selectedVehicle)},l.handleMessageClick=function(){var e=l.props.SearchRequestStore.selectedVehicle;m.default.vdpDealerInfoSendMessage(e)},l.toggleBusinessHours=function(){l.setState({showingDealerHourDropdown:!l.state.showingDealerHourDropdown})},l.state={showingDealerHourDropdown:!1,isGeocodingError:!1,dealerAddress:""},l}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.props.AppStore.isMobile;var e=this.props.SearchRequestStore.selectedVehicle.dealer||this.props.SearchRequestStore.selectedDealer;"".concat(e.location.address," ").concat(e.location.city,", ").concat(e.location.state)}},{key:"render",value:function(){var e,t=this,a=this.props.SearchRequestStore.selectedVehicle,l=a.dealer,r=l.cfxMicrositeUrl?l.cfxMicrositeUrl:"#",n=this.props.SearchRequestStore.selectedDealer.dealerReviews,s="".concat(l.location.city,", ").concat(l.location.state," ").concat(l.location.zip," "),o=u.default.createElement("span",{className:"dealer-info__section"},u.default.createElement("img",{className:"dealer-info__images","aria-hidden":"true",src:"https://static.carfax.com/uclassets/images/icon-Phone-dark.svg",alt:"phone icon"}),u.default.createElement("p",{className:"dealer-info__phone-text"},l.phone)),i=l.onlineOnly?u.default.createElement("span",{id:"dealer-info__address-text"},s):u.default.createElement("span",{id:"dealer-info__address-text"},l.location.address," ",s),c=(n&&n.ratingSummary.numberOfReviews&&(n.ratingSummary.avgRating.toFixed(1),b.default,n.ratingSummary.avgRating,"".concat(n.ratingSummary.numberOfReviews," Verified Review").concat(n.ratingSummary.numberOfReviews>1?"s":"")),e=[],l.cfxMicrositeUrl&&e.push("dealerInventory"),l.website&&e.push("dealerWebsite"),l.inventoryUrl&&e.push("carOnDealerWebsite"),l.businessHours.length>0&&e.push("dealerBH"),e.length>0?e[e.length-1]:0),d="undefined"!=typeof window?document.getElementsByClassName("dealer-contact-wrapper vdp-container")[1]:"";return u.default.createElement("div",{className:"vdp-container dealer-info"},u.default.createElement("div",{className:"vdp-container-inner ".concat(l.advantage?" dealer-info-dealer-advantage-logo":"")},u.default.createElement("div",{className:"vdp-container-header"},u.default.createElement("h2",{className:"vdp-container-title"},C)),u.default.createElement("div",{className:"vdp-container-body"},u.default.createElement("div",null,"ENHANCED"===this.props.SearchRequestStore.selectedVehicle.recordType&&l.logo?u.default.createElement("img",{src:l.logo,className:"vdp-profile-logo",alt:"".concat(this.props.SearchRequestStore.selectedDealer.label," Logo")}):null,u.default.createElement("span",{className:"dealer-name"},l.label)),u.default.createElement("div",{className:"dealer-info-column"},u.default.createElement("div",{className:"dealer-address"},u.default.createElement("p",null,i,u.default.createElement("br",null)),l.onlineOnly?"":u.default.createElement("span",null,u.default.createElement("a",{href:"/vehicle/".concat(a.vin,"/map"),id:"dealer-info__directions-link",onClick:this.handleMapClick,target:"_blank"},u.default.createElement("span",{className:"dealer-info__directions-text dealer-info__details"},u.default.createElement("img",{className:"dealer-info__images","aria-hidden":"true",src:"https://static.carfax.com/uclassets/images/icon-Location-dark.svg",alt:"location icon"}),"Driving Directions")))),u.default.createElement("div",{className:"".concat(l.phone&&l.phone.length?"dealer-phone dealer-info__details":"hide")},u.default.createElement("div",{className:"hide-for-xlarge"},u.default.createElement("a",{href:"tel:".concat(l.phone),onClick:this.handleCallClick},o)),u.default.createElement("div",{className:"show-for-xlarge"},o)),"SOLD"!==a.listingStatus?u.default.createElement("div",{className:"dealer-send-msg dealer-info__details ".concat(0===c?"dealer-info__details--no-border":"")},u.default.createElement("button",{className:"scroll-to-message",onClick:function(e){return t.handleMessageDealer(e,d)}},u.default.createElement("span",{className:"dealer-info__section"},u.default.createElement("img",{className:"dealer-info__images","aria-hidden":"true",src:"https://static.carfax.com/uclassets/images/icon-Mail-dark.svg",alt:"message icon"}),j))):"",u.default.createElement("div",{className:"dealer-inventory".concat(l.cfxMicrositeUrl?" show dealer-info__details":" hide"," ").concat("dealerInventory"===c?"dealer-info__details--no-border":"")},u.default.createElement("a",{target:"_blank",title:l.label,href:f.default.parseLink(r,E.default.App.usedHost),onClick:this.handleInventoryClick},u.default.createElement("span",{className:"dealer-info__section"},u.default.createElement("img",{className:"dealer-info__images","aria-hidden":"true",src:"https://static.carfax.com/uclassets/images/icon-Dealer-Inventory-dark.svg",alt:"dealer inventory icon"}),"Dealer Inventory"))),u.default.createElement("div",{className:"dealer-url".concat(l.website?" show dealer-info__details":" hide"," ").concat("dealerWebsite"===c?"dealer-info__details--no-border":"")},u.default.createElement("a",{id:"dealer-website-vdp",onClick:this.handleWebsiteClick,href:l.website},u.default.createElement("span",{className:"dealer-info__section"},u.default.createElement("img",{className:"dealer-info__images","aria-hidden":"true",src:"https://static.carfax.com/uclassets/images/icon-Dealer-Website-dark.svg",alt:""}),"Dealer Website"))),l.businessHours.length>0&&u.default.createElement("span",{className:"dealer-info__section dealer-info__details ".concat("dealerBH"===c?"dealer-info__details--no-border":"")},u.default.createElement("img",{className:"dealer-info__images","aria-hidden":"true",src:"https://static.carfax.com/uclassets/images/icon-Dealer-Hours-dark.svg",alt:"dealer hours icon"}),u.default.createElement(g.default,{businessHours:l.businessHours,fad:!1,toggledDealerHourDropdown:this.toggleBusinessHours}))))))}}]),a}(u.default.Component),_.defaultProps={listing:{}},y=S))||y)||y);t.default=R},"./client/components/VehicleDetails/DealerInfo/DealerInfo.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerReviews/DealerReviews.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/react/index.js")),d=l(a("./node_modules/fecha/fecha.js")),p=a("./node_modules/mobx-react/index.module.js"),f=l(a("./client/components/VehicleDetails/DealerReviews/DealerReviewsSummary/DealerReviewsSummary.jsx"));a("./client/components/VehicleDetails/DealerReviews/DealerReviews.scss");var m,h=l(a("./client/components/Common/Stars/Stars.jsx")),v=l(a("./client/components/VehicleDetails/DealerReviews/DealerReviewsFilters/DealerReviewsFilters.jsx")),b=l(a("./client/components/VehicleDetails/DealerReviews/DealerReviewsSort/DealerReviewsSort.jsx")),g=l(a("./client/components/Common/LocalLoadingIndicator/LocalLoadingIndicator.jsx"));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}var E=(0,p.inject)("ModalStore","SearchRequestStore","DealerSearchStore","AppStore")(m=(0,p.observer)(m=function(e){(0,o.default)(a,e);var t=S(a);function a(e){var l;return(0,n.default)(this,a),(l=t.call(this,e)).handleShowMore=function(){l.props.DealerSearchStore.setReviewsCurrentPage(l.props.DealerSearchStore.reviewsCurrentPage+1),l.props.SearchRequestStore.getDealerReviews(l.props.DealerSearchStore.dealerCompCode,l.props.DealerSearchStore.dealerReviewsQueryObject,{appendReviews:!0,showLoadingIcon:!0})},l.handleFlagClick=function(){l.props.ModalStore.setModal("flag-review")},l.toggleShowFullReview=function(e){var t=_({},l.state.showFullReview);t[e]=!t[e],l.setState({showFullReview:_({},t)})},l.toggleShowFullDealerResponse=function(e){var t=_({},l.state.showFullDealerResponse);t[e]=!t[e],l.setState({showFullDealerResponse:_({},t)})},l.toggleShowReviews=function(){l.setState({showReviews:!l.state.showReviews})},l.renderReview=function(e){var t,a=[e.comments.substring(0,230),e.comments.substring(230,e.comments.length)],r=l.state.showFullReview[e.reviewId],n=e.dealerResponse&&[e.dealerResponse.comments.substring(0,230),e.dealerResponse.comments.substring(230,e.dealerResponse.comments.length)],s=l.state.showFullDealerResponse[e.reviewId],o=e.reviewer.city&&e.reviewer.state;return t=e.vehiclePurchased?"Verified Purchase":"SHOP_REVIEW"===e.reviewType?"Verified Service":"Verified Shopper",u.default.createElement("div",{key:e.reviewId,className:"dealer-reviews-item"},u.default.createElement("div",{className:"dealer-reviews-item__stars"},u.default.createElement(h.default,{value:e.rating})),u.default.createElement("div",{className:"dealer-reviews-item__details"},u.default.createElement("div",{className:"dealer-reviews-item__reviewer"},"by ",u.default.createElement("strong",null,e.reviewer.reviewerName," "),u.default.createElement("span",{className:"dealer-reviews-item__date-location"},"on"," ",d.default.format(new Date((e.updateDate||e.createDate).replace(/-/g,"/")),"MMM YYYY"),o&&"(".concat(e.reviewer.city,", ").concat(e.reviewer.state,")")),u.default.createElement("span",{className:"dealer-reviews-item__status"},t&&u.default.createElement("i",{className:"fa fa-ic_verified dealer-reviews-item__verified-icon"}),u.default.createElement("span",{className:"dealer-reviews-item__verified-status-text"},t))),e.comments&&u.default.createElement("div",{className:"dealer-reviews-item__review-text"},e.title&&u.default.createElement("div",{className:"dealer-reviews-item__title"},e.title),u.default.createElement("div",{className:"dealer-reviews-item__comment"},u.default.createElement("span",{className:"dealer-reviews-item__comment-text"},u.default.createElement("span",{className:"dealer-reviews-item__comment-fragment".concat(!r&&a[1]?" dealer-reviews-item__comment-fragment--ellipses":"")},a[0]),a[1]&&u.default.createElement("span",{className:"dealer-reviews-item__comment-fragment".concat(r?"":" dealer-reviews-item__comment-fragment--hidden")},a[1])),a[1]&&u.default.createElement("span",{className:"dealer-reviews-item__toggle-show-more",onClick:function(){l.toggleShowFullReview(e.reviewId)}},r?"Less":"More"))),e.dealerResponse&&u.default.createElement("div",{className:"dealer-reviews-item__dealer-response"},u.default.createElement("div",{className:"dealer-reviews-item__dealer-response-title"},'"'.concat(e.dealerResponse.dealerName,'", responded to this review')),u.default.createElement("div",{className:"dealer-reviews-item__dealer-response-comment"},u.default.createElement("span",{className:"dealer-reviews-item__dealer-response-comment-text"},u.default.createElement("span",{className:"dealer-reviews-item__dealer-response-comment-fragment".concat(!s&&n[1]?" dealer-reviews-item__dealer-response-comment-fragment--ellipses":"")},n[0]),n[1]&&u.default.createElement("span",{className:"dealer-reviews-item__dealer-response-comment-fragment".concat(s?"":" dealer-reviews-item__dealer-response-comment-fragment--hidden")},n[1])),n[1]&&u.default.createElement("span",{className:"dealer-reviews-item__toggle-show-more",onClick:function(){l.toggleShowFullDealerResponse(e.reviewId)}},s?"Less":"More")))))},l.renderReviewsList=function(e){var t=l.props.SearchRequestStore.selectedDealer.dealerReviews.reviewTypeRequested,a=l.props.SearchRequestStore.selectedDealer.dealerReviews.ratingSummary.numberOfReviews;"SALES_REVIEW"===t&&(a=l.props.SearchRequestStore.selectedDealer.dealerReviews.ratingSummary.salesReviewCount),"SHOP_REVIEW"===t&&(a=l.props.SearchRequestStore.selectedDealer.dealerReviews.ratingSummary.shopReviewCount);var r="";"SALES_REVIEW"===t?r="sales":"SHOP_REVIEW"===t&&(r="service");var n=u.default.createElement("div",{className:"dealer-reviews-list dealer-reviews-list--no-reviews"},"No available ".concat(r," reviews at this time."));if(!e)return n;var s=e.filter((function(e){return e.rating&&e.reviewType&&(e.updateDate||e.createDate)})).map((function(e){return l.renderReview(e)}));return s.length?u.default.createElement("div",{className:"dealer-reviews-list"},s,s.length<=a-1&&u.default.createElement("button",{className:"dealer-reviews-list__more",onClick:l.handleShowMore,disabled:l.props.DealerSearchStore.isLoadingMoreReviews||l.props.DealerSearchStore.areReviewsLoading},l.props.DealerSearchStore.isLoadingMoreReviews?u.default.createElement("div",{className:"dealer-reviews-list__show-more-loader-wrapper"},u.default.createElement(g.default,null)):u.default.createElement("span",null,"Show More Results ",u.default.createElement("i",{className:"fa fa-chevron-down",fontSize:"1.5rem"})))):n},l.state={showFullReview:{},showFullDealerResponse:{},showReviews:!1},l}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.setState({showReviews:!1})}},{key:"render",value:function(){var e,t,a=this.renderReviewsList(this.props.SearchRequestStore.selectedDealer.dealerReviews&&this.props.SearchRequestStore.selectedDealer.dealerReviews.reviews),l=u.default.createElement("div",{onClick:this.toggleShowReviews,className:"vdp-container-header hide-for-xxlarge dealer-rr-title-chevron"},u.default.createElement("h2",{className:"vdp-container-title dealer-rr-title"},"Dealer Ratings & Reviews"),u.default.createElement("span",{className:"dealer-rr-down-img"},u.default.createElement("img",{src:"".concat(!1===this.state.showReviews?"https://static.carfax.com/uclassets/images/".concat("VDP"===this.props.location?"icon-Down.svg":"Down.png"):"https://static.carfax.com/uclassets/images/".concat("VDP"===this.props.location?"icon-Up.svg":"Up.png")),alt:""})));return this.props.location&&"Microsite"===this.props.location?(e=u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"vdp-container-header hide-for-xxlarge"},u.default.createElement("h2",{className:"vdp-container-title"},"Dealer Ratings & Reviews")),u.default.createElement(f.default,null)),t=u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"vdp-container-header column small-12 show-for-xxlarge"},u.default.createElement("h2",{className:"vdp-container-title"},"Dealer Ratings & Reviews")),u.default.createElement(v.default,null),u.default.createElement(b.default,null))):(this.props.location&&"VDP"===this.props.location||void 0===this.props.location)&&(e=u.default.createElement(u.default.Fragment,null,l,this.state.showReviews&&u.default.createElement(f.default,null)),t=u.default.createElement(u.default.Fragment,null,this.state.showReviews&&u.default.createElement(v.default,null),this.state.showReviews&&u.default.createElement(b.default,null))),a&&("VDP"===this.props.location&&this.props.AppStore.isMobile||"Microsite"===this.props.location)?u.default.createElement("div",{className:"dealer-reviews row ".concat("VDP"===this.props.location?"dealer-reviews--vdp":"")},u.default.createElement("div",{className:"vdp-container rr-summary"},u.default.createElement("div",{className:"dealer-rr-container-inner"},e)),u.default.createElement("div",{className:"rr-filter-sort column small-12"},u.default.createElement("div",{className:"row align-middle"},t)),u.default.createElement("div",{className:"vdp-container rr-results column ".concat(this.props.location&&"VDP"===this.props.location&&!1===this.state.showReviews?"toggleShowReviews":"")},u.default.createElement("div",{className:"vdp-container-body dealer-reviews-body"},this.props.DealerSearchStore.areReviewsLoading?u.default.createElement("div",{className:"dealer-reviews-body-loader-wrapper"},u.default.createElement(g.default,null)):a))):""}}]),a}(u.default.Component))||m)||m;t.default=E},"./client/components/VehicleDetails/DealerReviews/DealerReviews.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerReviews/DealerReviewsFilters/DealerReviewsFilters.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/VehicleDetails/DealerReviews/DealerReviewsFilters/DealerReviewsFilters.scss");var f=(0,d.inject)("DealerSearchStore","SearchRequestStore")(r=(0,d.observer)(r=function(e){(0,o.default)(a,e);var t=p(a);function a(){var e;(0,n.default)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleNewFilterSelected=function(t){if(t&&t.target){var a="ALL"===t.target.value?"":t.target.value;e.props.DealerSearchStore.setFilterAndGetReviews(a)}},e}return(0,s.default)(a,[{key:"render",value:function(){var e=this.props.DealerSearchStore.isLoadingMoreReviews||this.props.DealerSearchStore.areReviewsLoading;return u.default.createElement("div",{className:"rr-filters column"},u.default.createElement("form",null,u.default.createElement("fieldset",{disabled:e},u.default.createElement("ul",null,u.default.createElement("li",{className:"rr-filter show-all"},u.default.createElement("input",{className:"rnr-filter-radio".concat(e?" rnr-filter-radio--disabled":""),type:"radio",id:"showAll",name:"reviews",value:"ALL",checked:""===this.props.DealerSearchStore.reviewsFilterKey,onChange:this.handleNewFilterSelected}),u.default.createElement("label",{className:"rnr-filter-label".concat(e?" rnr-filter-label--disabled":""),htmlFor:"showAll"},"All Reviews")),u.default.createElement("li",{className:"rr-filter show-sales"},u.default.createElement("input",{className:"rnr-filter-radio".concat(e?" rnr-filter-radio--disabled":""),type:"radio",id:"showSales",name:"reviews",value:"SALES_REVIEW",checked:"SALES_REVIEW"===this.props.DealerSearchStore.reviewsFilterKey,onChange:this.handleNewFilterSelected}),u.default.createElement("label",{className:"rnr-filter-label".concat(e?" rnr-filter-label--disabled":""),htmlFor:"showSales"},"Sales Reviews Only")),u.default.createElement("li",{className:"rr-filter show-service"},u.default.createElement("input",{className:"rnr-filter-radio".concat(e?" rnr-filter-radio--disabled":""),type:"radio",id:"showService",name:"reviews",value:"SHOP_REVIEW",checked:"SHOP_REVIEW"===this.props.DealerSearchStore.reviewsFilterKey,onChange:this.handleNewFilterSelected}),u.default.createElement("label",{className:"rnr-filter-label".concat(e?" rnr-filter-label--disabled":""),htmlFor:"showService"},"Service Reviews Only"))))))}}]),a}(u.default.Component))||r)||r;t.default=f},"./client/components/VehicleDetails/DealerReviews/DealerReviewsFilters/DealerReviewsFilters.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerReviews/DealerReviewsSort/DealerReviewsSort.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),f=a("./client/analytics/TrackingHelperApi.js");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var h=(0,p.inject)("DealerSearchStore","SearchRequestStore")(r=(0,p.observer)(r=function(e){(0,i.default)(a,e);var t=m(a);function a(e){var l;return(0,n.default)(this,a),(l=t.call(this,e)).handleNewSortSelected=function(e){if(e&&e.target){var t=e.target.value||"";(0,f.trackClickEVars)("eVar84",t,"event30","VDP RR Sort"),l.props.DealerSearchStore.setSortKeyAndGetReviews(t)}},l.handleNewSortSelected=l.handleNewSortSelected.bind((0,o.default)(l)),l}return(0,s.default)(a,[{key:"render",value:function(){var e=d.default.createElement(d.default.Fragment,null,d.default.createElement("option",{value:"SALES_FIRST"},"Sales Reviews First"),d.default.createElement("option",{value:"SERVICE_FIRST"},"Service Reviews First"));return d.default.createElement("div",{className:"rr-sort"},d.default.createElement("select",{className:"rr-sort-select",onChange:this.handleNewSortSelected,disabled:this.props.DealerSearchStore.areReviewsLoading},(""===this.props.DealerSearchStore.reviewsFilterKey||"ALL"===this.props.DealerSearchStore.reviewsFilterKey)&&e,d.default.createElement("option",{value:"NEWEST_FIRST"},"Newest First"),d.default.createElement("option",{value:"OLDEST_FIRST"},"Oldest First"),d.default.createElement("option",{value:"HIGHEST_RATED"},"Highest Rated"),d.default.createElement("option",{value:"LOWEST_RATED"},"Lowest Rated")))}}]),a}(d.default.Component))||r)||r;t.default=h},"./client/components/VehicleDetails/DealerReviews/DealerReviewsSummary/DealerReviewsSummary.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=l(a("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),f=l(a("./client/components/Common/Stars/SVGStars.jsx"));l(a("./client/components/FindADealer/DealerHeader/Partials/DealerRatings.jsx"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/VehicleDetails/DealerReviews/DealerReviewsSummary/DealerReviewsSummary.scss");var h=(0,p.inject)("SearchRequestStore")(r=(0,p.observer)(r=function(e){(0,i.default)(a,e);var t=m(a);function a(){var e;(0,s.default)(this,a);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderRow=function(e,t){return d.default.createElement("div",{className:"rnr-summary-bar-row",id:"bar-row-".concat(e),key:"bar-row-".concat(e)},d.default.createElement("div",{className:"rnr-summary-star-label"},e," Star"),d.default.createElement("div",{className:"rnr-summary-outside-bar"},d.default.createElement("div",{className:"rnr-summary-inside-bar",style:{width:"".concat(t,"%")}})),d.default.createElement("div",{className:"rnr-summary-star-percentage"},t,"%"))},e.renderRatingBars=function(t){var a=Object.entries(t).sort((function(e,t){return e[0]-t[0]})).map((function(e){return Math.round(e[1])}));return a.reduce((function(e,t){return e+t}),0)>100&&a[a.indexOf(Math.max.apply(Math,(0,n.default)(a)))]--,d.default.createElement("div",{className:"rnr-summary-bars"},a.map((function(t,a){return e.renderRow(a+1,t)})).reverse())},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedDealer.dealerReviews.ratingSummary;return d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:"ratings-and-reviews-summary"},d.default.createElement("div",{className:"rnr-summary-top"},d.default.createElement("div",{className:"rnr-summary-dealer-rating"},e.avgRating.toFixed(1)),d.default.createElement(f.default,{value:e.avgRating}),d.default.createElement("div",{className:"rnr-summary-verified-reviews"},d.default.createElement("span",{id:"rnr-summary-review-count"},e.numberOfReviews)," Verified Review",e.numberOfReviews>1?"s":"",d.default.createElement("i",{className:"fa fa-ic_verified rnr-summary-verified-icon"})))),this.renderRatingBars(e.ratingPercentages))}}]),a}(d.default.Component))||r)||r;t.default=h},"./client/components/VehicleDetails/DealerReviews/DealerReviewsSummary/DealerReviewsSummary.scss":function(e,t,a){},"./client/components/VehicleDetails/Description/Description.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),d=l(a("./client/utils/utilities.js")),p=l(a("./client/utils/AppUtils.js")),f=l(a("./client/stores/stores.ts"));a("./client/components/VehicleDetails/Description/Description.scss");var m,h=l(a("./client/language/strings.js"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}var b=h.default.MINUS_SHOW_LESS_DESCRIPTION,g=h.default.PLUS_READ_FULL_DESCRIPTION,y=h.default.SELLER_DESCRIPTION,_=(0,u.observer)(m=function(e){(0,s.default)(a,e);var t=v(a);function a(e){var l;return(0,r.default)(this,a),(l=t.call(this,e)).toggleDescription=function(e){e.preventDefault(),l.setState({showFull:!l.state.showFull},(function(){l.toggleElement&&d.default.scrollToElementOutOfView(l.toggleElement)})),l.state.hasBeenToggled||(p.default.pushToDataLayer({event:"uclVDPdesc",siteType:f.default.App.siteType,hashedEmail:f.default.User.hashedEmail}),l.setState({hasBeenToggled:!0}))},l.createMarkup=function(e){return{__html:e}},l.state={showFull:!1,hasBeenToggled:!1},l}return(0,n.default)(a,[{key:"loadDescriptionContent",value:function(e){return c.default.createElement("button",{className:"sellerDescription-footer",onClick:this.toggleDescription},e)}},{key:"render",value:function(){var e=this.state.showFull?this.props.description:d.default.truncate(this.props.description,200),t=this.state.showFull?b:g;return c.default.createElement("div",{className:"sellerDescription".concat(""!==this.props.description?" show":" hide")},c.default.createElement("h2",{className:"sellerDescription-title"},y),c.default.createElement("p",{className:"sellerDescription-body collapse",dangerouslySetInnerHTML:this.createMarkup(e)}),this.props.description&&this.props.description.length>=200?this.loadDescriptionContent(t):null)}}]),a}(c.default.Component))||m;t.default=_},"./client/components/VehicleDetails/Description/Description.scss":function(e,t,a){},"./client/components/VehicleDetails/Disclaimer/Disclaimer.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/react/index.js"));a("./client/components/VehicleDetails/Disclaimer/Disclaimer.scss");var n=l(a("./client/language/strings.js")),s=n.default.CALL_FOR_PRICE,o=n.default.DEALER_DISCLAIMER,i=n.default.REQUEST_QUOTE,c=function(e){var t=e.listing||{},a=t.backfill?i:s,l=0===t.price.current_price.value?a:t.price.current_price.label,n=e.isMobile||!1,c=r.default.createElement("p",{className:"disclaimer-vehicle-info"},e.listing.disclaimers.footer);return r.default.createElement("div",{className:"vdp__disclaimer"},r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"column"},r.default.createElement("span",{className:"disclaimer-vehicle-title"},e.listing.title),r.default.createElement("span",{className:"disclaimer-vehicle-price"},l))),r.default.createElement("div",{className:"row"},r.default.createElement("div",{className:"column"},r.default.createElement("p",{className:"disclaimer-vehicle-info".concat(e.listing.disclaimers.footer?" show":" hide")},r.default.createElement("strong",null,o),e.listing.disclaimers.vdp),n?c:null),n?null:r.default.createElement("div",{className:"column"},c)))};t.default=c},"./client/components/VehicleDetails/Disclaimer/Disclaimer.scss":function(e,t,a){},"./client/components/VehicleDetails/FeatureList/FeatureList.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/react/index.js")),u=l(a("./node_modules/lodash/lodash.js")),d=a("./node_modules/mobx-react/index.module.js"),p=l(a("./client/utils/utilities.js")),f=l(a("./client/utils/AppUtils.js")),m=l(a("./client/stores/stores.ts")),h=l(a("./client/components/VehicleDetails/FeatureList/FeatureListItem.jsx"));a("./client/components/VehicleDetails/FeatureList/FeatureList.scss");var v,b,g,y=l(a("./client/language/strings.js"));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}var S=y.default.MINUS_LESS_FEATURES,E=y.default.PLUS_MORE_FEATURES,w=y.default.POPULAR_FEATURES,D=y.default.VEHICLE_FEATURES,C=(0,d.observer)((g=b=function(e){(0,s.default)(a,e);var t=_(a);function a(e){var l;(0,r.default)(this,a),(l=t.call(this,e)).toggleGroup=function(e){e.preventDefault(),l.setState({showFull:!l.state.showFull},(function(){l.toggleElement&&p.default.scrollToElementOutOfView(l.toggleElement)})),l.state.hasBeenToggled||(f.default.pushToDataLayer({event:"uclVDPFeatures",siteType:m.default.App.siteType,hashedEmail:m.default.User.hashedEmail}),l.setState({hasBeenToggled:!0}))};var n=u.default.get(e,"topOptions.length"),s=u.default.get(e,"otherOptions.length")&&!n;return l.state={showFull:s,hasBeenToggled:!1},l}return(0,n.default)(a,[{key:"render",value:function(){var e=u.default.get(this.props,"topOptions.length"),t=u.default.get(this.props,"otherOptions.length");return c.default.createElement("div",{className:"featureList"},e?c.default.createElement("div",{className:"featureList-group popular"},c.default.createElement("h2",{className:"featureList-title"},w),c.default.createElement("div",{className:"featureList-body"},c.default.createElement(h.default,{items:this.props.topOptions.sort()}))):"",this.state.showFull?c.default.createElement("div",{className:"featureList-group"},c.default.createElement("h2",{className:"featureList-title"},D),c.default.createElement("div",{className:"featureList-body"},c.default.createElement(h.default,{items:this.props.otherOptions.sort()}))):"",e&&t?c.default.createElement("button",{onClick:this.toggleGroup,className:"featureList-footer"},this.state.showFull?S:E):"")}}]),a}(c.default.Component),b.defaultProps={topOptions:[]},v=g))||v;t.default=C},"./client/components/VehicleDetails/FeatureList/FeatureList.scss":function(e,t,a){},"./client/components/VehicleDetails/FeatureList/FeatureListItem.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/react/index.js")),n=function(e){var t=e.items||[],a=[],l=[];return t.forEach((function(e,n){var s=r.default.createElement("div",{key:"cfx-features-".concat(n+1),className:"featureList-item"},e);n<t.length/2?a.push(s):l.push(s)})),r.default.createElement("div",{className:"row featureList-list"},r.default.createElement("div",{className:"column small-12 medium-6"},a),r.default.createElement("div",{className:"column small-12 medium-6"},l))};t.default=n},"./client/components/VehicleDetails/InfoTable/InfoTable.scss":function(e,t,a){},"./client/components/VehicleDetails/InfoTable/InfoTable.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/react/index.js")),u=l(a("./node_modules/lodash/lodash.js")),d=a("./client/utils/utils.ts"),p=a("./client/analytics/TrackingHelperApi.js"),f=l(a("./client/language/strings.js"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}a("./client/components/VehicleDetails/InfoTable/InfoTable.scss");var h=function(e){(0,s.default)(a,e);var t=m(a);function a(){var e;(0,r.default)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).getInfo=function(e,t,a){var l=f.default.getAllStrings(),r=e,n=t;if("price"===e){var s=a.backfill?"Request Quote":"Call for Price";n=0===t.current_price.value?s:t.current_price.label}"mileage"===e&&(n=f.default.numMiles(t.label)),"dealer"===e&&(r="location",n=f.default.cityState(t.location.city,t.location.state)),"bodytype"===e&&(r="bodyStyle");var o=l.filter((function(e){return"string"==typeof e.value&&u.default.camelCase(e.key.toLowerCase())===r}))[0]||{};return{key:o.key,label:o.value,value:n}},e.handleTracking=function(){var t=e.props.listing.certified?"CPO":"Non-CPO";(0,p.trackClick)("event125","Window Sticker:".concat(t,"|VDP|VDP|").concat(e.props.listing.make))},e}return(0,n.default)(a,[{key:"render",value:function(){var e=this,t=this.props.listing;t.mpgCityHwy=t.mpgCity&&t.mpgHighway?"".concat(t.mpgCity,"/").concat(t.mpgHighway):"";var a=(0,d.classNames)(["vehicle-info-list",this.props.listClass]),l=(0,d.classNames)(["vehicle-info-list-item",this.props.listItemClass]),r=(0,d.classNames)(["vehicle-info-list-item-name",this.props.listItemNameClass]),n=(0,d.classNames)(["vehicle-info-list-item-value",this.props.listItemValueClass]),s=(0,u.default)(t).pick(this.props.selectedProperties).omitBy(u.default.isNil).omitBy(u.default.isEmpty).value(),o=Object.keys(s).map((function(a,o){var i=s[a],u=e.getInfo(a,i,t),d="".concat(o,"-").concat(a);if(u&&!u.value.includes("null"))return c.default.createElement("li",{key:d,className:l},c.default.createElement("div",{className:r},u.label),c.default.createElement("div",{className:n},u.value))}));if(t.windowSticker){var i=c.default.createElement("li",{key:"".concat(t.vin,"-windowSticker"),className:"".concat(l," vehicle-info-list-items--window-sticker")},c.default.createElement("div",{className:"test-auto-stock windowSticker"},c.default.createElement("a",{href:"".concat(t.windowSticker),target:"_blank",rel:"noopener noreferrer",onClick:this.handleTracking},"View Window Sticker")));o.push(i)}return c.default.createElement("ul",{className:a},o)}}]),a}(c.default.Component);t.default=h,h.defaultProps={listClass:"unvailable-header",listItemClass:"vehicle-info-list-item",listItemNameClass:"vehicle-info-list-item-name",listItemValueClass:"vehicle-info-list-item-value",listing:[],selectedProperties:["price","mileage","dealer.location","year","interiorColor","exteriorColor","driveType","transmission","bodytype","engine","fuel","mpgCityHwy","vin","stockNumber"]}},"./client/components/VehicleDetails/MobileFooterDealerContact/MobileFooterDealerContact.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),f=l(a("./client/analytics/BeaconHelperApi.js")),m=a("./client/analytics/TrackingHelperApi.js"),h=l(a("./client/utils/AppUtils.js"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/VehicleDetails/MobileFooterDealerContact/MobileFooterDealerContact.scss");var g=(0,p.inject)("AnalyticsStore","VehicleDetailsStore","ModalStore","DealerSearchStore","OptimizelyStore")(n=(0,p.observer)(n=function(e){(0,i.default)(a,e);var t=b(a);function a(e){var l;return(0,s.default)(this,a),(l=t.call(this,e)).handleCallClick=function(){var e=l.props.listing;f.default.vdpCallButton(e),(0,m.trackClickEVars)("eVar132","VDP | Bottom CTA","event49","Mobile Call Dealer - ".concat(e.dealer.label," - ").concat(e.dealer.location.city," - ").concat(e.dealer.location.state," - ").concat(e.dealer.location.zip," - ").concat(e.dealer.phone),e.dealer.id),h.default.pushToDataLayer({event:"send-to-phone"}),l.props.AnalyticsStore.trackPhoneTaps()},l.handleEmailClick=function(){f.default.vdpEmailButton(l.props.listing),l.props.VehicleDetailsStore.setListGridDropdown(!1),l.props.VehicleDetailsStore.setMobileLeadFormSource("mobile vdp bottom cta"),l.props.ModalStore.setModalWithListingData("mobile-lead-form",l.props.listing);var e=(0,m.buildProps)({pageName:{value:"Find Car - Details - Contact Seller"},prop2:{value:"Find Car Details"},prop3:{value:"Find Car Details"},prop4:{value:"Find a Car"},events:{value:"event5,event54"}},["prop40","prop41","prop42","prop49","prop50","prop51","prop53","prop57"],l.props.listing);(0,m.trackPage)(e)},l.state={suppressCallDealer:l.props.DealerSearchStore.suppressDealerPhoneOnVDP()},l}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.listing,t=this.state.suppressCallDealer,a="ENHANCED"===e.recordType;return d.default.createElement("div",{className:"mobile-footer-dealer-contact__fixed-contact-buttons"},"SOLD"!==e.listingStatus?d.default.createElement("div",{className:"mobile-footer-dealer-contact__fixed-contact-buttons__button-container row hide-for-large"},d.default.createElement("button",{type:"button",className:"button expanded mobile-footer-dealer-contact__fixed-contact-buttons__button",value:"Send_Message",onClick:this.handleEmailClick},d.default.createElement("div",{className:"mobile-footer-dealer-contact__text__wrapper"},d.default.createElement("span",{className:"mobile-footer-dealer-contact__fixed-contact-buttons__button__text"},"Check Availability")))):"",!t&&a?d.default.createElement("div",{className:"mobile-footer-dealer-contact__fixed-contact-buttons__button-container"},d.default.createElement("a",{href:"tel:".concat(e.dealer.phone),className:"button expanded mobile-footer-dealer-contact__fixed-contact-buttons__button",value:"Call_Dealer",onClick:this.handleCallClick},d.default.createElement("span",{className:"mobile-footer-dealer-contact__fixed-contact-buttons__button__text"},e.dealer.phone))):null)}}]),a}(d.Component))||n)||n;t.default=g},"./client/components/VehicleDetails/MobileFooterDealerContact/MobileFooterDealerContact.scss":function(e,t,a){},"./client/components/VehicleDetails/PricePayment/PricePayment.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,s,o=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),c=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=l(a("./client/components/Common/Accordion/Accordion.tsx")),f=l(a("./client/components/Common/Tooltip/parts/TooltipButton.tsx")),m=l(a("./client/components/Common/Tooltip/parts/TooltipContent.tsx")),h=l(a("./client/stores/stores.ts")),v=l(a("./client/utils/AppUtils.js")),b=l(a("./client/utils/utilities.js")),g=l(a("./node_modules/lodash/lodash.js")),y=a("./node_modules/mobx-react/index.module.js"),_=l(a("./node_modules/numeral/numeral.js")),S=l(a("./node_modules/react/index.js")),E=l(a("./client/language/strings.js")),w=l(a("./client/components/Common/Basic/Button/Button.jsx")),D=l(a("./client/components/Common/CPOTooltip/CPOTooltip.tsx")),C=l(a("./client/components/Common/Tooltip/Tooltip.tsx")),j=l(a("./client/components/SearchResults/SimilarVehicles/SimilarVehiclesSearchButton.tsx")),R=a("./client/components/VehicleDetails/ABTests/989.tsx"),N=l(a("./client/components/VehicleDetails/ContentBlockWrapper/ContentBlockWrapper.tsx")),P=l(a("./client/components/VehicleDetails/InfoTable/InfoTable.tsx")),O=l(a("./client/components/VehicleDetails/Value/Value.tsx")),x=l(a("./client/components/VehicleDetails/VehicleHistoryList/VehicleHistoryList.tsx")),k=l(a("./client/components/VehicleDetails/VehicleTitle/VehicleTitle.jsx"));function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,u.default)(this,a)}}a("./client/components/VehicleDetails/PricePayment/PricePayment.scss");var T=E.default.makeCertifiedPreOwned,M=E.default.badgeValue,B=E.default.CALL_FOR_PRICE,A=E.default.DATE,L=E.default.EDIT,I=E.default.GET_APPROVED,F=E.default.HIDE_PRICE_HISTORY,H=E.default.labelCarfaxValue,q=E.default.moneyPerMonthEstimate,U=E.default.percentDownPerMonth,W=E.default.PRICE,z=E.default.PRICE_AND_PAYMENT,G=E.default.PRICE_CHANGE,J=E.default.SHOW_PRICE_HISTORY,X=E.default.REQUEST_QUOTE,Y=E.default.wasAmountOnDate,Q=E.default.numMiles,K=(0,y.observer)((s=n=function(e){(0,c.default)(a,e);var t=V(a);function a(e){var l;return(0,o.default)(this,a),(l=t.call(this,e)).getHeader=function(e){var t=e.price.current_price.value<5e3?W:z;return h.default.App.isMobile?l.displayActionBarHeader(e):l.props.isNoLongerAvailable?l.displayNoLongerAvailablelaHeader(e):S.default.createElement("h2",{className:"vdp-container-title"},t)},l.getFooter=function(){var e;return l.props.isNoLongerAvailable?S.default.createElement(j.default,{buttonCss:"price-payment-solid-btn expanded button",seoUrl:null===h.default||void 0===h.default||null===(e=h.default.SearchRequest)||void 0===e?void 0:e.searchInfo.seoUrl}):S.default.createElement(w.default,{type:"button",className:"get-approved hollow button large expanded hide",value:I})},l.scrollToCalculator=function(e){b.default.prevent(e);var t=document.getElementById("vdp-calculator"),a=document.body.getBoundingClientRect(),l=t.getBoundingClientRect().top-a.top;b.default.animatedScrollTo(l-120)},l.showTable=function(e){e.preventDefault(),l.setState({tableClass:"show",toggleLink:"hide"})},l.hideTable=function(e){e.preventDefault(),l.setState({tableClass:"hide",toggleLink:"show"})},l.handlePriceHistoryClick=function(e){l.showTable(e),l.state.hasBeenToggled||(v.default.pushToDataLayer({event:"uclVDPPriceHist",siteType:h.default.App.siteType,hashedEmail:h.default.User.hashedEmail}),l.setState({hasBeenToggled:!0}))},l.togglePriceHistory=function(e){l.state.isShowingPriceHistory?(l.hideTable(e),l.state.isShowingPriceHistory=!1):(l.showTable(e),l.state.isShowingPriceHistory=!0),l.state.hasBeenToggled||(v.default.pushToDataLayer({event:"uclVDPPriceHist",siteType:h.default.App.siteType,hashedEmail:h.default.User.hashedEmail}),l.setState({hasBeenToggled:!0}))},l.displayActionBarHeader=function(e){return S.default.createElement("h2",{className:"vdp-container-title"},S.default.createElement(k.default,{listing:e}))},l.displayNoLongerAvailablelaHeader=function(e){return S.default.createElement("h1",{className:"vehicle-title nla-title"},"".concat(e.title).concat(e.subTrim?" ".concat(e.subTrim):""))},l.handleNLAAccordionClick=function(e){l.setState({NLAExpandedItem:e})},l.state={tableClass:"hide",toggleLink:"show",hasBeenToggled:!1,isShowingPriceHistory:!1,NLAExpandedItem:-1},l}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props.listing,t=g.default.reject(e.price_history,{listPrice:0}),a=Math.round(e.payment.monthly_payment),l=!1!==e.dealer.showPriceHistory,r=t.length>1&&l,n=t[t.length-1],s=r?Y((0,_.default)(n.listPrice).format("0,0"),n.date):null,o=e.backfill?X:B,i=0===e.price.current_price.value?o:e.price.current_price.label,c="TX"===e.dealer.location.state,u=function(e){return 0===e.difference||e.difference===e.listPrice?"hide":""},d=function(e){return e.difference<0?"price-down":"price-up"},v=r?t.map((function(e,t){return S.default.createElement("tr",{key:"history-row-".concat(t+1)},S.default.createElement("td",{className:"date"},e.date),S.default.createElement("td",{className:"list-price"},"$".concat((0,_.default)(e.listPrice).format("0,0"))),S.default.createElement("td",{className:"difference"},S.default.createElement("span",{className:"".concat(u(e),"\n                   ").concat(d(e))},e.difference>0?"+":null,(0,_.default)(e.difference).format("$0,0")||null)))})):null,b=Object.keys(e.pillars).map((function(t){return e.pillars[t]})),y=e.badge?" ".concat(e.badge.toLowerCase(),"-value"):"";return S.default.createElement(N.default,{headerContent:this.getHeader(e),footerContent:this.getFooter(e)},S.default.createElement("div",{className:"pricePayment"},S.default.createElement("div",{className:"value-badge".concat(y)},S.default.createElement("div",{className:c?"hide":"price"},i,h.default.App.isMobile&&S.default.createElement("span",{className:"price__payment__mileage"},"| ",Q(e.mileage.label)),S.default.createElement("span",{className:"price-was hide"},s)),S.default.createElement("div",{className:"value-badge-detail".concat(e.badge?"":" hide")},S.default.createElement("div",{className:"value-label"},M(e.badge)),S.default.createElement("div",{className:"value-info"},S.default.createElement("div",{className:c?"hide":"value-details"},S.default.createElement("span",{className:"value-difference"},S.default.createElement("strong",null,e.onePrice.difference)),H(e.onePrice.label),S.default.createElement(O.default,{listing:e,toolTipPosition:this.props.toolTipPosition,stores:h.default})),S.default.createElement("div",{className:c?"value-details is-texas":"hide"},S.default.createElement("span",{className:"price"},i),h.default.App.isMobile&&S.default.createElement("span",{className:"price__payment__mileage"},"| ",Q(e.mileage.label)))))),l&&!this.props.isNoLongerAvailable&&S.default.createElement("div",{className:r?"show price-was has-badge":"hide"},s,S.default.createElement("table",{className:"".concat(this.state.tableClass," price-history-table")},S.default.createElement("tbody",null,S.default.createElement("tr",null,S.default.createElement("th",{className:"date"},A),S.default.createElement("th",null,W),S.default.createElement("th",null,G)),v)),S.default.createElement("button",{className:"".concat(this.state.isShowingPriceHistory?"":"price-history-show"," showPriceHistory-toggle"),onClick:this.togglePriceHistory},this.state.isShowingPriceHistory?F:J)),!this.props.isNoLongerAvailable&&S.default.createElement("div",{className:e.price.current_price.value<5e3?"hide":"price-per-month"},q(a),S.default.createElement("div",{className:"money-down"},S.default.createElement(C.default,{className:"price-payment-tooltip",width:352},S.default.createElement(f.default,null),S.default.createElement(m.default,null,"* Estimated payments are for informational purposes only and don't represent a financing offer or guarantee of credit. Estimated payment is based on the price advertised by the seller and doesn’t account for any additional fees, taxes or incentives.")),"(",U(e.payment.down_payment_percentage,e.payment.month_term),")",S.default.createElement("button",{onClick:this.scrollToCalculator,"aria-label":"Go to Price Calculator",className:"price__payment__edit"},S.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/icon-Edit.svg",alt:""})," ",L))),e.certified&&h.default.App.isMobile&&S.default.createElement("div",{className:"vehicle-title-cpo-wrapper"},S.default.createElement("span",{className:"vehicle-title-cpo"},T(e.make)),S.default.createElement(D.default,{linkTrackEvent:"event246",eventName:"CPO VDP Tooltip",type:3,listing:e,pageType:"VDP"})),e.removalDate&&this.props.isNoLongerAvailable&&S.default.createElement("p",{className:"nla-removal-text"},"Listing removed by seller on ",e.removalDate),this.props.isNoLongerAvailable&&S.default.createElement(p.default,{items:[{id:"vehicle-history",title:"Vehicle History",content:S.default.createElement(x.default,{history:b})},{id:"vehicle-info",title:"Vehicle Info",content:S.default.createElement(P.default,{listing:e,selectedProperties:["mileage","dealer.location","year","interiorColor","exteriorColor","driveType","transmission","bodytype","engine","fuel","mpgCityHwy","vin","stockNumber"]})}],setExpandedItem:this.handleNLAAccordionClick,expandedItem:this.state.NLAExpandedItem})),!this.props.isNoLongerAvailable&&h.default.App.isMobile&&h.default.Optimizely.fourPillarsActionBar.includes("accordion")&&S.default.createElement(R.CXDUE989Accordion,{variant:h.default.Optimizely.fourPillarsActionBar,listing:e,trackClick:function(){return h.default.Optimizely.trackEvent("Action - Accordion-Modal open click",{directCall:!0})}}))}}]),a}(S.default.Component),n.defaultProps={listing:{},isNoLongerAvailable:!1},r=s))||r;t.default=K},"./client/components/VehicleDetails/PricePayment/PricePayment.scss":function(e,t,a){},"./client/components/VehicleDetails/ShareButtons/ShareButtons.scss":function(e,t,a){},"./client/components/VehicleDetails/ShareButtons/ShareButtons.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/regenerator/index.js")),n=l(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),f=l(a("./client/analytics/BeaconHelperApi.js")),m=a("./client/analytics/TrackingHelperApi.js");a("./client/components/VehicleDetails/ShareButtons/ShareButtons.scss");var h,v,b,g=l(a("./client/language/strings.js")),y=l(a("./client/utils/AppUtils.js")),_=l(a("./client/components/Common/FollowButton/FollowButton.jsx")),S=l(a("./client/utils/utilities.js")),E=l(a("./client/stores/stores.ts")),w=a("./client/utils/utils.ts");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var C=g.default.PRINT,j=g.default.SEND_TO_MY_PHONE,R=g.default.SHARE,N=(0,p.observer)((b=v=function(e){(0,i.default)(a,e);var t=D(a);function a(e){var l;return(0,s.default)(this,a),(l=t.call(this,e)).nativeShare=void 0,l.identifiedPage=void 0,l.identifyPageComponentIsOn=function(){var e;return"vdp"===l.props.source?"vdp":"map"===l.props.source&&null!==(e=E.default.SearchRequest)&&void 0!==e&&e.selectedDealer?"msMap":"vdpMap"},l.handlePrintBtn=function(e){var t,a;e.preventDefault();var r={pageName:{value:"Find Car - Print Page"},prop2:{value:"Find Car Print Page"},prop3:{value:"Find Car Print Page"},prop4:{value:"Find a Car"},events:{event:"event5,event69"}};if("vdp"===l.props.source)f.default.vdpPrint(l.props.listing),(0,m.trackPage)((0,m.buildProps)(r,["prop40","prop41","prop42","prop50","prop51"],l.props.listing));else if("map"===l.props.source){var n,s;if(null!==(n=E.default.SearchRequest)&&void 0!==n&&n.selectedDealer)f.default.msMapPrint(null===(s=E.default.SearchRequest)||void 0===s?void 0:s.selectedDealer);l.props.listing&&Object.keys(l.props.listing).length&&(f.default.vdpMapPrint(l.props.listing),(0,m.trackPage)((0,m.buildProps)(r,["prop40","prop41","prop42","prop50","prop51"],l.props.listing)))}y.default.pushToDataLayer({event:"uclPrint",siteType:null===(t=E.default.App)||void 0===t?void 0:t.siteType,emailHashed:null===(a=E.default.User)||void 0===a?void 0:a.hashedEmail}),window.print()},l.handlePhoneBtn=function(){var e=(0,m.buildProps)({pageName:{value:"Find Car - Share by Phone Pop Up"},prop2:{value:"Find Car Share by Phone Pop Up"},prop3:{value:"Find Car Share"},prop4:{value:"Find a Car"},events:{value:"event5"}},["prop14"],l.props.listing);if((0,m.trackPage)(e),"vdp"===l.props.source){var t;null===(t=E.default.Modals)||void 0===t||t.setModal("send-to-phone"),f.default.vdpSendPhone(l.props.listing)}else{var a;if((0,w.isDefined)(l.props.address))null===(a=E.default.Modals)||void 0===a||a.openSendMapToPhone(l.props.address);l.props.dealer?f.default.msMapSendPhone(l.props.dealer):"map"===l.props.source&&l.props.listing&&f.default.vdpMapSendPhone(l.props.listing)}},l.handleEmailBtn=function(){var e,t=(0,m.buildProps)({pageName:{value:"Find Car - Share by Email Pop Up"},prop2:{value:"Find Car Share by Email Pop Up"},prop3:{value:"Find Car Share"},prop4:{value:"Find a Car"},events:{value:"event5"}},["prop14"],l.props.listing);(0,m.trackPage)(t),null===(e=E.default.Modals)||void 0===e||e.setModal("send-to-email"),f.default.vdpShare(l.props.listing)},l.showNativeShare=function(){var e=(0,n.default)(r.default.mark((function e(t){var a,n,s,o,i,c,u,d,p,h,v,b,g;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.default.SearchRequest,S.default.prevent(t),"msMap"!==l.identifiedPage){e.next=12;break}if(f.default.shareDealer(null==a?void 0:a.selectedDealer,l.identifiedPage),!l.nativeShare){e.next=10;break}return n=window.location.href.split("?")[0],s="".concat(n,"?partner=UEA_9"),o={title:"".concat(null==a?void 0:a.selectedDealer.label),text:"Check out this Dealer I found on CARFAX",url:"".concat(s)},e.next=10,navigator.share(o).then((function(){f.default.submitShareDealer(null==a?void 0:a.selectedDealer,l.identifiedPage)})).catch((function(e){return console.log("Error sharing",e)}));case 10:e.next=21;break;case 12:if(f.default.shareListing(l.props.listing,l.identifiedPage),(0,m.trackClickEVars)("eVar132","VDP","event260",""),!l.nativeShare){e.next=21;break}return i=window.location.href.split("?")[0],c="".concat(i,"?partner=UEA_9"),u=l.props.listing,d=u.make,p=u.model,h=u.year,v=u.price,b=u.title,g={title:b,text:"Check out this vehicle I found on CARFAX: ".concat(h," ").concat(d," ").concat(p," - ").concat(v.current_price.label," with FREE CARFAX Report."),url:"".concat(c)},e.next=21,navigator.share(g).then((function(){f.default.submitShareListing(l.props.listing,l.identifiedPage)})).catch((function(e){return console.log("Error sharing",e)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.renderShareButtons=function(){var e=E.default.App.isMobile;return e?d.default.createElement("button",{className:"button share share-button--width-47",onClick:l.showNativeShare},d.default.createElement("img",{src:"https://static.carfax.com/uclassets/ABTestImages/ic_share-grey.svg",alt:"",style:{width:"24px",height:"24px"}}),d.default.createElement("span",{className:"share-button__text"},"Share")):d.default.createElement(d.default.Fragment,null,l.renderPhoneButton(),l.props.enableSendToEmailButton?d.default.createElement("button",{className:"button share",onClick:l.handleEmailBtn},e?d.default.createElement("img",{src:"https://static.carfax.com/uclassets/ABTestImages/ic_share-grey.svg",alt:"Send to phone"}):null,R):null,!e||l.props.enablePrintButton?d.default.createElement("button",{className:"button print",onClick:l.handlePrintBtn},e?d.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/icon-Print.png",alt:"Print"}):null,C):null)},l.nativeShare=!1,l.identifiedPage=l.identifyPageComponentIsOn(),l.state={isGeocodingError:!1,foundAddress:"Centerville, VA"},l}return(0,o.default)(a,[{key:"componentDidMount",value:function(){S.default.isClient()&&navigator&&navigator.share&&(this.nativeShare=!0)}},{key:"renderPhoneButton",value:function(){if("vdp"===this.props.source){var e=E.default.App.isMobile,t=e?"https://static.carfax.com/uclassets/images/icon-Mobile-Phone.svg":"https://static.carfax.com/uclassets/images/icon-Phone.png",a=e?d.default.createElement("span",{className:"send-to-phone"},"Send to My Phone"):"Send to My Phone";return d.default.createElement("button",{className:"button phone",onClick:this.handlePhoneBtn},e?d.default.createElement("img",{src:t,alt:"Send to phone"}):null,a)}if("map"===this.props.source)return d.default.createElement("button",{className:"button phone ".concat(this.props.address?"":"share-button-disabled"),onClick:this.handlePhoneBtn},d.default.createElement("i",{className:"fa fa-mobile"}),j)}},{key:"render",value:function(){return d.default.createElement("div",{className:"share-buttons ".concat(this.props.buttonWrapperClass?this.props.buttonWrapperClass:"")},this.props.enableFollowButton?d.default.createElement(_.default,{offImage:!0,listing:this.props.listing,source:this.props.source,buttonSource:"VDP | Action Row"}):null,this.renderShareButtons())}}]),a}(d.default.Component),v.defaultProps={enableSendToPhoneButton:!0,enableSendDirectionToPhoneButton:!0,enableSendToEmailButton:!0,enablePrintButton:!0,enableFollowButton:!0},h=b))||h;t.default=N},"./client/components/VehicleDetails/SnapShot/SnapShot.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),d=l(a("./client/utils/AppUtils.js")),p=l(a("./client/analytics/BeaconHelperApi.js"));a("./client/components/VehicleDetails/SnapShot/SnapShot.scss");var f,m=l(a("./client/language/strings.js")),h=a("./client/utils/utils.ts"),v=l(a("./client/components/VehicleDetails/SnapshotDamageSeverity/SnapshotDamageSeverity.tsx"));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}var g=m.default.CARFAX_SNAPSHOT,y=m.default.VIEW_FREE_CARFAX_REPORT,_=(0,u.inject)("AppStore","UserStore","OptimizelyStore")(f=(0,u.observer)(f=function(e){(0,s.default)(a,e);var t=b(a);function a(){var e;(0,r.default)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleIcrClick=function(t){p.default.vdpICR(e.props.listing);var a=e.props.UserStore.hashedEmail;d.default.pushToDataLayer({event:"uclViewICR",siteType:e.props.AppStore.siteType,emailHashed:a}),window.open(e.props.listing.icrUrl,"_blank")},e}return(0,n.default)(a,[{key:"render",value:function(){var e=this,t=this.props.snapshot.map((function(t,a){var l=e.props.listing.snapshotDamageSeverity,r=0===a&&l,n=r?t.text.replace(/ /g,"&nbsp;").replace(":&nbsp;",": "):t.text;return c.default.createElement("div",{key:"cfx-snapshot-".concat(a),className:"snapshot row align-middle"},c.default.createElement("div",{className:"cfx-snapshot-icon ".concat(t.icon,"--small"),alt:""}),c.default.createElement("div",{className:(0,h.classNames)("column",r&&"damage-severity-snapshot-title"),dangerouslySetInnerHTML:{__html:n}}),r&&c.default.createElement("div",{className:"damage-severity-snapshot-container"},c.default.createElement(v.default,{damageSeverity:l})))}));return c.default.createElement("div",{className:"carfax-snapshot-box"},c.default.createElement("h2",{className:"carfax-snapshot-box__title"},g),t,c.default.createElement("button",{title:this.props.listing.icrUrl,className:"carfax-snapshot-box__button button large",onClick:function(t){return e.handleIcrClick(t)}},y),c.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/carfox-snapshot.jpg",alt:"",className:"interested-carfox"}))}}]),a}(c.default.Component))||f)||f;t.default=_},"./client/components/VehicleDetails/SnapShot/SnapShot.scss":function(e,t,a){},"./client/components/VehicleDetails/SnapshotDamageSeverity/SnapshotDamageSeverity.scss":function(e,t,a){},"./client/components/VehicleDetails/SnapshotDamageSeverity/SnapshotDamageSeverity.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("./client/components/VehicleDetails/SnapshotDamageSeverity/SnapshotDamageSeverity.scss");var r=l(a("./node_modules/react/index.js")),n=l(a("./client/components/VehicleDetails/SnapshotDamageSeverity/damageSeverityPlacementData.ts")),s=function(e){var t=n.default[e.damageSeverity];return!!t&&r.default.createElement("div",{className:"header-severity-container"},r.default.createElement("div",{className:"sev-container"},r.default.createElement("div",{className:"scale-svg-container"},r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 214.08 37.61"},r.default.createElement("defs",null,r.default.createElement("clipPath",{id:"clipper"},r.default.createElement("rect",{id:"clipped",x:t.clipper.x,y:"0.6",width:t.clipper.width,height:"19"})),r.default.createElement("g",{id:"header-severity-hatch",transform:"scale(0.7) rotate(45) translate(-80 -420) scale(1 100)"},r.default.createElement("path",{fill:"#3777BC",d:"m0 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5 m7 0 v7 h5 v-7 h-5z"}))),r.default.createElement("rect",{className:"slider-bar",x:"3.76",y:"4.59",width:"209.7",height:"11.82"}),r.default.createElement("g",null,r.default.createElement("g",{id:"slide-box"},r.default.createElement("rect",{id:"slider-box",width:t.slider.width,height:"20",x:t.slider.x,fill:"white",stroke:"black"}),r.default.createElement("use",{href:"#header-severity-hatch",clipPath:"url(#clipper)"})),r.default.createElement("g",null,r.default.createElement("rect",{id:"white-layer",width:t.slider.width,height:"20",x:t.slider.x,y:t.slider.y}),r.default.createElement("use",{href:"#slide-box"}))),r.default.createElement("text",{className:"slider-bar-text",transform:"translate(2.01 34.36)"},"Minor"),r.default.createElement("text",{className:"slider-bar-text",transform:"translate(82.84 34.36)"},"Moderate"),r.default.createElement("text",{className:"slider-bar-text",transform:"translate(171.48 34.36)"},"Severe")))))};t.default=s},"./client/components/VehicleDetails/VehicleDetails.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./client/analytics/BeaconHelperApi.js")),p=l(a("./client/analytics/SearchTracker.ts")),f=a("./client/analytics/TrackingHelperApi.js"),m=a("./client/utils/constants.ts"),h=a("./client/utils/utils.ts"),v=l(a("./shared/helpers/CookieManager.js")),b=l(a("./shared/helpers/LocalStorageManager.ts")),g=l(a("./shared/helpers/PersistentSearchUtility.js")),y=l(a("./client/utils/utilities.js")),_=l(a("./node_modules/lodash/lodash.js")),S=a("./node_modules/mobx-react/index.module.js"),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=$(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),w=l(a("./config.js")),D=l(a("./client/language/strings.js")),C=l(a("./client/components/Common/Breadcrumbs/Breadcrumbs.jsx")),j=l(a("./client/components/Common/Flag/Flag.jsx")),R=l(a("./client/components/Common/FollowButton/FollowButton.jsx")),N=l(a("./client/components/Common/LocalLoadingIndicator/LocalLoadingIndicator.jsx")),P=l(a("./client/components/Common/MetaData/MetaData.jsx")),O=l(a("./client/components/Common/Pillars/Pillars.jsx")),x=l(a("./client/components/Common/SellMyCarWidget/SellMyCarWidgetContainer.tsx")),k=l(a("./client/components/SearchResults/SimilarVehicles/SimilarVehiclesContainer.tsx")),V=l(a("./client/components/TPSReport/PageLevelReportingData.tsx")),T=a("./client/components/VehicleDetails/ABTests/989.tsx"),M=l(a("./client/components/VehicleDetails/ActionBar/ActionBar.tsx")),B=l(a("./client/components/VehicleDetails/BackToSrp/BackToSrp.jsx")),A=l(a("./client/components/VehicleDetails/Branch/BranchWatcher.tsx")),L=l(a("./client/components/VehicleDetails/Calculator/Calculator.jsx")),I=l(a("./client/components/VehicleDetails/Carousel/Carousel.tsx")),F=l(a("./client/components/VehicleDetails/DealerContact/DealerContact.jsx")),H=l(a("./client/components/VehicleDetails/DealerInfo/DealerInfo.jsx")),q=l(a("./client/components/VehicleDetails/DealerReviews/DealerReviews.jsx")),U=l(a("./client/components/VehicleDetails/Disclaimer/Disclaimer.jsx")),W=l(a("./client/components/VehicleDetails/ImageGallery/ImageGallery.jsx")),z=l(a("./client/components/VehicleDetails/MobileFooterDealerContact/MobileFooterDealerContact.jsx")),G=l(a("./client/components/VehicleDetails/PricePayment/PricePayment.jsx"));a("./client/components/VehicleDetails/VehicleDetails.scss");var J,X,Y,Q=l(a("./client/components/VehicleDetails/VehicleDetailsDataLayer/VehicleDetailsDataLayer.jsx")),K=l(a("./client/components/VehicleDetails/VehicleHeader/VehicleHeader.jsx")),Z=l(a("./client/components/VehicleDetails/VehicleInfo/VehicleInfo.jsx"));function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return($=function(e){return e?a:t})(e)}function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var le=D.default.vehicleDetailsContent,re=D.default.vehicleDetailsTitle,ne=(0,S.inject)("AnalyticsStore","AppStore","DealerContactStore","ErrorStore","ModalStore","OptimizelyStore","SearchRequestStore","SpeedStore","UserStore","VehicleDetailsStore")(J=(0,S.observer)((Y=X=function(e){(0,i.default)(a,e);var t=ae(a);function a(e){var l;if((0,s.default)(this,a),(l=t.call(this,e)).componentDidMount=function(){v.default.setCarouselUUID(),l.props.SearchRequestStore.updatePagination(),"direct"!==l.props.VehicleDetailsStore.vdpPageSource&&p.default.getCurrentSearchUUID()||p.default.newSessionSearchUUID(),l.props.VehicleDetailsStore.setCarouselUUID(v.default.loadCarouselUUID()),l.props.AppStore.landedWithTPEligiblePartnerCode?l.props.SearchRequestStore.setTpData(l.props.SearchRequestStore.results.listings):l.props.SearchRequestStore.setTpData(l.props.VehicleDetailsStore.carouselListings),l.props.OptimizelyStore.activatePage("VDP"),l.props.SearchRequestStore.isEnhancedCpo&&l.props.OptimizelyStore.activatePage("enhancedCpoVdp");l.props.params&&l.props.params.vin,y.default.scrollToTop(350),l.props.VehicleDetailsStore.isNoLongerAvailable?d.default.nlaVdpViews(l.props.SearchRequestStore):d.default.vdpViews(l.props.SearchRequestStore),l.handleOmniture(l.props.SearchRequestStore),l.props.VehicleDetailsStore.visitVDP(),l.props.VehicleDetailsStore.lazyGalleryImages.length||l.props.VehicleDetailsStore.setLazyGalleryImages(_.default.get(l.props.VehicleDetailsStore.selectedVehicle,"images.large",[])),l.props.SearchRequestStore.selectedVehicle.dealer&&l.props.SearchRequestStore.selectedVehicle.dealer.id&&l.props.SearchRequestStore.getDealerReviews(l.props.SearchRequestStore.selectedVehicle.dealer.id),v.default.saveVDPVisitCookie();var e={listing:l.props.SearchRequestStore.selectedVehicle,urlInfo:l.props.SearchRequestStore.searchRequest.urlInfo};b.default.set(m.LOCALSTORAGERECORDS.lastViewedVehicle,e),l.props.SpeedStore.preloadSplitPages("VDP"),"SOLD"===l.props.SearchRequestStore.selectedVehicle.listingStatus&&window.addEventListener("scroll",l.handleScroll,{passive:!0})},l.componentDidUpdate=function(e){l.props.SearchRequestStore.setTpData(l.props.VehicleDetailsStore.carouselListings),l.props.params.vin!==e.params.vin&&(l.props.SearchRequestStore.updatePagination(),l.onUpdate());var t=b.default.get(m.LOCALSTORAGERECORDS.lastViewedVehicle),a=!t,r=t&&t.vin!==l.props.SearchRequestStore.selectedVehicle.vin;(a||r)&&b.default.set(m.LOCALSTORAGERECORDS.lastViewedVehicle,{listing:l.props.SearchRequestStore.selectedVehicle,urlInfo:l.props.SearchRequestStore.searchRequest.urlInfo})},l.onUpdate=function(){l.setState({isMMT_ATOM:!1})},l.handleScroll=function(){var e=document.getElementById("soldBanner");if(e){var t=e.offsetTop,a=l.props.AppStore.isMobile?0:60;window.pageYOffset>t-a?l.setState({soldBannerIsSticky:!0}):l.setState({soldBannerIsSticky:!1})}},l.handleOmniture=function(e){try{var t=e.selectedVehicle.listingStatus?"eVar28":"",a=v.default.loadCustomCookie(w.default.persistentSearchCookieName)?"eVar175":"",r=l.props.VehicleDetailsStore.lastCarouselAction?"eVar167":"",n=["event5","event59"];"ENHANCED"===e.selectedVehicle.recordType?n.push("event50"):n.push("event58");var s="Find Car - Details";l.props.AnalyticsStore.setMostRecentNonModalPageName(s),l.props.VehicleDetailsStore.isNoLongerAvailable&&(n=n.filter((function(e){return"event59"!==e})),s="Find Car - Details - No Longer Available");var o=(0,f.buildProps)({pageName:{value:s},prop2:{value:"Find Car Details"},prop3:{value:"Find Car Details"},prop4:{value:"Find a Car"},prop70:{value:e.selectedVehicle.badge||"No Value"},events:{value:n.join(",")}},["prop25","prop40","prop41","prop42","prop49","prop50","prop51","prop52","prop53","prop57","prop70","eVar79","eVar80",t,r,a,"eVar177"],te(te({},e.selectedVehicle),{},{lastCarouselAction:l.props.VehicleDetailsStore.lastCarouselAction}));l.props.AnalyticsStore.trackVDPPageView(),(0,f.trackPage)(o),l.props.AnalyticsStore.openClosedBranchBanner()}catch(t){l.props.ErrorStore.nrNoticeError(t,{type:"Tracking_VDP_Omniture",vin:_.default.get(e,"selectedVehicle.vin","No VIN")}),"PROD"!==w.default.currentEnv()&&console.error(t)}},l.renderDealerRR=function(){var e=0,t=0,a=l.props.SearchRequestStore.selectedDealer.dealerReviews;return a&&(e=a.ratingSummary.avgRating,t=a.ratingSummary.numberOfReviews),(!!a&&t>=4||e>=3)&&E.default.createElement("section",{className:"small-12 small-no-padding"},E.default.createElement(q.default,{location:"VDP"}))},l.renderCarousel=function(e,t){return E.default.createElement("nav",{className:"cfx-slider-section","aria-label":"Vehicle Carousel"},E.default.createElement(I.default,{key:"cfx-carousel",listings:t,location:l.props.location,vehicle:e}))},l.renderNotAvailableView=function(e,t,a,r){return E.default.createElement("div",{className:"vdp-nla"},E.default.createElement(P.default,{title:t,meta:a}),E.default.createElement(Q.default,{handleOmniture:l.handleOmniture,userStatus:r,listing:e}),E.default.createElement(V.default,{type:"vdp"}),E.default.createElement("section",{className:"not-available-section"},E.default.createElement("div",{className:"row xlarge-no-padding"},E.default.createElement("div",{className:"column small-12 xxlarge-7"},E.default.createElement("div",{className:"vdp-container not-available"},E.default.createElement("div",{className:"not-available-img-wrapper"},E.default.createElement("img",{alt:"not unavailable",className:"not-available-img",src:"https://static.carfax.com/uclassets/images/ucl_photo_removed_by_seller_2.png"})),E.default.createElement("span",{className:"not-available-title"},"No Longer Available"))),E.default.createElement("div",{className:"column small-12 xxlarge-5"},E.default.createElement(G.default,{listing:e,toolTipPosition:"bottom-right",isNoLongerAvailable:l.props.VehicleDetailsStore.isNoLongerAvailable})))),E.default.createElement("section",{className:"row align-center"},E.default.createElement(k.default,{wrapperCss:"srp-list-container--srp column small-12 xlarge-9",titleText:"Check Out These Similar Listings",titleElementType:"h2",maxTotalListings:"5",listings:l.props.SearchRequestStore.results.listings,enableSearchButton:!0})),E.default.createElement("nav",{className:"bc__section__vdp","aria-label":"breadcrumbs"},E.default.createElement("div",{className:"row bc__inner__vdp"},E.default.createElement("div",{className:"column small-12 no-padding"},E.default.createElement(C.default,{breadcrumbs:e.breadCrumbs})))))},l.renderMainContent=function(e,t,a,r,n){var s,o=null===(s=l.props.OptimizelyStore)||void 0===s?void 0:s.fourPillarsActionBar;return E.default.createElement(E.default.Fragment,null,!l.props.AppStore.isMobile&&E.default.createElement("section",{className:"vdp-desktop-view"},"SOLD"===e.listingStatus&&E.default.createElement("div",{className:"sold__banner__vdp".concat(l.state.soldBannerIsSticky?" sold__banner__vdp--sticky":""),id:"soldBanner"},"Vehicle Sold"),E.default.createElement(K.default,{listing:e,isFollow:e.following})),E.default.createElement("section",{className:"row small-collapse large-uncollapse main-section"},E.default.createElement("div",{className:"column small-12 column-wrapper"},E.default.createElement("div",{className:"left-col column small-12 xlarge-6 xxlarge-7 no-padding print-row"},E.default.createElement("div",{className:"column small-12 small-no-padding relative"},E.default.createElement("div",{className:"vdp-container"},E.default.createElement(j.default,{type:"vdp-item",flag:e.listingStatus,legal:t}),e.images.firstPhoto?E.default.createElement(W.default,{mainPhotoClassName:"photo-gallery-item open-modal image-gallery-first-photo",isMainGallery:!0,isSlider:!0,lazyLoad:!0,soldBannerIsSticky:l.state.soldBannerIsSticky}):E.default.createElement("div",{className:"photo-gallery"},E.default.createElement(j.default,{type:"vdp-item",flag:e.listingStatus,legal:t}),E.default.createElement(R.default,{source:"vdp",listing:e}),E.default.createElement("div",{className:"vdp-image-gallery-wrapper"},E.default.createElement("img",{className:"vdp-noimage",src:"https://static.carfax.com/uclassets/images/vdp-noimage.png",alt:""})),"SOLD"===e.listingStatus&&l.props.AppStore.isMobile&&E.default.createElement("div",{className:(0,h.classNames)("sold__banner__vdp",l.state.soldBannerIsSticky&&"sold__banner__vdp--sticky"),id:"soldBanner"},"Vehicle Sold")),l.props.AppStore.isMobile?E.default.createElement(E.default.Fragment,null,E.default.createElement(T.CXDUE989Strip,{variant:o,listing:e,onClick:function(e){e.preventDefault(),l.props.ModalStore.setModal("vdp-pillars-modal"),l.props.OptimizelyStore.trackEvent("Action - Accordion-Modal open click",{directCall:!0})}}),E.default.createElement(M.default,{listing:e})):E.default.createElement(O.default,{listing:e,showToolTip:!0,smallIcons:!0,isVDP:!0}))),E.default.createElement("div",{className:"column small-12 small-no-padding hide-for-xlarge print-row"},!l.props.AppStore.isMobile&&E.default.createElement(K.default,{listing:e,isFollow:a,user:l.props.UserStore}),E.default.createElement(G.default,{listing:e}),"SOLD"!==e.listingStatus&&E.default.createElement(F.default,{listing:e,source:"vdp",id:"1"})),E.default.createElement(Z.default,{listing:e,isMMT_ATOM:l.state.isMMT_ATOM})),E.default.createElement("div",{className:"right-col column small-12 xlarge-6 xxlarge-5 no-padding print-row"},"SOLD"!==e.listingStatus&&E.default.createElement("div",{className:"column small-12 show-for-xlarge"},E.default.createElement(F.default,{listing:e,source:"vdp",id:"2"})),E.default.createElement("div",{className:(0,h.classNames)("ENHANCED"===e.recordType?"column small-12 small-no-padding":"hide")},r),E.default.createElement("div",{className:"column small-12 show-for-xlarge"},E.default.createElement(G.default,{listing:e,toolTipPosition:"bottom-right"})),l.props.SearchRequestStore.displaySMC_VDP&&E.default.createElement("div",{className:"column small-12 vdpSMC"},E.default.createElement(x.default,{expand:!0,widgetType:"SMC Widget",widgetLocation:"Right Rail",pageType:"VDP"})),E.default.createElement("div",{className:"column small-12 small-no-padding"},n)),l.renderDealerRR())),E.default.createElement("section",{className:"row"},E.default.createElement("div",{className:"column small-12 vdp__disclaimer__wrapper"},E.default.createElement(U.default,{listing:e,isMobile:l.props.AppStore.isMobile}))))},l.state={vehicleHeader:0,soldBannerIsSticky:!1,isMMT_ATOM:!1},y.default.isClient()){var r=v.default.loadCustomCookie(w.default.persistentSearchCookieName);r&&_.default.includes(r.seoTest,"MMT_ATOM")&&(l.state.isMMT_ATOM=!0,delete r.seoTest,g.default.save(r))}return l}return(0,o.default)(a,[{key:"componentWillUnmount",value:function(){"SOLD"===this.props.SearchRequestStore.selectedVehicle.listingStatus&&window.removeEventListener("scroll",this.handleScroll),this.props.AnalyticsStore.closeBranchBanner()}},{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedVehicle,t=this.props.VehicleDetailsStore.carouselListings;if(_.default.isEmpty(e))return!1;if("undefined"!=typeof window&&this.props.AppStore.loadingCSS)return E.default.createElement("div",{style:{width:"100%",height:"1080px"}},E.default.createElement(N.default,{style:{marginTop:this.props.AppStore.isMobile?"250px":"350px",marginBottom:"800px",textAlign:"center",color:"#1976D2"}}),E.default.createElement(I.default,{key:"cfx-carousel",location:this.props.location,vehicle:e,style:{display:"none"}}));var a=!!e.following,l="ENHANCED"===e.recordType?E.default.createElement(H.default,{listing:e}):"",r=e.vin,n=e.title,s=e.dealer.location,o=s.city,i=s.state,c=re(r,n,o,i),u=!1!==e.dealer.showPriceHistory,d=[{name:"pageTitle",itemprop:"name",content:c},{name:"description",content:le(n)},{name:"robots",content:"noindex"}],p=e.price.current_price.value<5e3?"":E.default.createElement(L.default,{listing:e}),f=this.props.DealerContactStore.shouldShowMobileContactFooter?E.default.createElement(z.default,{listing:e,user:this.props.UserStore}):null,m=E.default.createElement("nav",{className:"bc__section__vdp","aria-label":"breadcrumbs"},E.default.createElement("div",{className:"row bc__inner__vdp"},E.default.createElement("div",{className:"column small-12 no-padding"},E.default.createElement(C.default,{breadcrumbs:e.breadCrumbs}))));return this.props.VehicleDetailsStore.isNoLongerAvailable?this.renderNotAvailableView(e,c,d,this.props.UserStore.userStatus):E.default.createElement("div",{className:"vdp"},E.default.createElement(P.default,{title:c,meta:d}),E.default.createElement(Q.default,{handleOmniture:this.handleOmniture,userStatus:this.props.UserStore.userStatus,listing:e}),E.default.createElement(A.default,{vin:e.vin}),E.default.createElement("div",{className:"small-12"},E.default.createElement(V.default,{type:"vdp"})),E.default.createElement("div",{className:"small-12"},E.default.createElement("nav",{"aria-label":"Back To Search Results"},E.default.createElement(B.default,{location:this.props.location}))),this.renderCarousel(e,t),E.default.createElement("main",null,this.renderMainContent(e,u,a,l,p)),m,f)}}]),a}(E.Component),X.defaultProps={params:{},selectedVehicle:{dealer:{location:{}}},UserStore:{}},J=Y))||J)||J;t.default=ne},"./client/components/VehicleDetails/VehicleDetails.scss":function(e,t,a){},"./client/components/VehicleDetails/VehicleDetailsDataLayer/VehicleDetailsDataLayer.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),f=l(a("./node_modules/lodash/lodash.js")),m=l(a("./client/utils/AppUtils.js")),h=l(a("./client/analytics/BeaconHelperApi.js")),v=l(a("./client/components/VehicleDetails/VehicleDetailsDataLayer/clarivoy-dealer-list.js")),b=l(a("./shared/helpers/CookieManager.js"));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}var S=(0,p.inject)("SearchRequestStore","UserStore","AppStore","SearchParamStore")(r=(0,p.observer)(r=function(e){(0,i.default)(a,e);var t=_(a);function a(){var e;(0,s.default)(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).componentDidUpdate=function(t){if("pending"===t.userStatus&&"pending"!==e.props.userStatus)e.handleDataLayer(t.listing);else if(t.listing.vin!==e.props.listing.vin){try{h.default.vdpViews(y({},e.props.SearchRequestStore))}catch(a){t.ErrorStore.nrNoticeError(a,{type:"Tracking_VDP_Beacon",vin:e.props.listing.vin||"No VIN"}),console.error(a)}try{e.handleDataLayer(e.props.listing)}catch(a){t.ErrorStore.nrNoticeError(a,{type:"Tracking_VDP_DataLayer",vin:e.props.listing.vin||"No VIN"}),console.error(a)}try{e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){t.handleOmniture(t.SearchRequestStore),e.timeout=null}),1e3)}catch(a){t.ErrorStore.nrNoticeError(a,{type:"Tracking_VDP_Omniture",vin:e.props.vin||"No VIN"}),console.error(a)}}},e.handleDataLayer=function(t){var a="NEW"===e.props.SearchRequestStore.selectedVehicle.dealerType?"DN":"DU",l=t.dealer.location?t.dealer.location.zip:0,r=t.listPrice,n=b.default.getDataLayerCookie();m.default.pushToDataLayer({event:"siteWide",pageState:"Find Car Details",pageTier:"Find a Car",siteType:e.props.AppStore.siteType,emailHashed:e.props.UserStore.hashedEmail,vin:t.vin,make:t.make,model:t.model,body:t.bodytype,dzip:l,price:r,year:"".concat(t.year),dClass:a||"",cldl:f.default.includes(v.default,t.dealer.id)?t.dealer.id:"",emailHashed256:n&&n.emailHashed256?n.emailHashed256:null,fname:n&&n.fname?n.fname:null,lname:n&&n.lname?n.lname:null,hzip:n&&n.hzip?n.hzip:null,pno:n&&n.pno?n.pno:null})},e}return(0,o.default)(a,[{key:"render",value:function(){return null}}]),a}(d.default.Component))||r)||r;t.default=S},"./client/components/VehicleDetails/VehicleDetailsDataLayer/clarivoy-dealer-list.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=["V6HTL0P151","Q0QPJ8H001","RFQZMLUD51","50QAZCT001","05HJBNUMX1","61RY1RT001","Z0MO4XF001","FVGG6NE001","ZSR04B0E53","ACKGREB001","JX3CLU9T21","8Y195WRZY1","ZBUU0TW001","BOUHVU5XT1","HAJUQBZ791","IDQ1RFEXBC","9JDSX0F001","T7EE2ZOHG1","2NR9O5M521","YHKGH0L001","J3E11OB001","6J0ULET791","FFKVOJY001","69GTR0H001","TCYNJPV001","X05G82S4F1","XMOWQQN001","5H3Y7HMMI1","WEKPHQB001","WHDZV4X001","9ATGTJL001","O27G6CFGOV","FB6Y4Y3001","HYJ7LUO001","24MTGWX001","D5E09OB001","3PCXENRM51","A06RGC4001","36R5DML001","MYOPEHPUX1"];t.default=l},"./client/components/VehicleDetails/VehicleHeader/VehicleHeader.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(l,s,o):l[s]=e[s]}l.default=e,a&&a.set(e,l);return l}(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),p=l(a("./client/stores/stores.ts")),f=l(a("./client/components/VehicleDetails/VehicleTitle/VehicleTitle.jsx")),m=l(a("./client/components/VehicleDetails/ShareButtons/ShareButtons.tsx")),h=l(a("./client/components/Common/CPOTooltip/CPOTooltip.tsx")),v=l(a("./client/components/VehicleDetails/Value/Value.tsx"));a("./client/components/VehicleDetails/VehicleHeader/VehicleHeader.scss");var b,g,y,_=l(a("./client/language/strings.js"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}var w=_.default.makeCertifiedPreOwned,D=_.default.numMiles,C=_.default.stockNum,j=_.default.badgeValue,R=_.default.REQUEST_QUOTE,N=_.default.CALL_FOR_PRICE,P=(0,d.inject)("AppStore","UserStore","OptimizelyStore")(b=(0,d.observer)((y=g=function(e){(0,o.default)(a,e);var t=E(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"render",value:function(){var e=this.props.AppStore.isMobile,t=this.props.listing,a=t.backfill?R:N,l=0===t.price.current_price.value?a:t.price.current_price.label,r="TX"===t.dealer.location.state,n=u.default.createElement(u.default.Fragment,null,t.badge?u.default.createElement("span",{className:"vehicle-header__value-label ".concat(t.badge.toLowerCase(),"-value")},j(t.badge)):"",u.default.createElement("span",{className:"vehicle-header__price"},l),!r&&t.badge?u.default.createElement("span",{className:"vehicle-header__value-icon"},u.default.createElement(v.default,{listing:t,isIconInHeader:!0,stores:p.default})):"");return u.default.createElement("div",{className:"vehicle-header ".concat(e?"":"vehicle-header--desktopHeader")},u.default.createElement("div",{className:"vehicle-header__topContainer".concat(e?" vehicle-header__topContainer--mobile":""," row")},u.default.createElement("div",{className:"column small-10 xlarge-10 xxlarge-6"},u.default.createElement(f.default,{listing:t})),u.default.createElement("div",{className:"column small-12 xlarge-7 hide-for-xlarge vehicle-subHeader"},u.default.createElement("span",{className:"vehicle-title-mileage"},D(t.mileage.label)),u.default.createElement("span",{className:"vehicle-title-stock".concat(t.stockNumber?" show":" hide")},C(t.stockNumber)),t.certified?u.default.createElement("div",{className:"vehicle-title-cpo-wrapper"},u.default.createElement("span",{className:"vehicle-title-cpo"},w(t.make)),u.default.createElement(h.default,{linkTrackEvent:"event246",eventName:"CPO VDP Tooltip",type:3,listing:t,pageType:"VDP",make:t.make})):""),u.default.createElement("div",{className:"column small-12 xlarge-12 xxlarge-6 share__buttons__wrapper"},u.default.createElement(m.default,{source:"vdp",listing:t}))),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"column xlarge-7 show-for-xlarge vehicle-subHeader"},n,u.default.createElement("span",{className:"vehicle-title-mileage vehicle-title-mileage--desktopHeader"},D(t.mileage.label)),u.default.createElement("span",{className:"vehicle-title-stock vehicle-title-stock--desktopHeader".concat(t.stockNumber?" show":" hide")},C(t.stockNumber)),t.certified?u.default.createElement(u.default.Fragment,null,u.default.createElement("span",{className:"vehicle-title-cpo vehicle-title-cpo--desktopHeader"},w(t.make)),u.default.createElement(h.default,{linkTrackEvent:"event246",eventName:"CPO VDP Tooltip",type:3,listing:t,pageType:"VDP",make:t.make})):"")))}}]),a}(u.Component),g.defaultProps={listing:{mileage:{}}},b=y))||b)||b;t.default=P},"./client/components/VehicleDetails/VehicleHeader/VehicleHeader.scss":function(e,t,a){},"./client/components/VehicleDetails/VehicleHistoryList/VehicleHistoryList.scss":function(e,t,a){},"./client/components/VehicleDetails/VehicleHistoryList/VehicleHistoryList.tsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=l(a("./node_modules/react/index.js"));function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,i.default)(e);if(t){var r=(0,i.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,o.default)(this,a)}}a("./client/components/VehicleDetails/VehicleHistoryList/VehicleHistoryList.scss");var d=function(e){(0,s.default)(a,e);var t=u(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,n.default)(a,[{key:"render",value:function(){var e=this.props.history.map((function(e,t){return e&&void 0!==e.text&&void 0!==e.icon&&null!==e.iconUrl?c.default.createElement("li",{key:"vehicleHistoryList-item-".concat(t),className:"vehicleHistoryList-item"},c.default.createElement("span",{className:"vehicleHistoryList-item-icon ".concat(e.icon,"--small")}),c.default.createElement("span",{className:"vehicleHistoryList-item-text"},e.text)):""}));return c.default.createElement("ul",{className:"vehicleHistoryList-list"},e)}}]),a}(c.default.PureComponent);t.default=d},"./client/components/VehicleDetails/VehicleInfo/VehicleInfo.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/react/index.js")),n=l(a("./client/components/VehicleDetails/InfoTable/InfoTable.tsx")),s=l(a("./client/components/VehicleDetails/Cpo/CpoInfo.jsx")),o=l(a("./client/components/VehicleDetails/FeatureList/FeatureList.jsx")),i=l(a("./client/components/VehicleDetails/Description/Description.jsx")),c=l(a("./client/components/VehicleDetails/SnapShot/SnapShot.jsx"));a("./client/components/VehicleDetails/VehicleInfo/VehicleInfo.scss");var u=l(a("./client/language/strings.js")).default.VEHICLE_INFO,d=function(e){var t=e.listing,a=e.isMMT_ATOM,l="ENHANCED"===t.recordType?r.default.createElement(i.default,{description:t.sellerComments}):null;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"column small-12 small-no-padding print-row"},r.default.createElement("div",{className:"vdp-container vdp-info"},r.default.createElement("div",{className:"vdp-container-inner"},r.default.createElement("div",{className:"vdp-container-header"},r.default.createElement("h2",{className:"vdp-container-title"},u)),r.default.createElement("div",{className:"vdp-container-body"},r.default.createElement(n.default,{listing:t}))))),t.cpoData&&t.cpoData.id>0?r.default.createElement("div",{className:"column small-12 small-no-padding"},r.default.createElement("div",{className:"vdp-container vdp-info"},r.default.createElement("div",{className:"vdp-container-inner"},r.default.createElement("div",{className:"vdp-container-body"},r.default.createElement(s.default,{additionalCSS:{header:"vdp-container-header",title:"vdp-container-title",list:"cpo-info-list",listItem:"cpo-info-item"},listing:t}))))):null,r.default.createElement("div",{className:"column small-12 small-no-padding"},r.default.createElement("div",{className:"vdp-container vdp-info"},r.default.createElement("div",{className:"vdp-container-inner"},r.default.createElement("div",{className:"vdp-container-body"},r.default.createElement(o.default,{topOptions:a?t.atomTopFeatures:t.topFeatures,otherOptions:a?t.atomFeatures:t.features}))))),"ENHANCED"===t.recordType&&""!==t.sellerComments?r.default.createElement("div",{className:"column small-12 small-no-padding"},r.default.createElement("div",{className:"vdp-container vdp-info"},r.default.createElement("div",{className:"vdp-container-inner"},r.default.createElement("div",{className:"vdp-container-body"},l)))):null,r.default.createElement("div",{className:"column small-12 small-no-padding"},r.default.createElement("div",{className:"vdp-container vdp-info vdp-info--snapshot"},r.default.createElement("div",{className:"vdp-container-inner vdp-container-inner--no-padding-bot vdp-container-inner--snapshot"},r.default.createElement("div",{className:"vdp-container-body"},r.default.createElement(c.default,{listing:t,snapshot:t.snapshot}))))))};t.default=d},"./client/components/VehicleDetails/VehicleInfo/VehicleInfo.scss":function(e,t,a){},"./client/components/VehicleDetails/VehicleTitle/VehicleTitle.jsx":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/react/index.js"));a("./client/components/VehicleDetails/VehicleTitle/VehicleTitle.scss");var n=function(e){var t=e.listing,a=void 0===t?{}:t;return r.default.createElement("div",{className:"vehicle-title-container"},r.default.createElement("h1",{className:"vehicle-title",id:"_automation_test_VDP_h1"},"".concat(a.title).concat(a.subTrim?" ".concat(a.subTrim):"")))};t.default=n},"./client/components/VehicleDetails/VehicleTitle/VehicleTitle.scss":function(e,t,a){},"./client/hooks/usePrevious.ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a("./node_modules/react/index.js"),r=function(e){var t=(0,l.useRef)(e);return(0,l.useEffect)((function(){t.current=e}),[e]),t.current};t.default=r},"./client/services/branch.ts":function(e,t,a){"use strict";var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.isBranchIframeInDocument=t.openBranchJourney=t.closeBranchJourney=t.waitForBranch=t.BranchServiceError=void 0;var r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),s=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),o=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),i=l(a("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js")),c=a("./client/utils/utils.ts");function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,s.default)(this,a)}}var d=function(e){(0,n.default)(a,e);var t=u(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return a}((0,i.default)(Error));t.BranchServiceError=d;t.waitForBranch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return new Promise((function(t,a){if((0,c.isDefined)(window.branch))t(window.branch);else{var l=Date.now();window.requestAnimationFrame((function r(){var n=Date.now()-l;(0,c.isDefined)(window.branch)?t(window.branch):n>=e?a(new d("Branch not loaded after ".concat(e,"ms"))):window.requestAnimationFrame(r)}))}}))};t.closeBranchJourney=function(){return new Promise((function(e,t){(0,c.isDefined)(window.branch)?window.branch.closeJourney((function(a){a?t(a):e()})):t(new d("Branch not loaded."))}))};t.openBranchJourney=function(){if(!(0,c.isDefined)(window.branch))throw new d("Branch not loaded.");p()||window.branch.track("pageview")};var p=function(){return!!document.getElementById("branch-banner-iframe")};t.isBranchIframeInDocument=p}}]);