(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[3],{"./client/components/Common/FormValidationHOC/FormValidationHOC.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/extends.js")),n=r(a("./node_modules/@babel/runtime/helpers/typeof.js")),o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(a("./node_modules/react/index.js")),p=r(a("./client/components/Common/FormValidationHOC/validationRules.js"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.default)(e);if(t){var l=(0,u.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var f=function(e){var t,a;return a=t=function(t){(0,i.default)(r,t);var a=m(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).handleIsValid=function(){return Object.keys(t.state.errors).length?(t.setState({isValid:!1,displayErrors:"show"}),!1):(t.setState({isValid:!0}),!0)},t.handleValidateForm=function(e,a){var r=e;t.setState({isFormSubmit:!0,isValid:!1}),Object.keys(r).forEach((function(e){var l=e,n=r[e];t.handleValidator(l,n,a)})),t.setState({isFormSubmit:!1})},t.handleErrorClass=function(e){var a=t.state.errors,r="";return Object.keys(a).length&&Object.keys(a).forEach((function(t){t===e&&(r="is-invalid-input")})),r},t.handleValidator=function(e,a,r){var l=!1,o=t.state.errors,s=p.default;r&&(s=Object.assign({},s,r)),Object.keys(s).forEach((function(t){var r=s[t];t===e&&(Object.prototype.hasOwnProperty.call(o,e)&&delete o[e],r.forEach((function(t){l=t.rule(a),"object"===(0,n.default)(l)&&l.hint?o[e]=l.hint:l&&!o[e]&&(o[e]=t.hint)})))})),t.setState({errors:o},(function(){t.handleIsValid()}))},t.renderValidationHints=function(e){var a,r=e||t.state.errors;if(Object.keys(r).length){var l=Object.keys(r).map((function(e,t){return a===r[e]?null:(a=r[e],d.default.createElement("li",{key:t},r[e]))}));return d.default.createElement("ul",null,l)}return null},t.state={errors:{},displayErrors:"hide",isValid:!1},t}return(0,s.default)(r,[{key:"render",value:function(){return d.default.createElement(e,(0,l.default)({isValid:this.handleIsValid,validateForm:this.handleValidateForm,errorClass:this.handleErrorClass,validateElements:this.handleValidator,validateState:this.state,renderValidationHints:this.renderValidationHints},this.props))}}]),r}(d.default.Component),t.displayName="FormValidationHOC",a};t.default=f},"./client/components/Common/FormValidationHOC/validationRules.js":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./node_modules/validator/lib/isEmpty.js")),n=r(a("./node_modules/validator/lib/isAlphanumeric.js")),o=r(a("./node_modules/validator/lib/blacklist.js")),s=r(a("./node_modules/validator/lib/isEmail.js")),i=r(a("./node_modules/validator/lib/isLength.js")),c=r(a("./client/utils/utilities.js")),u={firstName:[{rule:function(e){return(0,l.default)(e)},hint:"First name is required!"},{rule:function(e){return!(0,n.default)((0,o.default)(e," "))},hint:"First name field is invalid!"}],lastName:[{rule:function(e){return(0,l.default)(e)},hint:"Last name is required!"},{rule:function(e){return!(0,n.default)((0,o.default)(e," "))},hint:"Last name field is invalid!"}],email:[{rule:function(e){return(0,l.default)(e)},hint:"Email is required!"},{rule:function(e){return e&&!(0,s.default)(e)},hint:"Email is invalid!"}],zip:[{rule:function(e){return void 0===e||(0,l.default)(e)},hint:"Zip is required!"},{rule:function(e){return!c.default.validateZip(e)},hint:"Zip is invalid!"}],phone:[{rule:function(e){return e&&!c.default.validatePhone(e)},hint:"Phone is invalid!"}],screenName:[{rule:function(e){return(0,l.default)(e)},hint:"First name is required!"},{rule:function(e){return!(0,n.default)((0,o.default)(e," "))},hint:"First name is invalid!"}],globalRating:[{rule:function(e){return(0,l.default)(e)},hint:"Rating is required!"}],globalTitle:[{rule:function(e){return(0,l.default)(e)},hint:"Title is required!"},{rule:function(e){return!(0,n.default)((0,o.default)(e," "))},hint:"Title is invalid!"}],globalReview:[{rule:function(e){return(0,l.default)(e)},hint:"Review is required!"},{rule:function(e){return!(0,i.default)(e,25)},hint:"Review is too short!"}],make:[{rule:function(e){return(0,l.default)(e)},hint:"Make is required!"}],model:[{rule:function(e){return(0,l.default)(e)},hint:"Model is required!"}],year:[{rule:function(e){return(0,l.default)(e.toString())},hint:"Year is required!"}]};t.default=u},"./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),m=r(a("./client/utils/utilities.js"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.default)(e);if(t){var l=(0,u.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.scss");var v=(0,p.inject)("SearchRequestStore")(n=(0,p.observer)(n=function(e){(0,i.default)(a,e);var t=h(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedVehicle;return d.default.createElement("div",{className:"vehicle-card"},d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"small-4 column"},d.default.createElement("img",{src:m.default.checkProperty(e,"images.firstPhoto.small")?e.images.firstPhoto.small:"https://static.carfax.com/uclassets/images/srp-noimage.png",alt:""})),d.default.createElement("div",{className:"small-8 column relative"},d.default.createElement("div",{className:"row"},d.default.createElement("span",{className:"cd-listing-title column small-12"},e.title),d.default.createElement("span",{className:"cd-listing-mileage column small-12"},e.mileage?e.mileage.label:0," miles"),d.default.createElement("span",{className:"cd-listing-price column small-12"},e.price?e.price.current_price.label:0)))))}}]),a}(d.Component))||n)||n;t.default=v},"./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContact.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n,o,s=r(a("./node_modules/@babel/runtime/regenerator/index.js")),i=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),p=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=r(a("./node_modules/react/index.js")),v=r(a("./node_modules/prop-types/index.js")),b=a("./node_modules/mobx-react/index.module.js"),C=r(a("./node_modules/crypto-js/index.js")),g=r(a("./client/utils/AppUtils.js")),y=r(a("./shared/services/ConversionServices.js")),S=r(a("./shared/helpers/CookieManager.js")),j=a("./client/analytics/TrackingHelperApi.js"),E=r(a("./client/analytics/BeaconHelperApi.js")),D=r(a("./client/utils/Auth.ts")),_=a("./client/utils/transforms.ts"),k=a("./client/utils/constants.ts"),N=r(a("./client/utils/utilities.js")),x=r(a("./shared/services/CagClient.js")),w=r(a("./shared/services/UserServices.js")),O=r(a("./client/stores/stores.ts")),P=r(a("./client/components/VehicleDetails/DealerContact/DealerContactHeader.tsx")),F=r(a("./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.jsx")),R=r(a("./client/components/VehicleDetails/DealerContact/DealerContactHocEntry.jsx")),V=r(a("./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.jsx"));function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var l=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}a("./client/components/VehicleDetails/DealerContact/DealerContact.scss");var A=(0,b.inject)("AppStore","SearchRequestStore","AnalyticsStore","UserStore","DealerContactStore","ModalStore","OptimizelyStore","VehicleDetailsStore")(l=(0,b.observer)((o=n=function(e){(0,p.default)(a,e);var t=T(a);function a(e){var r;return(0,u.default)(this,a),(r=t.call(this,e)).fireOmnitureLeadLimit=function(){var e=(0,j.buildProps)({pageName:{value:"Find Car - Details - Contact Seller Unsuccessful"},prop2:{value:"Find Car Details Contact Seller Unsuccessful"},prop3:{value:"Find Car Lead Thank You"},prop4:{value:"Find a Car"},events:{event:"event5,event187"}},["pageName","prop49","prop50","prop51","prop58"],r.props.SearchRequestStore.selectedVehicle);(0,j.trackPage)(e)},r.formSubmit=function(){var e=(0,c.default)(s.default.mark((function e(t){var a,l,n,o,i,c,u,d;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,l=r.props.SearchRequestStore.selectedVehicle,n="photo"===r.props.source?"Lightbox | Email Lead Form":"vmRedesignCheckAvailability"===r.props.source?"SRP | Email Lead Form":"VDP | Email Lead Form",(0,j.trackClickEVars)("eVar132",n,"event63",""),r.props.DealerContactStore.setFormData(t),r.props.DealerContactStore.clearListings(),r.props.UserStore.setName(t.firstName,t.lastName),t.phone&&r.props.UserStore.setPhone(t.phone),e.prev=8,!t.email||x.default.getAuthUserCookie()){e.next=19;break}return e.next=12,D.default.signUpAndAuthorize(t.email);case 12:return o=e.sent,i=M({email:t.email},t&&t.zip&&{zip:t.zip}),e.next=16,w.default.verifyAccount(i);case 16:throw 201===e.sent.status&&(c=(0,_.transformOAuthTokenResultToUserInfo)(o,t.email),r.props.UserStore.login(c)),new Error("Problem on dealer lead new account creation");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),e.t0.code&&"user_exists"===e.t0.code?a=!0:r.setState({errorMessage:k.errorMessages.system.general});case 25:return e.prev=25,u=r.props.UserStore.id||0,a&&(t.userExistsNotLoggedIn=!0),d=(0,_.transformFormDataAndListingIntoFormLeadInfo)(t,l,u),r.submitDealerLeadRequest(d,l),e.finish(25);case 31:case"end":return e.stop()}}),e,null,[[8,21,25,31]])})));return function(t){return e.apply(this,arguments)}}(),r.submitDealerLeadRequest=function(e,t,a){e.note=y.default.appendCheckboxesComments(e),r.props.UserStore.setDataLayerAttributes(e);var l=e.email?C.default.MD5(e.email):r.props.UserStore.hashedEmail;y.default.sendDealerLead(e).then((function(n){if(r.props.UserStore.authToken){var o=r.props.UserStore.id;r.props.UserStore.getProfile(o),r.props.SearchRequestStore.setFollows([e.listingId,"post"]);var s=S.default.loadUserCookieData();S.default.saveUserCookie(r.props.UserStore.id,r.props.UserStore.email,s.api,s.expiresIn)}if(422===n.status&&(r.setState({leadLimit:!0}),r.fireOmnitureLeadLimit()),422!==n.status&&!r.state.leadLimit){var i;switch(r.props.source){case"vdp":i=["Find Car - Details - Contact Seller Thank You","Find Car Details Contact Seller Thank You"];break;case"photo":i=["Find Car - Photo Lightbox - Contact Seller Thank You","Find Car Details Contact Seller Thank You"];break;case"icr":i=["Find Car - ICR - Contact Seller Thank You","Find Car ICR Contact Seller Thank You"];break;default:i=["".concat(r.props.isSecondaryActionVariation?"Find Car - Modal - Contact Seller Thank You":"Find Car - Details - Contact Seller Thank You"),"".concat(r.props.isSecondaryActionVariation?"Find Car Modal Contact Seller Thank You":"Find Car Details Contact Seller Thank You")]}r.props.VehicleDetailsStore.setLeadFormSubmitSource(r.props.source);var c=(0,j.buildProps)({pageName:{value:i[0]},prop2:{value:i[1]},prop3:{value:"Find Car Lead Thank You"},prop4:{value:"Find a Car"},events:{event:"event5,event55,event111,event313"},prop70:{value:r.props.SearchRequestStore.selectedVehicle.badge||"No Value"}},[].concat(["pageName","prop25","prop40","prop41","prop42","prop49","prop50","prop51","prop57","prop58","prop70","eVar28","eVar93","eVar132"]),M(M({},r.props.SearchRequestStore.selectedVehicle),{},{listingStatus:r.props.SearchRequestStore.selectedVehicle.listingStatus||"Unspecified"}));(0,j.trackPage)(c),r.props.VehicleDetailsStore.setMobileLeadFormSource(""),r.props.VehicleDetailsStore.setFollowButtonSource(""),"icr"===r.props.source?E.default.icrLeadSubmit(e):E.default.vdpLeadSubmit(e),r.props.AnalyticsStore.trackEmailLead(),r.props.AnalyticsStore.trackFollowCar();var u=t.vin+l,d=t.dealer.location?t.dealer.location.zip:0,p=S.default.getDataLayerCookie();g.default.pushToDataLayer({event:"uclEmailLead",pageState:c?c.prop2:c,pageTier:c?c.prop4:c,siteType:r.props.AppStore.siteType,emailHashed:l,vin:t.vin,year:"".concat(t.year),make:t.make,model:t.model,dzip:d,transactionId:u,price:t.listPrice,emailHashed256:p&&p.emailHashed256?p.emailHashed256:null,fname:p&&p.fname?p.fname:null,lname:p&&p.lname?p.lname:null,hzip:p&&p.hzip?p.hzip:null,pno:p&&p.pno?p.pno:null});var m=n.data.listings||n.data.uclSearchResponse.listings;r.props.DealerContactStore.setResponse(m)}a&&a()})).catch((function(e){console.log(e),a&&a()})),r.props.DealerContactStore.setDisableFormButton(!1),r.props.SearchRequestStore.setSentMessage()},r.state={leadLimit:!1},r}return(0,d.default)(a,[{key:"componentDidMount",value:function(){O.default.Optimizely.activatePage("user-authentication")}},{key:"componentWillUnmount",value:function(){this.props.ModalStore.setCheckAvailabilityForm(!1)}},{key:"render",value:function(){if("icr"===this.props.source&&"SOLD"===this.props.VehicleDetailsStore.selectedVehicle.listingStatus)return null;var e=this.props.SearchRequestStore.selectedVehicle;"undefined"!=typeof window?N.default.getCurrentPageType():this.props.source;return h.default.createElement("div",{className:"vdp-container dealer-contact-wrapper"},h.default.createElement("div",{className:"dealer-contact-wrapper-inner ".concat("followModal"===this.props.source?"dealer__contact__wrapper__inner--postFollow":""," ").concat("vmRedesignCheckAvailability"===this.props.source?"dealer__contact__wrapper__inner__vmredesign":"")},h.default.createElement("div",{className:"dealer-contact-header"},h.default.createElement(P.default,{containerClassName:"dealer-contact-header-inner",source:this.props.source})),h.default.createElement("div",{className:"dealer-contact-body"},h.default.createElement(R.default,{formSubmit:this.formSubmit,isVisible:e.sentLead?"hide":"show",source:this.props.source,id:this.props.id}),h.default.createElement(F.default,{formData:this.props.DealerContactStore.formData,storedFormData:this.props.DealerContactStore.storedFormData,similarListings:this.props.DealerContactStore.similarListings,source:this.props.source,isVisible:e.sentLead?"show":"hide",leadLimit:this.props.DealerContactStore.leadLimit||this.state.leadLimit})),e.sentLead&&!this.props.AppStore.isMobile?"":h.default.createElement("div",{className:"dealer-contact-footer"},"I agree to receive autodialed and/or prerecorded telemarketing calls/texts from or on behalf of CARFAX and/or seller at the mobile number provided above. I understand that consent is not a condition of purchase. I agree to creating an account subject to the"," ",h.default.createElement("a",{href:"https://www.carfax.com/company/privacy-statement",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","&"," ",h.default.createElement("a",{href:"https://www.carfax.com/company/legal-disclaimer",target:"_blank",rel:"noopener noreferrer"},"Terms of Use."))),h.default.createElement(V.default,{dealer:e.dealer,user:this.props.UserStore,vehicleSMCParams:this.props.SearchRequestStore.selectedVehicleSMCParams,dealerSMCParams:this.props.SearchRequestStore.selectedDealerSMCParams,mainWrapperClass:"dealer-contact-form-complete-smc",innerClass:"smc-inner-no-border",widgetType:"SMC Lead Form",widgetLocation:"Lead Form",pageType:"VDP",isVisible:e.sentLead&&this.props.SearchRequestStore.displaySMC_VDP?"show":"hide"}))}}]),a}(h.default.Component),n.propTypes={source:v.default.string,id:v.default.string},n.defaultProps={source:"",id:""},l=o))||l)||l;t.default=A},"./client/components/VehicleDetails/DealerContact/DealerContact.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),p=r(a("./client/components/VehicleDetails/DealerContact/DealerContactSimilarListing.jsx")),m=r(a("./client/components/VehicleDetails/DealerContact/DealerContactFooter.jsx")),f=r(a("./client/analytics/BeaconHelperApi.js"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var l=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.scss");var v=(0,d.inject)("UserStore","SearchRequestStore","ModalStore","AppStore")(l=(0,d.observer)(l=function(e){(0,s.default)(a,e);var t=h(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).handleInventoryClick=function(e){if(e.preventDefault(),"ENHANCED"===r.listing.recordType)switch(r.props.source){case"vdp":f.default.vdpTypMicroSite(r.listing);break;case"icr":f.default.uclIcrTypMicroSite(r.listing);break;default:f.default.vdpTypMicroSite(r.listing)}else switch(r.props.source){case"vdp":f.default.vdpTypSrp(r.listing);break;case"icr":f.default.icrTypSrp(r.listing);break;default:f.default.vdpTypSrp(r.listing)}var t;t="ENHANCED"===r.listing.recordType?r.listing.dealer.cfxMicrositeUrl:"/search?make=".concat(r.listing.make,"&model=").concat(r.listing.model,"&zip=").concat(r.listing.dealer.location.zip,"&radius=50"),"icr"===r.props.source?top.window.location.assign(t):window.open(t,"_blank")},r.renderSimilarListings=function(){return r.props.similarListings.map((function(e){return u.default.createElement(p.default,{formData:r.props.formData,message:r.props.formData.message,listing:e,transactionId:e.vin+r.props.UserStore.userId,dealerId:e.dealer.id,source:r.props.source})}))},r.state={},r.listing=r.props.SearchRequestStore.selectedVehicle,r}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.leadLimit?"Thank you for contacting this dealer.":"Your message was sent!",t=this.props.leadLimit?"To protect your privacy, we are limiting the number of times your email address or phone number is used per day.  Please call the dealer directly.":"Send message to check availability on these cars.",a=u.default.createElement("button",{className:"dealer__inventory__button",onClick:this.handleInventoryClick},"View Similar Cars in Your Area");return"ENHANCED"===this.listing.recordType&&(a=u.default.createElement("button",{className:"dealer__inventory__button",onClick:this.handleInventoryClick},"View All Dealer Inventory")),u.default.createElement("div",{className:"dealer-contact-form-complete ".concat(this.props.isVisible)},u.default.createElement("div",{className:"dealer-contact-form-complete-inner"},u.default.createElement("span",{className:"message-complete"},e),u.default.createElement("p",null,t),this.props.similarListings?this.renderSimilarListings():null,u.default.createElement("div",{className:"row align-right align-bottom dealer-inventory-link".concat(this.listing.dealer.cfxMicrositeUrl?" show":" hide")},a),!this.props.AppStore.isMobile&&u.default.createElement("div",{className:"dealer-contact-form-complete-footer"},u.default.createElement(m.default,{containerClassName:"dealer-contact-header-inner",source:this.props.source}))))}}]),a}(u.default.Component))||l)||l;t.default=v},"./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContactFooter.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./node_modules/react/index.js"));a("./client/components/VehicleDetails/DealerContact/DealerContactFooter.scss");var n=function(){return l.default.createElement("div",{className:"footer-body"},"I agree to receive autodialed and/or prerecorded telemarketing calls/texts from or on behalf of CARFAX and/or seller at the mobile number provided above. I understand that consent is not a condition of purchase. I agree to creating an account subject to the"," ",l.default.createElement("a",{href:"https://www.carfax.com/company/privacy-statement",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","&"," ",l.default.createElement("a",{href:"https://www.carfax.com/company/legal-disclaimer",target:"_blank",rel:"noopener noreferrer"},"Terms of Use"))};t.default=n},"./client/components/VehicleDetails/DealerContact/DealerContactFooter.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContactForm.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContactForm.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n,o,s=r(a("./node_modules/@babel/runtime/regenerator/index.js")),i=r(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),c=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),p=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),h=r(a("./node_modules/react/index.js")),v=a("./node_modules/mobx-react/index.module.js"),b=r(a("./node_modules/lodash/lodash.js")),C=r(a("./node_modules/dompurify/dist/purify.js")),g=r(a("./client/stores/stores.ts")),y=r(a("./client/utils/utilities.js")),S=r(a("./node_modules/validator/lib/isEmail.js")),j=r(a("./client/analytics/BeaconHelperApi.js")),E=r(a("./client/components/Common/Basic/Checkbox/Checkbox.tsx")),D=r(a("./shared/helpers/CookieManager.js")),_=r(a("./client/language/strings.js"));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var l=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}a("./client/components/VehicleDetails/DealerContact/DealerContactForm.scss");_.default.REQUEST_QUOTE,_.default.CALL_FOR_PRICE;var N=(0,v.observer)((o=n=function(e){(0,p.default)(a,e);var t=k(a);function a(e){var r;return(0,u.default)(this,a),(r=t.call(this,e)).inputFocused=void 0,r.checkboxes=void 0,r.customRule=void 0,r.setMobileContactFooterDisplay=function(){var e,t=!1;Object.keys(r.inputFocused).forEach((function(e){!0===r.inputFocused[e]&&(t=!0)})),null===(e=g.default.DealerContact)||void 0===e||e.setIsFocusedOnLeadForm(t)},r.handleOnChange=function(e){var t,a,l,n,o;e.preventDefault();var s=e.target.name,i=e.target.value;switch(s){case"firstName":null===(t=g.default.User)||void 0===t||t.setFirstName(i);break;case"lastName":null===(a=g.default.User)||void 0===a||a.setLastName(i);break;case"zip":null===(l=g.default.User)||void 0===l||l.setZip(i);break;case"phone":null===(n=g.default.User)||void 0===n||n.setPhone(y.default.formatPhone(e.target.value));break;case"email":null===(o=g.default.User)||void 0===o||o.setEmail(i);break;default:r.setState((0,c.default)({},s,i))}},r.handleOnCheck=function(e){var t;null===(t=g.default.User)||void 0===t||t.toggleLeadCheckbox(e)},r.handleValidation=function(e){e.preventDefault(),r.handleFocusChange(e,!1);var t=e.target,a=t.name,l=t.value;if("email"===a||"phone"===a){var n,o=null===(n=g.default.User)||void 0===n?void 0:n[a];r.props.validateElements(a,o,r.customRule)}return r.props.validateElements(a,l,r.customRule)},r.toggleSubscribeState=function(){r.setState({subscribe:!r.state.subscribe})},r.handleOnFormSubmit=function(){var e=(0,i.default)(s.default.mark((function e(t){var a,l,n,o,i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=g.default.User,l=g.default.DealerContact,n=[],null==a||a.leadCheckboxes.forEach((function(e){if(!0===e.checked){var t=e,a=b.default.filter(r.checkboxes,{id:e.id});t.value=a[0].value,n.push(t)}})),o={firstName:null==a?void 0:a.firstName,lastName:null==a?void 0:a.lastName,zip:null==a?void 0:a.zip,email:null==a?void 0:a.email,phone:null==a?void 0:a.phone,checkboxes:n},i=Object.assign(o,r.state,{note:C.default.sanitize(r.state.note)}),r.props.validateForm(i,r.customRule),!r.props.isValid()||!r.props.formSubmit){e.next=14;break}return null==l||l.setDisableFormButton(!0),e.next=11,r.props.formSubmit(i);case 11:null==a||a.setIsLoading(!1),D.default.saveFormInfo(null==a?void 0:a.firstName,null==a?void 0:a.lastName,null==a?void 0:a.phone,null==a?void 0:a.leadCheckboxes),D.default.saveZip(null==a?void 0:a.zip);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleToggleNote=function(e){var t;e.preventDefault(),r.setState({showNote:!r.state.showNote}),j.default.vdpContactMessage(null===(t=g.default.SearchRequest)||void 0===t?void 0:t.selectedVehicle)},r.customError=function(){var e,t=r.props.validateState.errors;return"Email or Phone is required!"!==t.phone&&"Email or Phone is required!"!==t.email||(e="is-invalid-input"),e},r.handleFocusChange=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.target.name;t?r.updateInputFocusedObject(a,t):setTimeout((function(){r.updateInputFocusedObject(a,t)}),150),y.default.isAndroidMobile(navigator&&navigator.userAgent)&&e.target.scrollIntoView({block:"center",behavior:"smooth"})},r.updateInputFocusedObject=function(e,t){r.inputFocused=Object.assign({},r.inputFocused,(0,c.default)({},e,t)),r.setMobileContactFooterDisplay()},r.renderCheckboxes=function(){return r.checkboxes.map((function(e,t){var a,l=t+1,n=null===(a=g.default.User)||void 0===a?void 0:a.leadCheckboxes[t];return h.default.createElement("div",{key:"cbx-".concat(l),className:"row small-collapse text-left align middle lead-check-box"},h.default.createElement(E.default,{title:e.value,id:l.toString(),labelClass:"checkbox checkbox-styled control-label",checked:null==n?void 0:n.checked,handleClick:function(){return r.handleOnCheck(e.id)},handleKeyDown:function(){return y.default.handleKeysDown([" ","Enter"],(function(){return r.handleOnCheck(e.id)}))},isLeadForm:!0}))}))},r.state={subscribe:!0,showNote:!1},r.inputFocused={firstName:!1,lastName:!1,zip:!1,email:!1,phone:!1,personalNote:!1},r.checkboxes=[{id:1,value:"Is this vehicle still available?"},{id:2,value:"What payment terms are available?"},{id:3,value:"When can I test drive this vehicle?"}],r.customRule={email:[{rule:function(e){var t,a;return null!==(t=g.default.User)&&void 0!==t&&t.email||null!==(a=g.default.User)&&void 0!==a&&a.phone?e&&!(0,S.default)(e)?{isError:!0,hint:"Email is invalid!"}:void 0:{isError:!0,hint:"Email or Phone is required!"}},hint:""}],phone:[{rule:function(e){var t,a;return null!==(t=g.default.User)&&void 0!==t&&t.email||null!==(a=g.default.User)&&void 0!==a&&a.phone?e&&!y.default.validatePhone(e)?{isError:!0,hint:"Phone is invalid!"}:void 0:{isError:!0,hint:"Email or Phone is required!"}},hint:""}]},r}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e,t,a,r,l,n=D.default.loadFormInfo(),o=D.default.loadZip();null===(e=g.default.User)||void 0===e||e.setFirstName(n.first),null===(t=g.default.User)||void 0===t||t.setLastName(n.last),null===(a=g.default.User)||void 0===a||a.setPhone(y.default.formatPhone(n.phone)),null===(r=g.default.User)||void 0===r||r.setLeadCheckboxes(n.checkboxes),null===(l=g.default.User)||void 0===l||l.setZip(o)}},{key:"render",value:function(){var e,t,a,r,l,n,o,s,i,c=this,u=null===(e=g.default.SearchRequest)||void 0===e?void 0:e.selectedVehicle,d="ENHANCED"===(null==u?void 0:u.recordType)&&u.dealer?u.dealer.label:"Selling Dealer",p="TX"===b.default.get(u,"dealer.location.state")?"Email me new listings for my search.":"Email me price drops and new listings for my search.",m=y.default.generateInputId("dealer-contact-form",null===(t=g.default.SearchRequest)||void 0===t?void 0:t.selectedVehicle.id,null===(a=g.default.Modals)||void 0===a?void 0:a.modal,"note",this.props.source,this.props.id);return h.default.createElement("div",{className:"dealer-contact-form ".concat(this.props.isVisible)},h.default.createElement("div",{className:"dealer-contact-form-inner"},h.default.createElement("form",{onSubmit:this.handleOnFormSubmit},h.default.createElement("div",{className:"dealer-contact-flash row"},this.props.renderValidationHints()),h.default.createElement("div",{className:"dealer-contact-sendMsg align-top row"},h.default.createElement(h.default.Fragment,null,h.default.createElement("img",{className:"main__icon",src:"https://static.carfax.com/uclassets/images/icon-Mail.png",alt:"Email Dealer"}),h.default.createElement("span",{className:"column"},h.default.createElement("strong",null,"Send To: "),d))),h.default.createElement("div",{className:"row align-middle dealer-contact__full-name"},h.default.createElement("div",null,"Hi, my name is"),h.default.createElement("div",{className:"first-name-input__wrapper ".concat(this.props.errorClass("firstName"))},h.default.createElement("input",{"aria-label":"First Name",className:"ui-input form-control input-sm first-name-input dealer-contact-name ".concat(this.props.errorClass("firstName")),name:"firstName",type:"text",placeholder:"First Name",value:null===(r=g.default.User)||void 0===r?void 0:r.firstName,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),h.default.createElement("div",{className:"column right-end-col last-name-input__wrapper ".concat(this.props.errorClass("lastName"))},h.default.createElement("input",{"aria-label":"Last Name",className:"ui-input form-control input-sm last-name-input dealer-contact-name ".concat(this.props.errorClass("lastName")),name:"lastName",type:"text",placeholder:"Last Name",value:null===(l=g.default.User)||void 0===l?void 0:l.lastName,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange}))),h.default.createElement("div",{className:"row align-middle"},h.default.createElement("div",null,null!==(n=g.default.App)&&void 0!==n&&n.isMobile?h.default.createElement("div",null,h.default.createElement("span",null,"and I'm interested in your "),h.default.createElement("span",{className:"vehicle"},h.default.createElement("b",null,null==u?void 0:u.title))):h.default.createElement("div",{className:"second-form-row"},h.default.createElement("span",null,"and I'm interested in your "),h.default.createElement("span",{className:"vehicle"},h.default.createElement("b",null,null==u?void 0:u.title))),h.default.createElement("span",{className:"dealer-contact__my__location"},"I'm in the "),h.default.createElement("div",{className:"dealer-contact-zip-container ".concat(this.props.errorClass("zip"))},h.default.createElement("input",{"aria-label":"Zip Code",name:"zip",type:"tel",placeholder:"Zip Code",className:"ui-input form-control input-sm dealer-contact-zip ".concat(this.props.errorClass("zip")),value:null===(o=g.default.User)||void 0===o?void 0:o.zip,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),h.default.createElement("span",null," area and you can reach me at"))),h.default.createElement("div",{className:"row align-middle last-form-row"},h.default.createElement("div",{className:"column email-column"},h.default.createElement("input",{"aria-label":"Email Address",type:"email",name:"email",ref:"email",placeholder:"Email Address",className:"ui-input form-control input-sm dealer-contact-email ".concat(this.customError()," ").concat(this.props.errorClass("email")),value:null===(s=g.default.User)||void 0===s?void 0:s.email,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})),h.default.createElement("div",{className:"center-text"}," or ")),h.default.createElement("div",{className:"row align-middle last-form-row"},h.default.createElement("div",{className:"dealer-contact-phone-container ".concat(this.props.errorClass("phone")," ").concat(this.customError())},h.default.createElement("input",{name:"phone",ref:"phone","aria-label":"Phone Number",placeholder:"Phone Number",className:"ui-input form-control input-sm phone-input dealer-contact-phone ".concat(this.props.errorClass("phone")," ").concat(this.customError()),type:"tel",value:null===(i=g.default.User)||void 0===i?void 0:i.phone,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange}))),h.default.createElement("div",{className:"row align-middle"}),h.default.createElement("div",{className:"cb-questions"},this.renderCheckboxes()),h.default.createElement("button",{"aria-expanded":this.state.showNote,type:"button",className:"dealer-contact-add-note row ".concat(this.state.showNote?"remove":"add"),onClick:this.handleToggleNote,id:m},"Add a personal note (optional)"),h.default.createElement("textarea",{"aria-labelledby":m,name:"note",className:"ui-input form-control input-sm dealer-contact-note",inputMode:"text",value:this.state.note,onChange:this.handleOnChange,onBlur:function(e){return c.handleFocusChange(e,!1)},onFocus:this.handleFocusChange,style:{display:this.state.showNote?"block":"none"}}),h.default.createElement("div",{className:"row"},h.default.createElement("button",{type:"submit",className:"search-submit button large expanded primary-green btn-primary-large dealer__contact__submit",value:"Send_Message"},"Send Message")),h.default.createElement("div",{className:"row text-left align middle lead-check-box subscribe-cb"},h.default.createElement(E.default,{title:p,checked:this.state.subscribe,labelClass:"checkbox checkbox-styled control-label",textClass:"checkbox-list-item--text",wrapperClass:"checkbox-list-item row",handleClick:this.toggleSubscribeState,handleKeyDown:function(){return y.default.handleKeysDown([" ","Enter"],(function(){return c.toggleSubscribeState()}))},isLeadForm:!0})))))}}]),a}(h.default.Component),n.defaultProps={validateState:{errors:""},id:"",validateElements:function(){},validateForm:function(){},errorClass:function(){},handleRatingsClick:void 0},l=o))||l;t.default=N},"./client/components/VehicleDetails/DealerContact/DealerContactHeader.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),p=r(a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.jsx")),m=r(a("./client/analytics/BeaconHelperApi.js")),f=a("./client/analytics/TrackingHelperApi.js"),h=r(a("./client/stores/stores.ts"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var l=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var b=(0,d.observer)(l=function(e){(0,s.default)(a,e);var t=v(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).handleCallClick=function(){var e,t,a,l=null===(e=h.default.SearchRequest)||void 0===e?void 0:e.selectedVehicle;m.default.vdpPhone(l);var n="VDP | Email Lead Form";"vmRedesignCheckAvailability"===r.props.source&&"srp"===(null===(t=h.default.App)||void 0===t?void 0:t.userPageType)&&(n="SRP | Email Lead Form"),"followModal"===r.props.source&&(n="Follow Modal | Phone"),(0,f.trackClickEVars)("eVar132",n,"event49","Mobile Call Dealer - ".concat(null==l?void 0:l.dealer.label," - ").concat(null==l?void 0:l.dealer.location.city," - ").concat(null==l?void 0:l.dealer.location.state," - ").concat(null==l?void 0:l.dealer.location.zip," - ").concat(null==l?void 0:l.dealer.phone),null==l?void 0:l.dealer.id),null===(a=h.default.Analytics)||void 0===a||a.trackPhoneTaps()},r.state={},r}return(0,o.default)(a,[{key:"render",value:function(){var e,t,a=null===(e=h.default.SearchRequest)||void 0===e?void 0:e.selectedVehicle,r=a&&a.dealer?u.default.createElement(u.default.Fragment,null,u.default.createElement("span",{className:"call-label"},"Call:")," ",a.dealer.phone):"",l=null!=a&&a.dealer&&a.dealer.phone&&a.dealer.phone.length?a.dealer.phone:"",n=null===(t=h.default.DealerSearch)||void 0===t?void 0:t.suppressDealerPhoneOnVDP(),o="ENHANCED"===(null==a?void 0:a.recordType),s=(null==a?void 0:a.dealer.phone)&&a.dealer.phone.length;return u.default.createElement("div",{className:this.props.containerClassName},u.default.createElement("h2",{className:"dealer-contact-title"},"Check Availability"),!n&&o&&s?u.default.createElement("span",{className:"dealer-contact-subTitle align-middle"},u.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/icon-Phone.svg",alt:"Call Dealer"}),u.default.createElement("span",{className:"show-for-xlarge"},r),u.default.createElement("span",{className:"hide-for-xlarge mobile-call-link"},u.default.createElement("a",{href:"tel:".concat(l),target:"_parent",onClick:this.handleCallClick},r))):null,u.default.createElement(p.default,null))}}]),a}(u.default.Component))||l;t.default=b},"./client/components/VehicleDetails/DealerContact/DealerContactHocEntry.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./client/components/VehicleDetails/DealerContact/DealerContactForm.tsx")),n=(0,r(a("./client/components/Common/FormValidationHOC/FormValidationHOC.jsx")).default)(l.default);t.default=n},"./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n,o,s=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),i=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(a("./node_modules/react/index.js")),f=a("./node_modules/mobx-react/index.module.js"),h=r(a("./client/utils/utilities.js"));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var l=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}a("./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.scss");var g=(0,f.observer)((o=n=function(e){(0,u.default)(a,e);var t=C(a);function a(){var e;(0,i.default)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))).sendToSMC=function(t){t.preventDefault();var a="VDP"===e.props.pageType,r=e.props.user.phone?e.props.user.phone.replace("(","").replace(")","").replace(" ","-"):null,l={oneaccountid:e.props.user.id||null,firstname:e.props.user.firstName||null,lastname:e.props.user.lastName||null,phone:r||null,email:e.props.user.email||null,zip:e.props.user.zip};a&&(l=b(b(b({},l),e.props.vehicleSMCParams),e.props.dealerSMCParams)),h.default.openSMC(l,e.props.widgetType,e.props.widgetLocation,e.props.pageType)},e}return(0,c.default)(a,[{key:"render",value:function(){return m.default.createElement("div",{className:"".concat(this.props.mainWrapperClass," ").concat(this.props.isVisible)},m.default.createElement("div",{className:this.props.innerClass},m.default.createElement("div",{className:this.props.headlineParentClass},m.default.createElement("span",{className:this.props.headlineClass},"Want to sell your car?")),m.default.createElement("div",{className:this.props.buttonParentClass},m.default.createElement("button",{className:this.props.buttonClass,onClick:this.sendToSMC},"Get A Cash Offer"))))}}]),a}(m.default.Component),n.defaultProps={dealer:{},user:{},vehicleSMCParams:{},dealerSMCParams:{},pageType:"VDP",isVisible:!1,mainWrapperClass:"dealer-contact-form-complete-smc",innerClass:"smc-inner row",headlineParentClass:"smc-left-col",headlineClass:"smc-headline",buttonParentClass:"smc-right-col",buttonClass:"button smc-btn"},l=o))||l;t.default=g},"./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.scss":function(e,t,a){},"./client/components/VehicleDetails/DealerContact/DealerContactSimilarListing.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),m=r(a("./node_modules/crypto-js/index.js")),f=r(a("./client/analytics/BeaconHelperApi.js")),h=a("./client/analytics/TrackingHelperApi.js"),v=r(a("./client/utils/AppUtils.js")),b=r(a("./client/utils/utilities.js")),C=a("./client/utils/transforms.ts");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.default)(e);if(t){var l=(0,u.default)(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=(0,p.inject)("AppStore","UserStore","AnalyticsStore","DealerContactStore","OptimizelyStore")(l=(0,p.observer)(l=function(e){(0,i.default)(a,e);var t=g(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).formSubmit=function(e){b.default.prevent(e);var t=r.props.DealerContactStore.formData,a=r.props.listing,l=(0,C.transformFormDataAndListingIntoSimilarLeadInfo)(t,a),n=t.email?m.default.MD5(t.email):r.props.UserStore.hashedEmail;switch(r.props.DealerContactStore.sendLead(l),(0,h.trackClick)("event55,event77","Email Lead from Thank You",a.dealer.id,!1,a.certified),r.props.source){case"vdp":f.default.vdpTypLeadSubmit(l);break;case"icr":f.default.uclIcrTypLeadSubmit(l);break;default:f.default.vdpTypLeadSubmit(l)}r.setState({sentMessage:!0}),r.props.AnalyticsStore.trackEmailLead(),r.props.AnalyticsStore.trackFollowCar();var o=a.dealer.location?a.dealer.location.zip:0;v.default.pushToDataLayer({event:"uclEmailLeadTY",pageState:"Find Car Details Contact Seller Thank You",pageTier:"Find a Car",siteType:r.props.AppStore.siteType,emailHashed:n,vin:a.vin,transactionId:a.vin+n,price:a.listPrice,year:"".concat(a.year),make:a.make,model:a.model,dzip:o})},r.state={sentMessage:r.props.messageSent},r.formSubmit=r.formSubmit.bind((0,s.default)(r)),r}return(0,o.default)(a,[{key:"render",value:function(){var e=d.default.createElement("button",{onClick:this.formSubmit,className:"button primary-green similar-send-button"},"Send"),t=d.default.createElement("button",{disabled:!0,className:"button primary-green similar-send-button"},"Sent"),a=this.state.sentMessage?t:e,r=this.props.listing,l=r.images&&r.images.firstPhoto?r.images.firstPhoto.small:"https://static.carfax.com/uclassets/images/srp-noimage.png";return"na"===l?null:d.default.createElement("div",{key:this.props.index,className:"row similar-item align-middle"},d.default.createElement("div",{className:"column small-3"},d.default.createElement("img",{src:l,alt:""})),d.default.createElement("div",{className:"column"},d.default.createElement("div",{className:"row similar-item-text similar-item-text--title"},"icr"===this.props.source?d.default.createElement("a",{href:"/vehicle/".concat(r.vin),target:"_blank",rel:"noopener noreferrer"},r.title):d.default.createElement("a",{href:"/vehicle/".concat(r.vin)},r.title)),d.default.createElement("div",{className:"row similar-item-text".concat(r.price&&r.price.current_price?" show":" hide")},r.price&&r.price.current_price?r.price.current_price.label:"NA"),d.default.createElement("div",{className:"row similar-item-text"},r.mileage?"".concat(r.mileage.label," miles"):"NA"),d.default.createElement("div",{className:"row similar-item-text"},"".concat(r.dealer.location.city,", ").concat(r.dealer.location.state))),d.default.createElement("div",{className:"similar-listing-button"},a))}}]),a}(d.default.Component))||l)||l;t.default=y}}]);