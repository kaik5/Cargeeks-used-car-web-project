(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[9],{"./client/components/Common/Modal/Modals.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=a("./client/components/VehicleDetails/ABTests/989.tsx"),m=a("./client/utils/utils.ts"),f=r(a("./client/stores/stores.ts")),p=r(a("./client/utils/AppUtils.js")),h=a("./client/utils/constants.ts"),v=r(a("./client/utils/utilities.js")),_=a("./node_modules/carfax-auth-provider/dist/index.js"),g=r(a("./node_modules/lodash/lodash.js")),b=a("./node_modules/mobx-react/index.module.js"),w=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=V(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),S=r(a("./config.js")),E=r(a("./client/components/Common/Modal/Partials/CulDeSac/CulDeSacBenefits.tsx")),y=r(a("./client/components/Common/Modal/Partials/CulDeSac/CulDeSacVideo.tsx")),C=r(a("./client/components/Common/Modal/Partials/DealerMakeMobile/DealerMakeMobile.jsx")),x=r(a("./client/components/Common/Modal/Partials/DealerSearchMobile/DealerSearchMobile.jsx")),O=r(a("./client/components/Common/Modal/Partials/FlagReview/FlagReview.jsx")),N=r(a("./client/components/Common/Modal/Partials/MobileLeadForm/MobileLeadForm.tsx")),R=r(a("./client/components/Common/Modal/Partials/PhotoGallery/PhotoGallery.jsx")),j=r(a("./client/components/Common/Modal/Partials/SearchMobile/SearchMobile.jsx")),P=r(a("./client/components/Common/Modal/Partials/SendMapToPhone/SendMapToPhone.jsx")),k=r(a("./client/components/Common/Modal/Partials/SendToEmail/SendToEmail.jsx")),M=r(a("./client/components/Common/Modal/Partials/SendToPhone/SendToPhone.jsx")),F=r(a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewFormHocEntry.jsx")),I=r(a("./client/components/Common/Modal/Partials/UserReviewModal/ExtendedReviewModal.jsx")),T=r(a("./client/components/Common/Modal/Partials/UserReviewModal/UserReviewModal.jsx")),D=a("./client/components/Common/Modal/Shared/ConversionFlow/ConversionFlow.tsx"),U=a("./client/components/Common/Modal/Shared/UserAuthenticationFlow/UserAuthenticationFlow.tsx");function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(V=function(e){return e?a:t})(e)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var L=(0,b.inject)("AppStore","ModalStore","SearchRequestStore","UserStore","FilterStore","OptimizelyStore")(l=(0,b.observer)(l=function(e){(0,i.default)(a,e);var t=A(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).closeOnBackArrow=function(e){r.props.ModalStore.modal&&(v.default.prevent(e),r.props.ModalStore.setModal(""))},r.closeModal=function(e){v.default.prevent(e),r.props.ModalStore.overlayLocked||r.props.ModalStore.setModal("")},r.state={ready:!1},r}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",this.closeOnBackArrow),p.default.addWindowLoadTask((function(){e.setState({ready:!0})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.closeOnBackArrow)}},{key:"getPageType",value:function(){var e;if("undefined"!=typeof window){var t=g.default.includes(window.location.pathname,"_")||"/search"===window.location.pathname,a=g.default.includes(window.location.pathname,"dealer"),r="/"===window.location.pathname||g.default.includes(window.location.pathname,"/cars-for-sale");e=t&&g.default.includes(window.location.hash,"vdp=")?"vdp":t?"srp":a?"dealer":r?"home":"default"}return e}},{key:"render",value:function(){if(!this.state.ready)return w.default.createElement("span",null);var e=null;switch(f.default.Modals.modal){case h.USERAUTHENTICATIONVIEWS.signIn:case h.USERAUTHENTICATIONVIEWS.signUp:case h.USERAUTHENTICATIONVIEWS.accountCreated:case h.USERAUTHENTICATIONVIEWS.forgotPassword:case h.USERAUTHENTICATIONVIEWS.requestReceived:e=w.default.createElement(U.UserAuthenticationFlow,null);break;case h.CONVERSIONFLOWVIEWS.firstFollow:case h.CONVERSIONFLOWVIEWS.firstSaved:case h.CONVERSIONFLOWVIEWS.confirmationMessage:case"check-availability-vm-redesign-1305":e=w.default.createElement(D.ConversionFlow,null);break;case"mobile-search":e=w.default.createElement(j.default,{pageType:this.getPageType()});break;case"mobile-dealer-search":e=w.default.createElement(x.default,{pageType:this.getPageType()});break;case"mobile-microsite-change-make":e=w.default.createElement(C.default,{pageType:this.getPageType()});break;case"flag-review":e=w.default.createElement(O.default,null);break;case"send-to-phone":e=w.default.createElement(M.default,null);break;case"send-to-email":e=w.default.createElement(k.default,null);break;case"gallery-modal":e=w.default.createElement(R.default,{isSlider:!0,name:"galleryModal"});break;case"mobile-lead-form":e=w.default.createElement(N.default,{name:"mobileLeadForm"});break;case"send-map-to-phone":e=w.default.createElement(P.default,null);break;case"culdesac-benefits-modal-hyundai":e=w.default.createElement(E.default,{make:"hyundai"});break;case"culdesac-benefits-modal-volkswagen":e=w.default.createElement(E.default,{make:"volkswagen",title:"Benefits"});break;case"culdesac-benefits-modal-kia":e=w.default.createElement(E.default,{make:"kia",title:"Benefits"});break;case"culdesac-roadside-assistance-modal-kia":e=w.default.createElement(E.default,{make:"kia-roadside-asst",title:"Roadside Assistance"});break;case"culdesac-video-modal-hyundai":e=w.default.createElement(y.default,{make:"hyundai"});break;case"culdesac-video-modal-volkswagen":e=w.default.createElement(y.default,{make:"volkswagen",title:"Certified Video"});break;case"culdesac-video-modal-kia":e=w.default.createElement(y.default,{make:"kia"});break;case"user-review-form":e=w.default.createElement(F.default,null);break;case"user-review-modal":e=w.default.createElement(T.default,null);break;case"extended-review-modal":e=w.default.createElement(I.default,null);break;case"vdp-pillars-modal":e=w.default.createElement(u.CXDUE989Modal,null);break;default:e=null}var t=f.default.Optimizely.modalsGlobalLoginVariation,a=S.default.ENV[S.default.currentEnv()].auth0,r=S.default.ENV[S.default.currentEnv()].host;return"default"===t?w.default.createElement("section",{className:(0,m.classNames)(["cfx-reveals",!!e&&"cfx-reveals-active",!1,this.props.ModalStore.noScroll&&"noscroll"]),onClick:this.closeModal},e):w.default.createElement(_.CarfaxAuthProvider,{clientId:a.CLIENT_ID,domain:a.DOMAIN,redirectUri:"".concat(v.default.parseLink(r,f.default.App.usedHost),"cars-for-sale"),audience:"https://www.carfax.com/api",profile:{}},w.default.createElement("section",{className:(0,m.classNames)(["cfx-reveals",!!e&&"cfx-reveals-active",!1,this.props.ModalStore.noScroll&&"noscroll"]),onClick:this.closeModal},e))}}]),a}(w.Component))||l)||l;t.default=L},"./client/components/Common/Modal/Partials/Conversion/Conversion.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/Conversion/Conversion.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.Conversion=t.omnitureTrackConversionLogin=void 0;var l=r(a("./node_modules/@babel/runtime/regenerator/index.js")),o=r(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),i=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(a("./client/analytics/BeaconHelperApi.js")),d=a("./client/analytics/TrackingHelperApi.js"),u=a("./shared/helpers/CookieManager.js"),m=r(a("./shared/services/ConversionServices.js")),f=r(a("./client/stores/stores.ts")),p=r(a("./client/utils/AppUtils.js")),h=r(a("./client/utils/Auth.ts")),v=a("./client/utils/constants.ts"),_=r(a("./client/utils/custom-validations.js")),g=a("./client/utils/transforms.ts"),b=r(a("./client/utils/utilities.js")),w=a("./node_modules/mobx-react/index.module.js"),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),E=r(a("./client/components/Common/Geolocation/Geolocation.tsx")),y=r(a("./client/components/Common/Validator/index.jsx")),C=a("./client/components/Common/Modal/Partials/SignUp/SignUp.tsx"),x=r(a("./client/components/Common/Modal/Partials/SocialLogins/SocialLogins.tsx"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("./client/components/Common/Modal/Partials/Conversion/Conversion.scss"),y.default.extendErrors(_.default);var j=function(e){if(e===v.CONVERSIONFLOWVIEWS.firstFollow){var t=(0,d.buildProps)({pageName:{value:"Find Car - Follow Car Modal - Login"},prop2:{value:"Find Car - Follow Car Modal - Login"},prop3:{value:"Find Car Follow Car"},prop4:{value:"Find a Car"}});(0,d.trackPage)(t)}else if(e===v.CONVERSIONFLOWVIEWS.firstSaved){var a=(0,d.buildProps)({pageName:{value:"Find Car - Save Search Modal - Login"},prop2:{value:"Find Car - Save Search Modal - Login"},prop3:{value:"Find Car Save Search"},prop4:{value:"Find a Car"}});(0,d.trackPage)(a)}};t.omnitureTrackConversionLogin=j;var P={setView:function(){},setSystemErrorMessage:function(){},type:"first-follow"};t.Conversion=function(e){var t,a,r,n=R(R({},P),e),i=n.setView,_=n.type,O=n.setSystemErrorMessage,N=(0,S.useRef)(null),k=(0,S.useRef)(null),M=(0,S.useRef)(null),F=(0,S.useState)(""),I=(0,s.default)(F,2),T=I[0],D=I[1],U=(0,S.useState)(null===(t=f.default.SearchParams)||void 0===t?void 0:t.zip),V=(0,s.default)(U,2),A=V[0],L=V[1],W=(0,S.useState)(!1),q=(0,s.default)(W,2),B=q[0],H=q[1],z=(0,S.useState)(""),Y=(0,s.default)(z,2),G=Y[0],K=Y[1],X=(0,S.useState)(""),J=(0,s.default)(X,2),Z=J[0],$=J[1];(0,S.useEffect)((function(){var e=u.cookies.get("zip");B&&L(e)}),[B]),(0,S.useEffect)((function(){var e;!function(e){if(e===v.CONVERSIONFLOWVIEWS.firstFollow){var t=(0,d.buildProps)({pageName:{value:"Find Car - Follow Car Modal"},prop2:{value:"Find Car - Follow Car Modal"},prop3:{value:"Find Car Follow Car"},prop4:{value:"Find a Car"},eVar132:{value:""}});(0,d.trackPage)(t)}else if(e===v.CONVERSIONFLOWVIEWS.firstSaved){var a=(0,d.buildProps)({pageName:{value:"Find Car - Save Search Modal"},prop2:{value:"Find Car - Save Search Modal"},prop3:{value:"Find Car Save Search"},prop4:{value:"Find a Car"}});(0,d.trackPage)(a)}}(_),null===(e=f.default.Optimizely)||void 0===e||e.activatePage("user-authentication")}),[]);var Q=function(e){e&&b.default.prevent(e),function(e){if(e===v.CONVERSIONFLOWVIEWS.firstFollow){var t=(0,d.buildProps)({pageName:{value:"Find Car - Follow Car Modal - Password"},prop2:{value:"Find Car - Follow Car Modal - Password"},prop3:{value:"Find Car Follow Car"},prop4:{value:"Find a Car"},events:{value:"event63,event111,event311"}});(0,d.trackPage)(t)}else if(e===v.CONVERSIONFLOWVIEWS.firstSaved){var a=(0,d.buildProps)({pageName:{value:"Find Car - Save Search Modal - Password"},prop2:{value:"Find Car - Save Search Modal - Password"},prop3:{value:"Find Car Save Search"},prop4:{value:"Find a Car"},events:{value:"event62,event111,event311"}});(0,d.trackPage)(a)}}(_),i(v.CONVERSIONFLOWVIEWS.updatePassword)},ee=S.default.createElement("span",null,S.default.createElement("i",{className:"fa fa-cog fa-spin","aria-hidden":"true"})," Creating Account..."),te=function(){var e;null===(e=f.default.User)||void 0===e||e.setIsLoading(!0),h.default.resetPassword(T).then((function(){var e,t;null===(e=f.default.User)||void 0===e||e.setEmail(T);var a=S.default.createElement(S.default.Fragment,null,"We just sent a verification email to ",S.default.createElement("b",null,'"',null===(t=f.default.User)||void 0===t?void 0:t.email,'"')," with instructions on completing your account.");O(a),(0,C.omnitureTrackSignUpError)(v.errorMessages.partialAccountVerify)})).catch((function(){O(v.errorMessages.system.general)})).finally((0,o.default)(l.default.mark((function e(){var t;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.default.sleep(100);case 2:null===(t=f.default.User)||void 0===t||t.setIsLoading(!1);case 3:case"end":return e.stop()}}),e)}))))},ae=function(){var e=(0,o.default)(l.default.mark((function e(t){var a,r,n,o,s,i,d,u,w,E,y,x,N,j,P,k,M,F,I,D,U,V,L,W,q,B,H,z,Y,G;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(a=f.default.User)||void 0===a||a.setIsLoading(!0),e.next=4,h.default.signUpAndAuthorize(t||T);case 4:d=e.sent,u=(0,g.transformOAuthTokenResultToUserInfo)(d,T),w={auth0Id:u.id,zip:A},e.t0=_,e.next=e.t0===v.CONVERSIONFLOWVIEWS.firstSaved?10:(e.t0,v.CONVERSIONFLOWVIEWS.firstFollow,19);break;case 10:return y=(0,g.transformSearchParamsToSaveSearchPayload)(),x=R(R({},w),{},{search:y}),N={},"helix"===(null===(E=f.default.Optimizely)||void 0===E?void 0:E.helixHistoryEndpointVariation)&&(N={"uclsop-1711-helix-history":{helixHistoryEndpointVariation:"helix"}}),e.next=16,m.default.firstSavedSearch(x,N);case 16:return 201===e.sent.status&&(null===(j=f.default.Analytics)||void 0===j||j.trackSaveSearch(),null===(P=f.default.User)||void 0===P||P.setSearchSaved(!0),p.default.pushToDataLayer({event:"uclSaveSearch",siteType:null===(k=f.default.App)||void 0===k?void 0:k.siteType,emailHashed:null===(M=f.default.User)||void 0===M?void 0:M.hashedEmail}),"undefined"!=typeof window&&void 0!==window.newrelic&&window.newrelic.addPageAction("ucl-first-saved",{value:"success"})),e.abrupt("break",25);case 19:return F=f.default.SearchRequest,I=F.selectedVehicle,D=R(R({},w),{},{follow:I.id}),e.next=23,m.default.firstFollow(D);case 23:201===e.sent.status&&(null===(U=f.default.SearchRequest)||void 0===U||U.setLastVin(I.vin),null===(V=f.default.Analytics)||void 0===V||V.trackFollowCar(),/vehicle/.test(document.location.href)?c.default.vdpFollow(I):c.default.srpFollow(I),q=I.dealer.location?I.dealer.location.zip:0,B=I.listPrice,p.default.pushToDataLayer({event:"uclFollow",siteType:null===(L=f.default.App)||void 0===L?void 0:L.siteType,emailHashed:null===(W=f.default.User)||void 0===W?void 0:W.hashedEmail,vin:I.vin,make:I.make,model:I.model,dzip:q,price:B,year:"".concat(I.year)}),"undefined"!=typeof window&&void 0!==window.newrelic&&window.newrelic.addPageAction("ucl-first-follow",{value:"success"}));case 25:null!==(r=f.default.Optimizely)&&void 0!==r&&r.experiments["605-modals-global-login"]&&(null===(n=f.default.Modals)||void 0===n?void 0:n.modal)===v.CONVERSIONFLOWVIEWS.firstFollow?f.default.Optimizely.trackEvent("Action - Follow Sign Up Success",{directCall:!0}):null!==(o=f.default.Optimizely)&&void 0!==o&&o.experiments["605-modals-global-login"]&&(null===(s=f.default.Modals)||void 0===s?void 0:s.modal)===v.CONVERSIONFLOWVIEWS.firstSaved&&f.default.Optimizely.trackEvent("Action - Save Sign Up Success",{directCall:!0}),null===(i=f.default.User)||void 0===i||i.login(u),Q(),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(0),"undefined"!=typeof window&&void 0!==window.newrelic&&e.t1&&window.newrelic.addPageAction(_===v.CONVERSIONFLOWVIEWS.firstFollow?"ucl-first-follow-error":"ucl-first-saved-error",{value:"fail",err:e.t1}),e.t1&&e.t1.code&&"user_exists"===e.t1.code?(null===(H=f.default.User)||void 0===H||H.setEmail(T),t?((0,C.omnitureTrackSignUpError)(v.errorMessages.signUp.existingAccount),O(v.errorMessages.signUp.existingAccount)):("SIGNUP_IDENTIFIER+",ae("SIGNUP_IDENTIFIER+"+(null===(z=f.default.User)||void 0===z?void 0:z.email)))):e.t1&&e.t1.code&&"oas_partial"===e.t1.code?(Y=S.default.createElement(S.default.Fragment,null,"It looks like you previously started an account with us. Please verify your email address to finish. ",S.default.createElement("a",{onClick:te},"Verify.")),(0,C.omnitureTrackSignUpError)(v.errorMessages.partialAccountDetected),O(Y)):((0,C.omnitureTrackSignUpError)(v.errorMessages.system.general),O(v.errorMessages.system.general));case 34:return e.prev=34,e.next=37,b.default.sleep(100);case 37:return null===(G=f.default.User)||void 0===G||G.setIsLoading(!1),e.finish(34);case 39:case"end":return e.stop()}}),e,null,[[0,30,34,39]])})));return function(t){return e.apply(this,arguments)}}(),re=function(e){var t,a,r,n;if(b.default.prevent(e),K(""),$(""),O(""),N.current.forceValidate(!0),!N.current.isValidForm()){var l=k.current.state.isValid,o=M.current.state.isValid,s=!!T&&0!==T.length,i=!!A&&0!==A.length;return s||i?(l||K(v.errorMessages.email.invalid),void(o||$(v.errorMessages.zip.invalid))):void O(v.errorMessages.noEmailZip)}var c,d=(null===(t=f.default.Modals)||void 0===t?void 0:t.modal)===v.CONVERSIONFLOWVIEWS.firstFollow,u=(null===(a=f.default.Modals)||void 0===a?void 0:a.modal)===v.CONVERSIONFLOWVIEWS.firstSaved;if(null!==(r=f.default.Optimizely)&&void 0!==r&&r.experiments["605-modals-global-login"]&&d)null===(c=f.default.Optimizely)||void 0===c||c.trackEvent("Action - Sign Up First Follow Click",{directCall:!0});else if(null!==(n=f.default.Optimizely)&&void 0!==n&&n.experiments["605-modals-global-login"]&&u){var m;null===(m=f.default.Optimizely)||void 0===m||m.trackEvent("Action - Sign Up First Save Click",{directCall:!0})}ae()},ne=function(){if(B){var e=u.cookies.get("zip");L(e)}else H(!0)},le=function(e){e&&e.target&&(e.target.value||""===e.target.value)&&D(e.target.value)},oe=null===(a=f.default.Optimizely)||void 0===a?void 0:a.modalsGlobalLoginVariation,se=["conversion-form-input",null===(r=f.default.Modals)||void 0===r?void 0:r.modal],ie=b.default.generateInputId.apply(b.default,se.concat(["email"])),ce=b.default.generateInputId.apply(b.default,se.concat(["zip"]));b.default.generateInputId.apply(b.default,se.concat(["password"]));return S.default.createElement(w.Observer,null,(function(){var e,t;return S.default.createElement(S.default.Fragment,null,S.default.createElement(x.default,{isSignUp:!0}),"default"===oe?S.default.createElement(y.default.Form,{ref:N,className:"ea-signup-form",onSubmit:re},S.default.createElement("div",{className:"conversion-modal__content__input-container"},S.default.createElement("label",{className:"conversion-modal__content__input__title",htmlFor:ie},"Enter email address"),S.default.createElement(y.default.Input,{name:"email",ref:k,className:"conversion-modal__content__input",validations:[{rule:"isRequired"},{rule:"isEmail"}],onChange:le,value:T,id:ie}),G?S.default.createElement("img",{className:"conversion-modal__content__input__icon conversion-modal__content__input__icon--alert",src:"https://static.carfax.com/uclassets/images/icon-alert.svg",alt:"warning"}):null,G?S.default.createElement("div",{className:"conversion-modal__content__error-message"},G):null),S.default.createElement("div",{className:"conversion-modal__content__input-container conversion-modal__content__input-container--zip"},S.default.createElement("label",{className:"conversion-modal__content__input__title",htmlFor:ce},"Zip Code"),S.default.createElement(y.default.Input,{name:"zip",ref:M,className:"conversion-modal__content__input",validations:[{rule:"isRequired"},{rule:"isZipCode"}],type:"tel",onChange:function(e){var t;(t=e)&&t.target&&(t.target.value||""===t.target.value)&&L(t.target.value)},value:A,id:ce}),S.default.createElement("img",{className:"conversion-modal__content__input__icon conversion-modal__content__input__icon--location",onClick:ne,src:"https://static.carfax.com/uclassets/images/icon-location.png",alt:"location"}),Z?S.default.createElement("div",{className:"conversion-modal__content__error-message"},Z):null,B?S.default.createElement(E.default,null):null),S.default.createElement("button",{className:"button conversion-modal__content__input-button",type:"submit",disabled:null===(e=f.default.User)||void 0===e?void 0:e.isLoading},null!==(t=f.default.User)&&void 0!==t&&t.isLoading?ee:_===v.CONVERSIONFLOWVIEWS.firstFollow?"Follow This Car":"Save This Search"),S.default.createElement("div",{className:"conversion-modal__content__have-account"},"Already have an account?"," ",S.default.createElement("a",{href:"#",className:"conversion-modal__content__input-link",onClick:function(e){return function(e){var t,a,r;e&&b.default.prevent(e),null!==(t=f.default.User)&&void 0!==t&&t.attemptedAccountCreationUserAlreadyExists||j(_),"first-follow"===_&&(null===(a=f.default.User)||void 0===a||a.setFollowPostLogin(!0)),"first-saved"===_&&(null===(r=f.default.User)||void 0===r||r.setSaveSearchPostLogin(!0)),i(v.CONVERSIONFLOWVIEWS.signIn)}(e)}},"Log In ›"))):"")}))}},"./client/components/Common/Modal/Partials/CulDeSac/CulDeSacBenefits.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/components/CulDeSacPages/data/cpoEnhancedData.js")),o=r(a("./client/components/CulDeSacPages/modals/templates/hyundaiBenefits.tsx")),s=r(a("./client/components/CulDeSacPages/modals/templates/kiaBenefits.tsx")),i=r(a("./client/components/CulDeSacPages/modals/templates/kiaRoadsideAssistance.tsx")),c=r(a("./client/components/CulDeSacPages/modals/templates/volkswagenBenefits.tsx")),d=r(a("./client/components/Common/Modal/Modal.jsx")),u=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),m=function(e){var t=e.make,a=e.title,r=t.toLowerCase(),m=l.default[r]||{},f=a||m.benefitsTitle;return n.default.createElement(d.default,{modalId:"culdesac-benefits-modal-".concat(r),wrapperClassName:"culdesac-benefits-modal culdesac-benefits-modal-".concat(r)},n.default.createElement(u.default,{modalTitle:f}),function(e){switch(e){case"hyundai":return n.default.createElement(o.default,null);case"volkswagen":return n.default.createElement(c.default,null);case"kia":return n.default.createElement(s.default,null);case"kia-roadside-asst":return n.default.createElement(i.default,null);default:return"NO TEMPLATE FOUND!"}}(r))};t.default=m},"./client/components/Common/Modal/Partials/CulDeSac/CulDeSacModalBase.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/CulDeSac/CulDeSacVideo.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/CulDeSac/CulDeSacVideo.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js"));a("./client/components/Common/Modal/Partials/CulDeSac/CulDeSacVideo.scss"),a("./client/components/Common/Modal/Partials/CulDeSac/CulDeSacModalBase.scss");var l=r(a("./client/components/Common/Modal/Modal.jsx")),o=r(a("./client/components/CulDeSacPages/data/cpoEnhancedData.js")),s=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),i=function(e){var t=e.make,a=e.title,r=t.toLowerCase(),i=(o.default[r]||{}).videoSrc;return n.default.createElement(l.default,{modalId:"culdesac-video-modal",wrapperClassName:"culdesac-benefits-modal"},n.default.createElement(s.default,{modalTitle:a||"Video"}),n.default.createElement("div",{className:"row benefit__video"},n.default.createElement("video",{controls:!0,width:"100%"},n.default.createElement("source",{src:i,type:"video/mp4"}),"Sorry, your browser does not support embedded videos.")))};t.default=i},"./client/components/Common/Modal/Partials/DealerMakeMobile/DealerMakeMobile.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./client/components/Common/Modal/Modal.jsx")),p=r(a("./client/components/FindADealer/DealerMakeSearchForm/DealerMakeSearchForm.jsx"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var _=(0,m.inject)("SearchRequestStore","UserStore","ModalStore","FilterStore")(l=(0,m.observer)(l=function(e){(0,i.default)(a,e);var t=v(a);function a(e){var r;(0,o.default)(this,a),r=t.call(this,e);var n=e.FilterStore.uiDisplayFilters.facets.makes||[];return e.ModalStore.makes&&e.ModalStore.makes.length>n&&(n=e.dealerMakes),r.state={makes:n},r}return(0,s.default)(a,[{key:"render",value:function(){return u.default.createElement(f.default,{modalId:"mobileSearchModal",title:"Change Make",revealed:!0,coverMobileView:!0},u.default.createElement("div",{className:"row align-center"},u.default.createElement(p.default,{dealer:this.props.SearchRequestStore.selectedDealer,makes:this.state.makes,showCPO:this.props.SearchRequestStore.showCPO,formClassName:"sidebar",submitBtnClassName:"button small expanded cfx-green",preventSubmitOnCPOChange:!0})))}}]),a}(u.Component))||l)||l;t.default=_},"./client/components/Common/Modal/Partials/DealerSearchMobile/DealerSearchMobile.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,s,i=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),p=r(a("./client/components/Common/Modal/Modal.jsx")),h=a("./node_modules/mobx-react/index.module.js"),v=r(a("./client/components/FindADealer/DealersSearchForm/DealersSearchForm.jsx"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,u.default)(this,a)}}var b=(0,h.inject)("UserStore","DealerSearchStore")(l=(0,h.observer)((s=o=function(e){(0,d.default)(a,e);var t=g(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"render",value:function(){return f.default.createElement(p.default,{modalId:"mobileSearchModal",title:"Find a Dealer",coverMobileView:!0},f.default.createElement("div",{className:"row align-center"},f.default.createElement(v.default,{title:"Find a Dealer",makes:this.props.DealerSearchStore.makes,containerClassName:"mobile-search-by-box dsrp-mobile-search-wrapper",formClassName:"sidebar",makeDropdownClassName:"form-control search-make",radiusDropdownClassName:"form-control search-radius",zipCodeClassName:"form-control search-zip",submitBtnText:"Search",submitBtnClassName:"button small expanded cfx-green",footerClass:"form-padding-right text-right",serverError:this.props.DealerSearchStore.serverError,shouldCloseModalsOnSearch:!0,type:"FAD sidebar"})))}}]),a}(f.Component),o.defaultProps={userStore:{},DealerSearchStore:{}},l=s))||l)||l;t.default=b},"./client/components/Common/Modal/Partials/FlagReview/FlagReview.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./client/components/Common/Modal/Modal.jsx"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/Common/Modal/Partials/FlagReview/FlagReview.scss");var v=(0,m.observer)(l=function(e){(0,i.default)(a,e);var t=h(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).state={successMessage:{title:"Thank You",body:"An administrator will review your request and take appropriate action."}},r}return(0,s.default)(a,[{key:"render",value:function(){return u.default.createElement(f.default,{modalId:"flagReviewModal",userId:this.props.user.id,title:"Report this Review",coverMobileView:!0,centerTitle:!0},u.default.createElement("div",{className:"row"},u.default.createElement("textarea",{placeholder:"Tell us why you find this review inappropriate.",id:"flagReviewInput",name:"flagReviewInput"})),u.default.createElement("div",{className:"row align-justify"},u.default.createElement("button",{type:"button",className:"button large expanded primary-green"},"Submit"),u.default.createElement("button",{type:"button",className:"button large expanded primary-gray"},"Cancel")))}}]),a}(u.Component))||l;t.default=v},"./client/components/Common/Modal/Partials/FlagReview/FlagReview.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/ForgotPassword/ForgotPassword.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/ForgotPassword/ForgotPassword.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.ForgotPassword=void 0;var l=r(a("./node_modules/@babel/runtime/regenerator/index.js")),o=r(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),i=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),u=r(a("./client/stores/stores.ts")),m=r(a("./client/utils/Auth.ts")),f=r(a("./client/utils/utilities.js")),p=r(a("./client/components/Common/Validator/index.jsx")),h=r(a("./client/utils/custom-validations.js")),v=a("./client/utils/constants.ts"),_=a("./client/analytics/TrackingHelperApi.js");a("./client/components/Common/Modal/Partials/ForgotPassword/ForgotPassword.scss");var g=a("./client/utils/utils.ts");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}p.default.extendErrors(h.default);var E={setView:function(){},setSystemErrorMessage:function(){}};t.ForgotPassword=function(e){var t,a,r=S(S({},E),e),n=r.setView,i=r.setSystemErrorMessage,h=(0,c.useRef)(null),b=(0,c.useRef)(null),w=(0,c.useState)(u.default.User.email||""),y=(0,s.default)(w,2),C=y[0],x=y[1],O=(0,c.useState)(""),N=(0,s.default)(O,2),R=N[0],j=N[1];(0,c.useEffect)((function(){var e;e=(0,_.buildProps)({pageName:{value:"Login Forgot Password - Main"},prop2:{value:"Login Forgot Password - Main"},prop3:{value:"Login Forgot Password"},prop4:{value:"Find a Car"}}),(0,_.trackPage)(e)}),[]);var P=c.default.createElement("span",null,c.default.createElement("i",{className:"fa fa-cog fa-spin fa-fw","aria-hidden":"true"})," Resetting..."),k=function(){u.default.User.setIsLoading(!0),m.default.resetPassword(C).then((function(){var e;u.default.User.setEmail(C),f.default.prevent(e),n(v.USERAUTHENTICATIONVIEWS.requestReceived),"undefined"!=typeof window&&void 0!==window.newrelic&&window.newrelic.addPageAction("ucl-forgot-password",{email:C,value:"success"})})).catch((function(e){i(v.errorMessages.system.general),"undefined"!=typeof window&&void 0!==window.newrelic&&e&&window.newrelic.addPageAction("ucl-forgot-password-reset",{value:"fail",err:e})})).finally((0,o.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.sleep(100);case 2:u.default.User.setIsLoading(!1);case 3:case"end":return e.stop()}}),e)}))))},M=function(e){if(f.default.prevent(e),j(""),i(""),h.current.forceValidate(!0),h.current.isValidForm())k();else{var t=b.current.state.isValid;!!C&&0!==C.length&&t||j(v.errorMessages.email.invalid)}},F=function(e){e&&e.target&&(e.target.value||""===e.target.value)&&x(e.target.value)},I=f.default.generateInputId("forgot-password",null===(t=u.default.VehicleDetails)||void 0===t?void 0:t.selectedVehicle.id,null===(a=u.default.Modals)||void 0===a?void 0:a.modal);return c.default.createElement(d.Observer,null,(function(){return c.default.createElement(c.default.Fragment,null,c.default.createElement(p.default.Form,{ref:h,className:"forgot-password-modal__content__input-button__border-container",onSubmit:M},c.default.createElement("div",{className:"forgot-password-modal__content__input-container"},c.default.createElement("label",{htmlFor:I,className:"forgot-password-modal__content__input__title"},"Enter email address"),c.default.createElement(p.default.Input,{name:"email",ref:b,className:"forgot-password-modal__content__input",validations:[{rule:"isRequired"},{rule:"isEmail"}],onChange:F,value:C,id:I}),R?c.default.createElement(c.default.Fragment,null,c.default.createElement("img",{className:(0,g.classNames)(["forgot-password-modal__content__input__icon","forgot-password-modal__content__input__icon--alert"]),src:"https://static.carfax.com/uclassets/images/icon-alert.svg",alt:"warning"}),c.default.createElement("div",{className:"forgot-password-modal__content__error-message"},R)):null),c.default.createElement("button",{className:(0,g.classNames)(["button","forgot-password-modal__content__input-button","forgot-password-modal__content__input-button--forgot-password"]),type:"submit",disabled:u.default.User.isLoading},u.default.User.isLoading?P:"Send Reset Link")),c.default.createElement("div",{className:"forgot-password-modal__content__know-password"},"Know your password?"," ",c.default.createElement("a",{href:"#",className:"forgot-password-modal__content__input-link",onClick:function(e){return t=e,f.default.prevent(t),void n(v.USERAUTHENTICATIONVIEWS.signIn);var t}},"Log In ›")))}))}},"./client/components/Common/Modal/Partials/MobileLeadForm/MobileLeadForm.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/MobileLeadForm/MobileLeadForm.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),u=a("./node_modules/mobx-react/index.module.js"),m=r(a("./node_modules/react/index.js")),f=r(a("./client/components/VehicleDetails/DealerContact/DealerContact.jsx")),p=r(a("./client/components/Common/Modal/Modal.jsx"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/Common/Modal/Partials/MobileLeadForm/MobileLeadForm.scss");var v=(0,u.inject)("AppStore","ModalStore","SearchRequestStore","OptimizelyStore","VehicleDetailsStore")(n=function(e){(0,s.default)(a,e);var t=h(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){return m.default.createElement(p.default,{modalId:"srpLeadModal",wrapperClassName:"cfx-modal-leads"},m.default.createElement(d.default,{modalTitle:"Check Availability"}),m.default.createElement(f.default,{listing:this.props.SearchRequestStore.selectedVehicle,source:"messageButton"}))}}]),a}(m.default.Component))||n;t.default=v},"./client/components/Common/Modal/Partials/PhotoGallery/PhotoGallery.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,s,i=r(a("./node_modules/@babel/runtime/helpers/extends.js")),c=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=a("./client/analytics/TrackingHelperApi.js"),h=a("./client/utils/utils.ts"),v=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),_=r(a("./client/components/Common/Pillars/Pillars.jsx")),g=r(a("./client/utils/AppUtils.js")),b=r(a("./client/utils/utilities.js")),w=a("./node_modules/mobx-react/index.module.js"),S=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),E=r(a("./client/components/Common/ReactSlick/index.js")),y=r(a("./client/components/VehicleDetails/DealerContact/DealerContact.jsx")),C=r(a("./client/components/VehicleDetails/ImageGallery/ImageGallery.jsx")),x=r(a("./client/components/Common/Modal/Modal.jsx"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}a("./client/components/Common/Modal/Partials/PhotoGallery/PhotoGallery.scss");var R=(0,w.inject)("UserStore","AppStore","SearchRequestStore","ModalStore","VehicleDetailsStore")(l=(0,w.observer)((s=o=function(e){(0,u.default)(a,e);var t=N(a);function a(e){var r;return(0,c.default)(this,a),(r=t.call(this,e)).componentDidMount=function(){g.default.pushToDataLayer({event:"siteWide",pageState:"Find Car Details Photo Lightbox",pageTier:"Find a Car",siteType:r.props.AppStore.siteType,emailHashed:r.props.UserStore.hashedEmail});var e=(0,p.buildProps)({pageName:{value:"Find Car - Details Photo Lightbox"},prop2:{value:"Find Car Details Photo Lightbox"},prop3:{value:"Find Car Details Photo Lightbox"},prop4:{value:"Find a Car"},events:{value:"event5"}},["prop14"],r.props);(0,p.trackPage)(e)},r.componentDidUpdate=function(){var e=r.state.index;try{r.slider&&r.slider.innerSlider.state.currentSlide!==e&&r.slider.slickGoTo(e),r.gallery.wrappedInstance.slider&&r.gallery.wrappedInstance.slider.innerSlider.state.currentSlide!==e&&r.gallery.wrappedInstance.slider.slickGoTo(e)}catch(e){console.error(e)}},r.handleImageClick=function(e,t){b.default.prevent(e),r.handleImageChange(t)},r.handleImageChange=function(e){r.state.index!==e&&r.setState({index:e})},r.state={currentSlide:1,slickGoTo:0,startingIndex:e.ModalStore.galleryStartingIndex||0,image_src:b.default.checkProperty(r.props.SearchRequestStore.selectedVehicle,"images.firstPhoto.large")?r.props.SearchRequestStore.selectedVehicle.images.firstPhoto.large:"https://static.carfax.com/uclassets/images/vdp-noimage.png"},r}return(0,d.default)(a,[{key:"render",value:function(){var e=this,t=this.props.SearchRequestStore.selectedVehicle,a=t?t.imageCount:0,r=b.default.checkProperty(t,"images.medium")?t.images.medium:[],n=r.length>0?r.map((function(a,r){return S.default.createElement("img",{key:"cfx-modal-ig-".concat(r),src:(0,h.getVastImageUrl)(a),onClick:function(t){return e.handleImageClick(t,r)},"data-vin":t.vin,alt:""})})):S.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/vdp-noimage.png","data-vin":t.vin,alt:""}),l={className:"photo-gallery-slider ".concat(a>1?"show":"hide"),variableWidth:!0,infinite:!1,speed:350,slidesToShow:1,adaptiveHeight:!1,touchMove:!1,initialSlide:this.state.startingIndex,waitForAnimate:!0,centerMode:!0,centerPadding:"103px",afterChange:this.handleImageChange};return 0===n.length?null:S.default.createElement(x.default,{modalId:"galleryModal",wrapperClassName:"large"},S.default.createElement(v.default,{modalTitle:this.props.VehicleDetailsStore.selectedVehicle.title}),S.default.createElement("div",{className:"row"},S.default.createElement("div",{className:(0,h.classNames)(["column","small-12","photo-col","SOLD"!==t.listingStatus&&"xxlarge-7"]),id:"_automation_test_photoGalleryModal"},S.default.createElement("div",{className:"gallery-wrapper"},S.default.createElement(C.default,{ref:function(t){return e.gallery=t},onClickHandler:this.handleImageChange,isSlider:this.props.isSlider,targetModel:this.props.name,imageUrl:this.state.image_src,imageIndex:this.state.index,mainPhotoClassName:"main-photo",isPhotoGallery:!0}),!this.props.AppStore.isMobile&&S.default.createElement(_.default,{listing:t,showToolTip:!0,smallIcons:!0,isVDP:!0})),S.default.createElement(E.default,(0,i.default)({ref:function(t){return e.slider=t}},l,{isLightBoxSlider:!0}),n)),"SOLD"!==t.listingStatus&&S.default.createElement("div",{className:"column lead-col split-lead"},S.default.createElement(y.default,{source:"photo"}))))}}]),a}(S.Component),o.defaultProps={listing:{}},l=s))||l)||l;t.default=R},"./client/components/Common/Modal/Partials/PhotoGallery/PhotoGallery.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/RequestReceived/RequestReceived.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/RequestReceived/RequestReceived.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.RequestReceived=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),s=r(a("./client/stores/stores.ts")),i=r(a("./client/utils/utilities.js")),c=a("./client/utils/constants.ts"),d=a("./client/analytics/TrackingHelperApi.js");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("./client/components/Common/Modal/Partials/RequestReceived/RequestReceived.scss");var p={setView:function(){}};t.RequestReceived=function(e){var t=f(f({},p),e).setView;(0,o.useEffect)((function(){var e;e=(0,d.buildProps)({pageName:{value:"Login Forgot Password - Email Sent"},prop2:{value:"Login Forgot Password - Email Sent"},prop3:{value:"Login Forgot Password"},prop4:{value:"Find a Car"}}),(0,d.trackPage)(e)}),[]);var a=s.default.User.email.split("@"),r=a[0],n="@".concat(a[1]);return o.default.createElement("div",{className:"request-received-modal__content"},o.default.createElement("div",{className:"request-received-modal__content__body__email-container"},"Email sent to:"," ",o.default.createElement("span",{className:"request-received-modal__content__body__email"},r),o.default.createElement("span",{className:"request-received-modal__content__body__email"},n)),o.default.createElement("div",{className:"request-received-modal__content__input-button__border-container"},o.default.createElement("button",{className:"button request-received-modal__content__input-button",onClick:function(){return s.default.Modals.setModal("",!1)}},"Dismiss")),o.default.createElement("div",{className:"request-received-modal__content__know-password"},"Know your password?"," ",o.default.createElement("a",{href:"#",className:"request-received-modal__content__input-link",onClick:function(e){i.default.prevent(e,null),t(c.USERAUTHENTICATIONVIEWS.signIn)}},"Log In ›")))}},"./client/components/Common/Modal/Partials/SearchMobile/SearchMobile.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/components/Common/Modal/Modal.jsx")),o=r(a("./client/components/Common/SearchForm/Wrappers/SearchMobileWrapper.jsx")),s=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),i=function(e){var t=e.pageType;return n.default.createElement(l.default,{modalId:"mobileSearchModal",wrapperClassName:"".concat("srp"===t?"mobileSearchModal--srp":""),coverMobileView:!0},n.default.createElement(s.default,{modalTitle:"Start a New Search"}),n.default.createElement("div",{className:"row align-center"},n.default.createElement(o.default,{omitSaveSearch:!0})))};t.default=i},"./client/components/Common/Modal/Partials/SendMapToPhone/SendMapToPhone.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=a("./node_modules/mobx-react/index.module.js"),o=a("./client/utils/utils.ts"),s=r(a("./client/components/Common/Modal/Shared/ListingInfo/ListingInfo.jsx")),i=r(a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.jsx")),c=r(a("./client/components/Common/Modal/Partials/SendMapToPhone/SendMapToPhoneForm.jsx")),d=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),u=r(a("./client/components/Common/Modal/Modal.jsx"));a("./client/components/Common/Modal/Partials/SendMapToPhone/SendMapToPhone.scss"),a("./client/components/Common/Modal/Partials/SendToPhone/SendToPhone.scss");var m=n.default.createElement("div",{className:"modal-noSelectedVehicle"},n.default.createElement("img",{src:".../../../../uclassets/images/send-map-to-phone.jpg",alt:"Driving directions",style:{height:"400px"}})),f=(0,l.inject)("SearchRequestStore")((0,l.observer)((function(e){var t=e.SearchRequestStore;return n.default.createElement(u.default,{modalId:"sendMapToPhoneModal",wrapperClassName:t.selectedVehicle?"":"cfx-modal-small",title:"Send to my Phone",noSelectedVehicle:!t.selectedVehicle,adjustedHeader:!0,titleSplitModal:"Send to my Phone",splitModal:!0},n.default.createElement(d.default,{modalTitle:"Send to my Phone"}),n.default.createElement("div",{className:"row"},n.default.createElement("div",{className:"column small-12 hide-for-xlarge"},t.selectedVehicle?n.default.createElement(i.default,null):""),n.default.createElement("div",{className:"column small-12 xlarge-6 xxlarge-6 show-for-xlarge".concat(t.selectedVehicle?"":" listing-info-container-noSelectedVehicle")},t.selectedVehicle?n.default.createElement(s.default,null):m),n.default.createElement("div",{className:(0,o.classNames)([t.selectedVehicle&&"column small-12 xlarge-6 xxlarge-6 sendtophone-wrapper",!t.selectedVehicle&&"column xlarge-6 xxlarge-6 sendtophone-noSelectecCar-wrapper"])},n.default.createElement(c.default,{SendToPhoneFormWrapperClass:t.selectedVehicle?"":"center",recaptchaTarget:"sendMapRecapture",enableRecaptcha:!0,title:"Send to My Phone"}))))})));t.default=f},"./client/components/Common/Modal/Partials/SendMapToPhone/SendMapToPhone.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/SendMapToPhone/SendMapToPhoneForm.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./client/components/Common/Validator/index.jsx")),p=r(a("./client/utils/custom-validations.js")),h=r(a("./shared/services/LeadServices.js")),v=a("./client/analytics/TrackingHelperApi.js"),_=r(a("./client/analytics/BeaconHelperApi.js")),g=r(a("./client/utils/utilities.js")),b=r(a("./client/components/Common/Recaptcha/Recaptcha.jsx")),w=(r(a("./config.js")),a("./client/language/strings.js"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}f.default.extendErrors(p.default);var y=(0,m.inject)("AppStore","SearchRequestStore","ModalStore")(l=(0,m.observer)(l=function(e){(0,i.default)(a,e);var t=E(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).onFormSubmit=function(e){(e.preventDefault(),r.refs.form.isValidForm())&&r.refs[r.props.recaptchaTarget].execute()},r.submitRequest=function(){var e=r.props.SearchRequestStore.selectedVehicle.dealer||r.props.SearchRequestStore.selectedDealer;(0,v.trackLinkClick)("event92","Send Directions to Phone",e.id);var t=g.default.formatPhone(r.state.phone),a={send_to_phone:!0,phone:r.state.phone,carfaxId:e.id};r.props.SearchRequestStore.selectedVehicle&&_.default.vdpMapSubmitSendPhone(r.props.SearchRequestStore.selectedVehicle),r.setState({message:"complete",showForm:"hide",showComplete:"show",phone:t}),h.default.sendToPhone(a),r.autoCloseTimeout=setTimeout((function(){r.mounted&&"send-map-to-phone"===r.props.ModalStore.modal&&r.props.ModalStore.setModal("")}),5e3)},r.handleOnChange=function(e){if(!e)return!1;r.setState({phone:e.target.value})},r.state={showForm:"show",showComplete:"hide",phone:"",message:""},r.autoCloseTimeout=null,r}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearTimeout(this.autoCloseTimeout)}},{key:"render",value:function(){return u.default.createElement("div",{className:"cfx__modal__form__wrapper--splitModal send-to-phone-dealer-wrapper".concat(this.props.SendToPhoneFormWrapperClass?" ".concat(this.props.SendToPhoneFormWrapperClass):"")},u.default.createElement("div",{className:"cfx-modal-form-inner send-to-phone-form ".concat(this.state.showForm)},u.default.createElement(f.default.Form,{ref:"form",className:"cfx-modal-form",onSubmit:this.onFormSubmit},u.default.createElement(f.default.Input,{name:"phone",ref:"phone",placeholder:"Enter your mobile phone #",className:"ui-input send-phone send-to-phone-form-textfield",validations:[{rule:"isRequired"},{rule:"isPhone"}],type:"tel",onChange:this.handleOnChange}),u.default.createElement(b.default,{ref:this.props.recaptchaTarget,sitekey:this.props.AppStore[w.KEY_RECAPTURE],size:"invisible",badge:"inline",onChange:this.submitRequest}),u.default.createElement("button",{type:"submit",className:"button expanded large primary-green send-to-phone-form-button",value:"Send"},"Send")),u.default.createElement("div",{className:"cfx-modal-form-footer"},u.default.createElement("p",{className:"send-to-phone-form-footer"},"By entering this number, I agree that it will only be used to send this listing to myself. Message and data rates may apply."))),u.default.createElement("div",{className:"cfx__modal__complete send-to-phone-form ".concat(this.state.showComplete)},u.default.createElement("img",{className:"cfx__modal__complete__icon",src:"https://static.carfax.com/uclassets/images/message-icon.png",alt:""}),u.default.createElement("p",{className:"cfx__modal__complete__title"},"CARFAX Listing sent to:",u.default.createElement("br",null),u.default.createElement("a",{href:"tel:".concat(this.state.phone)},this.state.phone))))}}]),a}(u.Component))||l)||l;t.default=y},"./client/components/Common/Modal/Partials/SendToEmail/SendToEmail.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/components/Common/Modal/Shared/ListingInfo/ListingInfo.jsx")),o=r(a("./client/components/Common/Modal/Partials/SendToEmail/SendToEmailForm.jsx")),s=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),i=r(a("./client/components/Common/Modal/Modal.jsx"));a("./client/components/Common/Modal/Partials/SendToEmail/SendToEmail.scss");var c=function(){return n.default.createElement(i.default,{modalId:"sendToEmailModal",titleSplitModal:"Email Listing",splitModal:!0},n.default.createElement(s.default,{modalTitle:"Email Listing"}),n.default.createElement("div",{className:"send__to__email__content"},n.default.createElement("div",{className:"listing-info-container--mobile"},n.default.createElement(l.default,null)),n.default.createElement("div",{className:"listing-info-container"},n.default.createElement(l.default,null)),n.default.createElement("div",{className:"send-to-email-form-wrapper"},n.default.createElement(o.default,{recaptchaTarget:"shareEmailRecapture",enableRecaptcha:!0}))))};t.default=c},"./client/components/Common/Modal/Partials/SendToEmail/SendToEmail.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/SendToEmail/SendToEmailForm.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./node_modules/lodash/lodash.js")),p=r(a("./client/utils/custom-validations.js")),h=r(a("./shared/services/LeadServices.js")),v=a("./client/analytics/TrackingHelperApi.js"),_=r(a("./client/analytics/BeaconHelperApi.js")),g=r(a("./client/utils/AppUtils.js")),b=a("./client/language/strings.js"),w=r(a("./client/components/Common/Validator/index.jsx")),S=r(a("./client/components/Common/Recaptcha/Recaptcha.jsx"));a("./client/components/Common/Modal/Partials/SendToEmail/SendToEmail.scss"),a("./client/components/Common/Modal/Partials/SendToEmail/SendToEmailForm.scss");var E,y=r(a("./client/utils/utilities.js"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}w.default.extendErrors(p.default);var O=(0,m.inject)("UserStore","AppStore","AnalyticsStore","ModalStore","SearchRequestStore")(E=(0,m.observer)(E=function(e){(0,i.default)(a,e);var t=x(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).componentWillUpdate=function(e){r.props.SearchRequestStore.selectedVehicle.vin!==e.SearchRequestStore.selectedVehicle.vin&&r.setState({showForm:"show",showComplete:"hide",showEmailNotes:!1})},r.onFormSubmit=function(e){(e.preventDefault(),r.refs.form.isValidForm())&&r.refs[r.props.recaptchaTarget].execute()},r.submitRequest=function(){r.props.AnalyticsStore.trackSendToEmail();var e=f.default.get(r.props.SearchRequestStore.selectedVehicle,"dealer","");(0,v.trackClick)("event75","Share by Email",e.id);var t=r.state.message?r.state.message.replace(/<\/?[^>]+(>|$)/g,""):"",a=r.props.UserStore.hashedEmail,n={send_to_email:!0,fromEmail:r.state.fromEmail,toEmail:r.state.toEmail,message:t,listingId:r.props.SearchRequestStore.selectedVehicle.id,dealerId:e.id,vin:r.props.SearchRequestStore.selectedVehicle.vin,typeOfResult:r.props.SearchRequestStore.selectedVehicle.recordType,vehicleZip:r.props.SearchRequestStore.selectedVehicle.dealer.location.zip};r.setState({errorMsg:"",message:"complete",showForm:"hide",showComplete:"show"},(function(){_.default.submitShareEmail(n),h.default.sendShare(n),g.default.pushToDataLayer({event:"uclSentToEmail",siteType:r.props.AppStore.siteType,emailHashed:a}),r.refs[r.props.recaptchaTarget].reset()})),r.autoCloseTimeout=setTimeout((function(){r.mounted&&"send-to-email"===r.props.ModalStore.modal&&r.props.ModalStore.setModal("")}),5e3)},r.handleOnChange=function(e){if(!e)return!1;r.setState((0,l.default)({},e.target.name,e.target.value))},r.toggleNote=function(e){e.preventDefault(),r.setState({showEmailNotes:!r.state.showEmailNotes})},r.state={showForm:"show",showComplete:"hide",grecaptchaObject:{},errorMsg:"",showEmailNotes:!1,toEmail:"",fromEmail:"",message:""},r.autoCloseTimeout=null,r}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearTimeout(this.autoCloseTimeout)}},{key:"render",value:function(){var e=["send-to-email-form-input",this.props.SearchRequestStore.selectedVehicle.id,this.props.ModalStore.modal],t=y.default.generateInputId.apply(y.default,e.concat(["from"])),a=y.default.generateInputId.apply(y.default,e.concat(["to"])),r=y.default.generateInputId.apply(y.default,e.concat(["note"]));return u.default.createElement("div",{className:"cfx__modal__form__wrapper"},u.default.createElement("div",{className:"cfx-modal-sendToEmail-form-wrapper"},u.default.createElement("div",{className:"cfx-modal-form-inner ".concat(this.state.showForm)},u.default.createElement(w.default.Form,{ref:"form",className:"cfx-modal-form",onSubmit:this.onFormSubmit},u.default.createElement("label",{className:"send-email__input__title",htmlFor:t},"From Email"),u.default.createElement(w.default.Input,{"aria-label":"From Email",id:t,name:"fromEmail",ref:"fromEmail",className:"ui-input send-email",validations:[{rule:"isRequired"},{rule:"isEmail"}],type:"email",onChange:this.handleOnChange}),u.default.createElement("label",{className:"send-email__input__title",htmlFor:a},"To Email"),u.default.createElement(w.default.Input,{"aria-label":"To Email",id:a,name:"toEmail",ref:"toEmail",className:"ui-input send-email",validations:[{rule:"isRequired"},{rule:"isEmail"}],type:"email",onChange:this.handleOnChange}),u.default.createElement("div",{className:"email__note__wrapper",onClick:this.toggleNote,onKeyPress:this.toggleNote,"aria-expanded":this.state.showEmailNotes,tabIndex:0},u.default.createElement("img",{className:"email__note__icon",src:"".concat(this.state.showEmailNotes?"https://staging-static.carfax.com/uclassets/images/add-note-minus.png":"https://static.carfax.com/uclassets/images/add-note-plus.png"),alt:"add note"}),u.default.createElement("label",{className:"email__note__text",htmlFor:r},"Add a personal note (optional)")),u.default.createElement("span",{className:"error-msg"},this.state.errorMsg),u.default.createElement("textarea",{"aria-label":"Note",id:r,maxLength:"140",onChange:this.handleOnChange,name:"message",ref:"message",className:"ui-input input-sm send-email-note",type:"email",style:{display:this.state.showEmailNotes?"block":"none"}}),u.default.createElement(S.default,{ref:this.props.recaptchaTarget,sitekey:this.props.AppStore[b.KEY_RECAPTURE],size:"invisible",badge:"inline",onChange:this.submitRequest}),u.default.createElement("button",{type:"submit",className:"button expanded large send-button",value:"Send"},"Send")),u.default.createElement("div",{className:"cfx-modal-form-footer"},u.default.createElement("p",{className:"form-footer"},"I agree that I am sending this listing only to my friends and family and I am not sending any unsolicited emails."))),u.default.createElement("div",{className:"cfx__modal__complete ".concat(this.state.showComplete)},u.default.createElement("img",{className:"cfx__modal__complete__icon",src:"https://static.carfax.com/uclassets/images/confirmation-check-mark.png",alt:"check mark"}),u.default.createElement("span",{className:"cfx__modal__complete__title"},"Your Message Was Sent"))))}}]),a}(u.Component))||E)||E;t.default=O},"./client/components/Common/Modal/Partials/SendToEmail/SendToEmailForm.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/SendToPhone/SendToPhone.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/components/Common/Modal/Shared/ListingInfo/ListingInfo.jsx")),o=r(a("./client/components/Common/Modal/Modal.jsx")),s=r(a("./client/components/Common/Modal/Partials/SendToPhone/SendToPhoneForm.jsx")),i=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx"));a("./client/components/Common/Modal/Partials/SendToPhone/SendToPhone.scss");var c=function(){return n.default.createElement(o.default,{modalId:"sendToPhoneModal",titleSplitModal:"Send to my Phone",splitModal:!0},n.default.createElement(i.default,{modalTitle:"Send To My Phone"}),n.default.createElement("div",{className:"send__to__phone__content"},n.default.createElement("div",{className:"listing-info-container--mobile"},n.default.createElement(l.default,null)),n.default.createElement("div",{className:"listing-info-container"},n.default.createElement(l.default,null)),n.default.createElement("div",{className:"sendtophone-wrapper"},n.default.createElement("div",{className:"send-to-phone-form-container"},n.default.createElement(s.default,{recaptchaTarget:"sendToPhoneRecapture",enableRecaptcha:!0})))))};t.default=c},"./client/components/Common/Modal/Partials/SendToPhone/SendToPhone.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/SendToPhone/SendToPhoneForm.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./client/utils/custom-validations.js")),p=r(a("./shared/services/LeadServices.js")),h=a("./client/analytics/TrackingHelperApi.js"),v=r(a("./client/analytics/BeaconHelperApi.js")),_=r(a("./client/utils/utilities.js")),g=r(a("./client/utils/AppUtils.js")),b=a("./client/language/strings.js"),w=r(a("./client/components/Common/Validator/index.jsx")),S=r(a("./client/components/Common/Recaptcha/Recaptcha.jsx"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/Common/Modal/Modal.scss"),a("./client/components/Common/Modal/Partials/SendToPhone/SendToPhone.scss"),a("./client/components/Common/Modal/Partials/SendToPhone/SendToPhoneForm.scss"),w.default.extendErrors(f.default);var C=(0,m.inject)("UserStore","AppStore","AnalyticsStore","ModalStore","SearchRequestStore")(l=(0,m.observer)(l=function(e){(0,i.default)(a,e);var t=y(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).componentWillUpdate=function(e){r.props.SearchRequestStore.selectedVehicle.vin!==e.SearchRequestStore.selectedVehicle.vin&&r.setState({showForm:!0,showComplete:!1})},r.onFormSubmit=function(e){return e.preventDefault(),!r.state.isError&&14===r.state.phone.length&&r.refs[r.props.recaptchaTarget].execute()},r.submitRequest=function(){var e=r.props.SearchRequestStore.selectedVehicle.dealer;r.props.AnalyticsStore.trackSendToPhone(),(0,h.trackLinkClick)("event74","Share by Phone",e.id);var t=_.default.formatPhoneForNAP(r.state.phone),a={send_to_phone:!0,phone:t,listingId:r.props.SearchRequestStore.selectedVehicle.id};"sendMapToPhoneModal"===r.props.modalId?v.default.vdpMapSubmitSendPhone(r.props.SearchRequestStore.selectedVehicle):v.default.submitSendPhone(r.props.SearchRequestStore.selectedVehicle),r.setState({message:"complete",showForm:!1,showComplete:!0,phone:t}),p.default.sendToPhone(a);var n=r.props.UserStore.hashedEmail;g.default.pushToDataLayer({event:"uclSentToPhone",siteType:r.props.AppStore.siteType,emailHashed:n}),r.autoCloseTimeout=setTimeout((function(){r.mounted&&"send-to-phone"===r.props.ModalStore.modal&&r.props.ModalStore.setModal("")}),5e3)},r.handleValidation=function(e){if(!e)return!1;e.preventDefault();var t=_.default.formatPhone(e.target.value);return!1==!!_.default.validatePhone(t)&&"blur"===e.type?r.setState({phone:t,isError:!0}):r.setState({phone:t,isError:!1})},r.renderForm=function(){if(r.state.showForm){var e="send-to-phone-form-input-".concat(r.props.SearchRequestStore.selectedVehicle.id,"-").concat(r.props.ModalStore.modal);return u.default.createElement("div",{className:"cfx-modal-form-inner send-to-phone-form"},u.default.createElement("form",{className:"cfx-modal-form",ref:"form",onSubmit:r.onFormSubmit},u.default.createElement("label",{htmlFor:e,className:"send-to-phone-form-textfield__title"},"Enter your mobile phone number"),u.default.createElement("input",{id:e,name:"phone",ref:"phone",className:"ui-input send-phone send-to-phone-form-textfield ".concat(r.state.isError?"is-invalid-input":""),type:"tel",value:r.state.phone,onChange:r.handleValidation,onBlur:r.handleValidation}),u.default.createElement(S.default,{ref:r.props.recaptchaTarget,sitekey:r.props.AppStore[b.KEY_RECAPTURE],size:"invisible",badge:"inline",onChange:r.submitRequest}),u.default.createElement("button",{type:"submit",className:"button expanded large send-to-phone-form-button",value:"Send"},"Send")),u.default.createElement("div",{className:"cfx-modal-form-footer"},u.default.createElement("p",{className:"send-to-phone-form-footer"},"By entering this number, I agree that it will only be used to send this listing to myself. Message and data rates may apply.")))}return null},r.renderCompletionMessage=function(){return r.state.showComplete?u.default.createElement("div",{className:"cfx__modal__complete send-to-phone-form"},u.default.createElement("img",{className:"cfx__modal__complete__icon",src:"https://static.carfax.com/uclassets/images/confirmation-check-mark.png",alt:"check mark"}),u.default.createElement("p",{className:"cfx__modal__complete__title"},"Your Message Was Sent")):null},r.state={showForm:!0,showComplete:!1,phone:""},r.autoCloseTimeout=null,r}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearTimeout(this.autoCloseTimeout)}},{key:"render",value:function(){return u.default.createElement("div",{className:"cfx__modal__form__wrapper--splitModal"},this.renderForm(),this.renderCompletionMessage())}}]),a}(u.Component))||l)||l;t.default=C},"./client/components/Common/Modal/Partials/SendToPhone/SendToPhoneForm.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/SignUp/Partials/AccountCreated.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/SignUp/Partials/AccountCreated.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.AccountCreated=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/stores/stores.ts"));a("./client/components/Common/Modal/Partials/SignUp/Partials/AccountCreated.scss");t.AccountCreated=function(){return n.default.createElement("div",{className:"account-created-modal__account-created-text"},n.default.createElement("div",{className:"account-created-modal__account-created-text__header"},"You've successfully created your CARFAX account."),n.default.createElement("div",{className:"account-created-modal__account-created-text__body"},"You can now save your car search and follow cars you're interested in buying for you and your family."),n.default.createElement("button",{className:"button account-created-modal__account-created-text__input",onClick:function(){return l.default.Modals.setModal("",!1)}},"Continue Shopping"))}},"./client/components/Common/Modal/Partials/UpdatePassword/UpdatePassword.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/UpdatePassword/UpdatePassword.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatePassword=void 0;var l=r(a("./node_modules/@babel/runtime/regenerator/index.js")),o=r(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),i=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),d=a("./node_modules/mobx-react/index.module.js"),u=a("./node_modules/password-checklist/dist/PasswordChecklist.js"),m=r(a("./client/stores/stores.ts")),f=r(a("./client/components/Common/Validator/index.jsx")),p=r(a("./client/utils/custom-validations.js")),h=r(a("./client/utils/utilities.js")),v=r(a("./shared/services/UserServices.js")),_=a("./client/utils/constants.ts"),g=a("./client/analytics/TrackingHelperApi.js");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("./client/components/Common/Modal/Partials/UpdatePassword/UpdatePassword.scss"),f.default.extendErrors(p.default);var E=function(e){if(e===_.CONVERSIONFLOWVIEWS.firstFollow){var t=(0,g.buildProps)({pageName:{value:"Find Car - Follow Car Modal - Password Error"},prop2:{value:"Find Car - Follow Car Modal - Password Error"},prop3:{value:"Find Car Follow Car"},prop4:{value:"Find a Car"}});(0,g.trackPage)(t)}else if(e===_.CONVERSIONFLOWVIEWS.firstSaved){var a=(0,g.buildProps)({pageName:{value:"Find Car - Save Search Modal - Password Error"},prop2:{value:"Find Car - Save Search Modal - Password Error"},prop3:{value:"Find Car Save Search"},prop4:{value:"Find a Car"}});(0,g.trackPage)(a)}},y={setView:function(){},setSystemErrorMessage:function(){}};t.UpdatePassword=function(e){var t=S(S({},y),e),a=t.setView,r=t.setSystemErrorMessage,n=(0,c.useRef)(null),i=(0,c.useRef)(null),p=(0,c.useState)(""),g=(0,s.default)(p,2),b=g[0],w=g[1],C=(0,c.useState)(!1),x=(0,s.default)(C,2),O=x[0],N=x[1],R=(0,c.useState)(!1),j=(0,s.default)(R,2),P=j[0],k=j[1],M=(0,c.useState)(""),F=(0,s.default)(M,2),I=F[0],T=F[1],D=function(){a(_.CONVERSIONFLOWVIEWS.confirmationMessage)};(0,c.useEffect)((function(){var e=(0,u.isPasswordValid)(b);k(e)}),[b]);var U=c.default.createElement("span",null,c.default.createElement("i",{className:"fa fa-cog fa-spin","aria-hidden":"true"})," Signing Up..."),V=O?"https://static.carfax.com/uclassets/images/icon-hidePassword-blue.svg":"https://static.carfax.com/uclassets/images/icon-showPassword-blue.svg",A=function(){var e=(0,o.default)(l.default.mark((function e(){var t;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.default.User.setIsLoading(!0),e.next=4,v.default.changePassword(b);case 4:if(200!==(t=e.sent).status||m.default.Modals.modal!==_.CONVERSIONFLOWVIEWS.firstFollow){e.next=9;break}D(),e.next=15;break;case 9:if(200!==t.status){e.next=14;break}return m.default.Modals.setModal("",!1),e.abrupt("return");case 14:throw{message:"500"};case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),r(_.errorMessages.system.general);case 20:return e.prev=20,e.next=23,h.default.sleep(1e3);case 23:return m.default.User.setIsLoading(!1),e.finish(20);case 25:case"end":return e.stop()}}),e,null,[[0,17,20,25]])})));return function(){return e.apply(this,arguments)}}(),L=function(e){h.default.prevent(e,null),m.default.Modals.modal===_.CONVERSIONFLOWVIEWS.firstFollow?D():m.default.Modals.setModal("",!1)},W=function(e){if(h.default.prevent(e,!1),T(""),r(""),n.current.forceValidate(!0),n.current.isValidForm()&&P)A();else{var t=i.current.state.isValid,a=!!b&&0!==b.length;t&&P||(a?(m.default.Modals.isConversionOpen&&E(m.default.Modals.modal),T(_.errorMessages.password.notStrongEnough)):(m.default.Modals.isConversionOpen&&E(m.default.Modals.modal),T(_.errorMessages.password.noInput)))}},q=function(e){e&&e.target&&(e.target.value||""===e.target.value)&&w(e.target.value)};return c.default.createElement(d.Observer,null,(function(){return c.default.createElement(f.default.Form,{ref:n,className:"cfx-modal-form ea-signin-form",onSubmit:W},c.default.createElement("div",{className:"update-password-modal__content__input-container"},c.default.createElement("div",{className:"update-password-modal__content__input__title"},"Create Password"),c.default.createElement(f.default.Input,{name:"password",ref:i,containerClassName:"form-group",className:"update-password-modal__content__input",validations:[{rule:"isRequired"},{rule:"isLengthEight"},{rule:"hasUpperCase"},{rule:"hasLowerCase"},{rule:"hasNumber"}],type:O?"text":"password",onChange:q,value:b,"aria-label":"Enter Password"}),c.default.createElement("img",{className:"update-password-modal__content__input__icon update-password-modal__content__input__icon--password",onClick:function(){return N(!O)},onKeyDown:h.default.handleKeysDown(["Enter"," "],(function(){return N(!O)})),src:V,alt:O?"Hide password":"Show password",tabIndex:0,role:"button"}),I?c.default.createElement("div",{className:"update-password-modal__content__error-message"},I):null),c.default.createElement(u.PasswordChecklist,{className:"update-password-modal__content__password-checklist",password:b,isColumn:m.default.App.isMobile||m.default.App.isTablet}),c.default.createElement("div",{className:"update-password-modal__content__disclaimer"},"By signing up, you confirm that you've read and accepted our"," ",c.default.createElement("a",{href:"https://www.carfax.com/company/terms-of-use",className:"update-password-modal__content__disclaimer__input-link",target:"_blank",rel:"noreferrer noopener"},"Terms of Use")," ","and"," ",c.default.createElement("a",{href:"https://www.carfax.com/company/privacy-statement",className:"update-password-modal__content__disclaimer__input-link",target:"_blank",rel:"noreferrer noopener"},"Privacy Policy")),c.default.createElement("button",{className:"button update-password-modal__content__input-button",type:"submit",disabled:m.default.User.isLoading},m.default.User.isLoading?U:"Create Password"),c.default.createElement("a",{href:"#",className:"update-password-modal__content__input-link update-password-modal__content__input-link--do-later",onClick:L},"Do this later ›"))}))}},"./client/components/Common/Modal/Partials/UserReviewForm/ErrorMessage.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=function(e){var t=e.className,a=e.message;return n.default.createElement("div",{className:"column small-12 review-form__error ".concat(t)},a)};t.default=l},"./client/components/Common/Modal/Partials/UserReviewForm/Star.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=function(e){var t=e.selected,a=void 0!==t&&t,r=e.onClick,l=void 0===r?function(e){return e}:r;return n.default.createElement("div",{className:a?"fa fa-star selected":"fa fa-star",onClick:l})};t.default=l},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewForm.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=r(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./node_modules/lodash/lodash.js")),p=r(a("./shared/services/SearchServices.js")),h=r(a("./shared/services/RestClient.js")),v=r(a("./shared/services/VrsClient.js")),_=r(a("./shared/services/CagClient.js")),g=r(a("./client/utils/utilities.js")),b=r(a("./client/utils/custom-validations.js")),w=r(a("./client/components/Common/Modal/Modal.jsx")),S=r(a("./client/components/Common/Validator/index.jsx")),E=r(a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewStarRating.jsx")),y=r(a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewFormTooltip.jsx")),C=r(a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewSectionItem.jsx")),x=r(a("./client/components/Common/Modal/Partials/UserReviewForm/ErrorMessage.jsx")),O=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx"));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/images/icn_green_check.png"),a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewForm.scss"),S.default.extendErrors(b.default);var R=(0,m.inject)("SearchParamStore","SearchRequestStore")(n=(0,m.observer)(n=function(e){(0,i.default)(a,e);var t=N(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).setReviewMake=function(e){var t;e&&e.target&&(t=e.target.value||""),void 0!==t&&(r.setState({selectedMake:t,selectedModel:"",selectedYear:""}),t&&(r.props.validateElements("make",t),p.default.getVrsMakeModels(t).then((function(e){return r.setState({modelList:e})}))))},r.setReviewModel=function(e){var t;e&&e.target&&(t=e.target.value||""),void 0!==t&&r.setState({selectedModel:t,selectedYear:""}),t&&(r.props.validateElements("model",t),p.default.getVrsYMMs(r.state.selectedMake,t).then((function(e){return r.setState({yearList:e})})))},r.setReviewYear=function(e){var t;e&&e.target&&(t=e.target.value||""),t&&(r.props.validateElements("year",t),r.setState({selectedYear:t}))},r.setReviewRating=function(e){e&&r.props.validateElements("globalRating",e.toString()),r.setState({globalRating:e.toString()})},r.setStateValue=function(e){var t,a;e&&e.target&&(t=e.target.value||"",a=e.target.name),void 0!==t&&(f.default.includes(["screenName","email","globalTitle","globalReview"],a)&&r.props.validateElements(a,t),r.setState((0,l.default)({},a,t)))},r.updateReviewsSection=function(e,t,a){var n=r.state.reviewSections.slice(),l=f.default.findIndex(n,["sectionName",e]);"showTextArea"===t?n[l][t]=!n[l][t]:("rating"!==t||n[l].showTextArea||(n[l].showTextArea=!n[l].showTextArea),n[l][t]=a),r.setState({reviewSections:n})},r.handleReviewsSectionChange=function(e,t,a){if(a&&a.target){var n=a.target.value||"";r.updateReviewsSection(e,t,n)}},r.handleToggleTooltip=function(e){g.default.prevent(e),r.setState({tooltipIsVisible:!r.state.tooltipIsVisible})},r.handleFormSubmit=function(e){g.default.prevent(e);var t=r.state,a=t.selectedMake,n=t.selectedModel,l=t.selectedYear,o=t.globalRating,s=t.globalReview,i=t.globalTitle,c=t.email,d=t.screenName,u=t.reviewSections;if(r.refs.form.forceValidate(!0),!r.refs.form.isValidForm())return document.querySelector(".cfx-modal-body").scrollTo(0,0),r.props.validateForm({make:a,model:n,year:l,globalTitle:i,globalReview:s,globalRating:o,email:c,screenName:d}),!1;var m={id:null,vehicle:{year:l,make:a,model:n},date:(new Date).toISOString(),email:c,screenName:d,globalReview:s,globalRating:o,globalTitle:i,reviewSections:u};if(m.reviewSections.forEach((function(e){return delete e.showTextArea})),f.default.isEmpty(r.props.validateState.errors)){var p=v.default.submitVrpReviewApiUrl();h.default.post(p,_.default.getArgsWithNoAuthHeader(),JSON.stringify(m)),r.setState({formSubmitted:!0})}},r.renderTextArea=function(e,t){var a=f.default.findIndex(r.state.reviewSections,["sectionName",e]);return u.default.createElement("div",{className:"review-form__details"},u.default.createElement("textarea",{value:r.state.reviewSections[a].comment,onChange:function(t){return r.handleReviewsSectionChange(e,"comment",t)},placeholder:t,name:e,rows:"6"}))},r.renderUserReviewSection=function(){return[{label:"Interior",name:"Interior",placeholder:"What stood out in your mind about the interior of this vehicle?"},{label:"Exterior",name:"Exterior",placeholder:"How would you describe the exterior of the vehicle?"},{label:"Performance",name:"Performance",placeholder:"What's your view on this car's performance?"},{label:"Family Friendly",name:"Family",placeholder:"In what ways is this vehicle family friendly?"},{label:"Cost Effective",name:"Cost",placeholder:"How cost effective is this vehicle?"}].map((function(e,t){var a=e.label,n=e.name,l=e.placeholder;return u.default.createElement(C.default,{key:t,label:a,name:n,placeholder:l,showTextArea:r.state.reviewSections[t].showTextArea,renderTextArea:r.renderTextArea,updateSection:r.updateReviewsSection})}))},r.renderError=function(e){var t=r.props.validateState,a=t.displayErrors,n=t.errors;return"show"===a?u.default.createElement(x.default,{message:n[e],className:"make"}):null},r.createOption=function(e,t){return u.default.createElement("option",{key:"cfx-".concat(t,"-").concat(e.key),id:"".concat(t,"_").concat(e.value.replace("+","-")),value:e.value.replace("+"," ")}," ",e.value.replace("+"," ")," ")},r.renderOptions=function(e,t,a){if("Makes"===t){var n=f.default.map(e,(function(e,t){return{key:t.toString(),value:e.make}}));return n.length>0?u.default.createElement("optgroup",{label:t},f.default.map(n,(function(e){return r.createOption(e,"make")}))," "):""}var l=f.default.map(f.default.reduce(e,(function(e,t){return void 0===f.default.find(e,(function(e){return e[a]===t[a]}))&&e.push(t),e}),[]),(function(e,t){return{key:t.toString(),value:e[a]}}));return l.length>0?u.default.createElement("optgroup",{label:t},f.default.map(l,(function(e){return r.createOption(e,"model")}))," "):""},r.state={selectedMake:r.props.SearchParamStore.selectedMake||"",selectedModel:r.props.SearchParamStore.selectedModel||"",selectedYear:r.props.SearchRequestStore.reviews.reviewList[0].year||"",makeList:[],modelList:[],yearList:[],globalRating:"",globalTitle:"",globalReview:"",email:"",screenName:"",reviewSections:[{reviewId:null,rating:"",comment:"",sectionName:"Interior",showTextArea:!1},{reviewId:null,rating:"",comment:"",sectionName:"Exterior",showTextArea:!1},{reviewId:null,rating:"",comment:"",sectionName:"Performance",showTextArea:!1},{reviewId:null,rating:"",comment:"",sectionName:"Family",showTextArea:!1},{reviewId:null,rating:"",comment:"",sectionName:"Cost",showTextArea:!1}],tooltipIsVisible:!1,formSubmitted:!1},r}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.SearchParamStore,a=t.selectedMake,r=t.selectedModel;p.default.getVrsMakes().then((function(t){return e.setState({makeList:t})})),p.default.getVrsMakeModels(a).then((function(t){return e.setState({modelList:t})})),p.default.getVrsYMMs(a,r).then((function(t){return e.setState({yearList:t})}))}},{key:"render",value:function(){var e=this,t=this.props.validateState,a=t.displayErrors,r=t.errors,n=this.state,l=n.selectedMake,o=n.selectedModel,s=n.selectedYear,i=n.makeList,c=n.modelList,d=n.yearList,m=document.querySelector(".cfx-modal-body");return u.default.createElement(w.default,{modalId:"user-review-form"},u.default.createElement(O.default,{modalTitle:"Write a Review"}),this.state.formSubmitted?u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"column small-12 success-message centered"},u.default.createElement("img",{className:"success-message__img centered",src:"/uclassets/images/icn_green_check.png",alt:"green check icon"}),u.default.createElement("div",{className:"centered"},"Thank you for your review!"))):u.default.createElement("div",{className:"row user-review-form__body"},u.default.createElement("div",{className:"small-12 column cfx-modal-body__desc"},"Help car buyers find the right car by sharing a rating and review for a car you own or have driven."),f.default.isEmpty(r)?null:u.default.createElement("div",{className:"error-message"},"Please review the highlighted fields."),u.default.createElement(S.default.Form,{ref:"form",className:"review-form__wrapper",onSubmit:this.handleFormSubmit},u.default.createElement("div",{className:"row review-form"},u.default.createElement("div",{className:"small-12 column review-form__label"},"Your Vehicle Details"),u.default.createElement("div",{className:"small-12 xxxlarge-4 column"},u.default.createElement("div",{className:"review-form__form-field-wrapper"},u.default.createElement(S.default.Select,{className:"form-control search-make",validations:[{rule:"isRequired"}],name:"make",ref:"make",value:l,onChange:this.setReviewMake},u.default.createElement("option",{value:"",id:"make_All"},"Select Make"),this.renderOptions(i,"Makes")),this.renderError("make"))),u.default.createElement("div",{className:"small-12 xxxlarge-4 column"},u.default.createElement("div",{className:"review-form__form-field-wrapper"},u.default.createElement(S.default.Select,{className:"form-control search-model",validations:[{rule:"isRequired"}],name:"model",ref:"model",value:o,disabled:!this.state.selectedMake,onChange:this.setReviewModel},u.default.createElement("option",{value:"",id:"model_All"},"Select Model"),this.renderOptions(c,"Models","uisModelName")),this.renderError("model"))),u.default.createElement("div",{className:"small-12 xxxlarge-4 column"},u.default.createElement("div",{className:"review-form__form-field-wrapper"},u.default.createElement(S.default.Select,{className:"form-control search-year",validations:[{rule:"isRequired"}],name:"year",ref:"year",value:s,disabled:!this.state.selectedModel,onChange:this.setReviewYear},u.default.createElement("option",{value:"",id:"year_All"},"Select Year"),this.renderOptions(d,"Years","year")),this.renderError("year"))),u.default.createElement("div",{className:"small-12 column review-form__label global-rating-label"},"Overall Rating and Review"),u.default.createElement("div",{className:"star-rating-wrapper global-rating small-12 column"},u.default.createElement(E.default,{setRating:function(t){return e.setReviewRating(t)},required:"show"!==a||this.state.globalRating?"":"required"})),this.renderError("globalRating"),u.default.createElement("div",{className:"small-12 column"},u.default.createElement(S.default.Input,{label:"globalTitle",id:"globalTitle",name:"globalTitle",ref:"globalTitle",placeholder:"Give your review a title",className:"ui-input",value:this.state.globalTitle,validations:[{rule:"isRequired"}],type:"text",onChange:this.setStateValue}),this.renderError("globalTitle")),u.default.createElement("div",{className:"small-12 column review-form__details-global"},u.default.createElement(S.default.Textarea,{className:"ui-input",value:this.state.globalReview,onChange:this.setStateValue,validations:[{rule:"isRequired"}],placeholder:"What’s your opinion of this vehicle? What features would you like to point out to car buyers? What advice might you give people considering this car?",name:"globalReview",rows:"6"}),this.renderError("globalReview")),u.default.createElement("div",{className:"small-12 column"},u.default.createElement("div",{className:"row review-form__guidelines"},u.default.createElement("div",{className:"column small-12 large-6"},"(25 character minimum)"),u.default.createElement("div",{className:"column small-12 large-6 review-form__guidelines__tooltip"},u.default.createElement("div",{className:"tooltip-container"},u.default.createElement("button",{onClick:this.handleToggleTooltip,className:"tooltip-container__btn"},"Writing guidelines"),u.default.createElement("div",{className:"tooltip-container__tip ".concat(this.state.tooltipIsVisible?"is-open":"")},u.default.createElement("div",null,u.default.createElement(y.default,null))),this.state.tooltipIsVisible?u.default.createElement("div",{className:"tooltip-container__toggle",onClick:function(t){e.handleToggleTooltip(t,!1)}}):"")))),u.default.createElement("div",{className:"small-12 column container angle centered"},u.default.createElement("a",{type:"button",onClick:function(){return m.scrollTo(0,m.scrollHeight)}},u.default.createElement("i",{className:"big angle-down"}))),u.default.createElement("div",{className:"small-12 column"},u.default.createElement("p",{className:"centered in-depth__header"},"In-Depth Review (Optional)")),u.default.createElement("div",{className:"in-depth__review-section row"},this.renderUserReviewSection()),u.default.createElement("div",{className:"column small-12 review-form__email"},u.default.createElement(S.default.Input,{name:"email",ref:"email",label:"email",labelname:"Email",id:"email",value:this.state.email,className:"ui-input flex-width",validations:[{rule:"isRequired"},{rule:"isEmail"}],type:"email",onChange:this.setStateValue}),this.renderError("email")),u.default.createElement("div",{className:"column small-12"},u.default.createElement(S.default.Input,{label:"screenName",labelname:"First Name",id:"screenName",type:"text",name:"screenName",className:"ui-input flex-width",value:this.state.screenName,ref:"screenName",validations:[{rule:"isRequired"}],onChange:this.setStateValue}),this.renderError("screenName")),u.default.createElement("div",{className:"small-12 column review-form__disclaimer"},"By submitting a review, you agree to creating an account subject to the ",u.default.createElement("span",null,u.default.createElement("a",{href:"http://www.carfax.com/company/privacy-statement"},"CARFAX Privacy Policy"))," ","&"," ",u.default.createElement("span",null,u.default.createElement("a",{href:"http://www.carfax.com/company/legal-disclaimer"},"Terms of Use")),"."),u.default.createElement("div",{className:"column small-12"},u.default.createElement("button",{type:"submit",className:"button cfx-green review-form__submit-btn"},"Submit Review"))))))}}]),a}(u.default.Component))||n)||n;t.default=R},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewForm.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewFormHocEntry.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewForm.jsx")),l=(0,r(a("./client/components/Common/FormValidationHOC/FormValidationHOC.jsx")).default)(n.default);t.default=l},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewFormTooltip.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js"));a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewFormTooltip.scss");var l=function(){return n.default.createElement("div",{className:"user-review-tooltip-text"},"We want to be able to publish your car review. Please:",n.default.createElement("ul",null,n.default.createElement("li",null,"Write your review for people considering buying that year make model (rather than an individual car)"),n.default.createElement("li",null,"Refrain from mentioning competitors"),n.default.createElement("li",null,"Don‘t discuss the buying experience or car dealers"),n.default.createElement("li",null,"Do not include any personally identifiable information")))};t.default=l},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewFormTooltip.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewSectionItem.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewStarRating.jsx")),o=function(e){var t=e.name,a=e.placeholder,r=e.label,o=e.showTextArea,s=e.renderTextArea,i=e.updateSection,c=function(e,a){return i(t,e,a)};return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"small-6 column review-form__label"},r),n.default.createElement("div",{className:"small-6 column right-align"},n.default.createElement("button",{onClick:function(){return c("showTextArea")},type:"button"},n.default.createElement("i",{className:"small ".concat(o?"angle-up":"angle-down")}))),n.default.createElement("fieldset",{className:"column small-12"},n.default.createElement("div",{className:"star-rating-wrapper"},n.default.createElement(l.default,{setRating:function(e){return c("rating",e)}})),o?s(t,a):null))};t.default=o},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewStarRating.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),i=r(a("./client/components/Common/Modal/Partials/UserReviewForm/Star.jsx"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}a("./client/components/Common/Modal/Partials/UserReviewForm/UserReviewStarRating.scss");var d=function(e){var t=e.setRating,a=e.required,r=(0,s.useState)(0),n=(0,o.default)(r,2),c=n[0],d=n[1];return s.default.createElement("div",{className:"star-rating ".concat(a)},(0,l.default)(Array(5)).map((function(e,a){return s.default.createElement(i.default,{key:a,selected:a<c,onClick:function(){d(a+1),t(a+1)}})})))};t.default=d},"./client/components/Common/Modal/Partials/UserReviewForm/UserReviewStarRating.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/UserReviewModal/ExtendedReviewModal.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),m=r(a("./client/utils/utilities.js")),f=r(a("./client/components/Common/Modal/Modal.jsx")),p=r(a("./client/components/SearchResults/UserReviews/ExtendedReviewItem.jsx"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/Common/Modal/Partials/UserReviewModal/ExtendedReviewModal.scss");var v=(0,u.inject)("ModalStore","AppStore","SearchRequestStore")(n=(0,u.observer)(n=function(e){(0,s.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).onResize=function(){var e=window.innerHeight;document.getElementById("extended-review-modal")&&(document.getElementById("extended-review-modal").style.height="".concat(e,"px"))},e.renderReviewItem=function(e,t,a){return d.default.createElement(p.default,{review:e,searchTerm:a,showFullReview:t,charLimit:150})},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){if(this.props.AppStore.isMobile){var e=window.innerHeight;document.getElementById("extended-review-modal")&&(document.getElementById("extended-review-modal").style.height="".concat(e,"px")),window.addEventListener("resize",this.onResize)}}},{key:"componentWillUnmount",value:function(){this.props.AppStore.isMobile&&(document.getElementById("extended-review-modal")&&(document.getElementById("extended-review-modal").style.height="100vh"),window.removeEventListener("resize",this.onResize)),this.props.SearchRequestStore.setReviewFeedbackSubmitted(!1),this.props.SearchRequestStore.setReportReviewActive(!1)}},{key:"render",value:function(){var e=this.props.ModalStore.reviewData,t=e.review,a=e.searchTerm,r=e.showFullReview,n=t.year,l=t.make,o=t.uisModelName,s=m.default.capitalize,i=this.props.SearchRequestStore,c=i.reportReviewActive,u=i.reviewFeedbackSubmitted,p="".concat(n," ").concat(s(l.toLowerCase())," ").concat(s(o.toLowerCase())," Review");return c&&(p="Report this Review"),u&&(p=d.default.createElement("div",{className:"user-review-feedback-success__title"},d.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/Success-Icon.png",alt:"success icon"}),"Success!")),d.default.createElement(f.default,{modalId:"extended-review-modal",title:p,wrapperClassName:"extended-review-modal",headerClassName:"extended-review-header",bodyClassName:"extended-review-body"},this.renderReviewItem(t,r,a))}}]),a}(d.default.Component))||n)||n;t.default=v},"./client/components/Common/Modal/Partials/UserReviewModal/ExtendedReviewModal.scss":function(e,t,a){},"./client/components/Common/Modal/Partials/UserReviewModal/UserReviewModal.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=r(a("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),s=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),d=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=r(a("./node_modules/react/index.js")),f=a("./node_modules/mobx-react/index.module.js"),p=r(a("./client/components/Common/Modal/Modal.jsx")),h=r(a("./client/components/Common/Stars/SVGStars.jsx")),v=r(a("./client/components/SearchResults/UserReviews/UserReviewSection.jsx")),_=r(a("./client/components/SearchResults/UserReviews/UserReviewSearch.jsx")),g=r(a("./client/components/SearchResults/UserReviews/UserReviewSearchError.jsx")),b=r(a("./client/components/SearchResults/UserReviews/userRnRMethods.js"));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,u.default)(e);if(t){var n=(0,u.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}a("./client/components/Common/Modal/Partials/UserReviewModal/UserReviewModal.scss");var y=(0,f.inject)("SearchRequestStore")(n=(0,f.observer)(n=function(e){(0,c.default)(a,e);var t=E(a);function a(e){var r;return(0,s.default)(this,a),(r=t.call(this,e)).setLoadingStatus=function(e){r.setState({isLoading:e})},r.setNumberOfLoadedReviews=function(e){r.setState({numberOfLoadedReviews:e})},r.setLoadedReviews=function(e){r.setState({loadedReviews:[].concat((0,o.default)(r.state.loadedReviews),(0,o.default)(r.reviewsMapper(e)))})},r.setSearchTerm=function(e){return r.setState({searchTerm:e})},r.setCommentBoxStatus=function(e,t){return r.state.loadedReviews.map((function(e){return!0===e.commentBoxOpen||!0===e.feedbackSubmitted?S(S({},e),{},{commentBoxOpen:!1,feedbackSubmitted:!1}):e})).map((function(a){return a.date===t.date?S(S({},a),{},{commentBoxOpen:e}):a}))},r.setFeedbackSubmitted=function(e,t){return r.state.loadedReviews.map((function(e){return!0===e.commentBoxOpen?S(S({},e),{},{commentBoxOpen:!1}):e})).map((function(a){return a.date===t.date?S(S({},a),{},{feedbackSubmitted:e}):a}))},r.handleSetCommentBoxStatus=function(e,t){r.setState({loadedReviews:r.setCommentBoxStatus(e,t)})},r.handleSetFeedbackSubmitted=function(e,t){r.setState({loadedReviews:r.setFeedbackSubmitted(e,t)})},r.reviewsMapper=function(e){return e.map((function(e){return Object.assign(e,{commentBoxOpen:!1,feedbackSubmitted:!1})}))},r.fetchReviews=function(){r.setLoadingStatus(!0);var e=r.props.SearchRequestStore.ymmReviewsList,t=r.state.numberOfLoadedReviews,a=t+10>e.length?e.length:t+10,n=e.slice(t,a);r.setNumberOfLoadedReviews(a),r.setLoadedReviews(n),r.setLoadingStatus(!1)},r.handleScroll=function(){var e=document.getElementsByClassName("cfx-modal-body")[0],t=r.props.SearchRequestStore.ymmReviewsList,a=r.state.numberOfLoadedReviews;e.clientHeight+e.scrollTop===e.scrollHeight&&a<t.length&&r.fetchReviews()},r.searchText=function(e,t,a){if(!t||t.length<2)return!1;"undefined"!=typeof window&&(document.getElementsByClassName("cfx-modal-body")[0].scrollTop=0);var n=e.reviewSections.some((function(e){return r.containsSearchTerm(e.comment,t)})),l=r.containsSearchTerm(e.globalReview.substring(a),t);return!(!n&&!l)},r.containsSearchTerm=function(e,t){var a=new RegExp("(".concat(t,")"),"gi");try{return e.split(a).length>1}catch(e){console.error("Error getting search term",e)}},r.renderReviewItem=function(e,t){var a=r.state.searchTerm;return m.default.createElement(v.default,{key:t,review:e,charLimit:150,containsSearchTerm:r.searchText(e,a,150),searchTerm:a,showViewAllReviewsLink:!1,setCommentBoxStatus:function(t){return r.handleSetCommentBoxStatus(t,e)},setFeedbackSubmitted:function(t){return r.handleSetFeedbackSubmitted(t,e)}})},r.renderReviews=function(e){return e.map(r.renderReviewItem)},r.renderStarRating=function(e){return m.default.createElement(h.default,{value:e})},r.state={loadedReviews:[],numberOfLoadedReviews:0,isLoading:!1,searchTerm:"",showError:!1},r}return(0,i.default)(a,[{key:"componentDidMount",value:function(){var e=this;document.getElementsByClassName("cfx-modal-body")[0].addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){var t=(e.props.SearchRequestStore||[]).firstTenReviews;e.setLoadedReviews(t),e.setNumberOfLoadedReviews(t.length)}),500)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.searchTerm;if(a!==t.searchTerm){var r=this.props.SearchRequestStore.ymmReviewsList;if(a.length>1){var n=b.default.filterReviews(a,r);n&&n.length>0?this.setState({showError:!1}):this.setState({showError:!0}),this.setState({loadedReviews:n})}else this.setState({loadedReviews:r,numberOfLoadedReviews:r.length,showError:!1})}}},{key:"componentWillUnmount",value:function(){document.getElementsByClassName("cfx-modal-body")[0].removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props.SearchRequestStore.seoState.subject,a="User Reviews for ".concat(t),r=this.state,n=r.loadedReviews,l=r.isLoading,o=r.searchTerm,s=r.showError,i=r.numberOfLoadedReviews,c=this.props.SearchRequestStore,d=c.reviews,u=c.firstTenReviews,f=c.ymmReviewsList,h=d.globalRatingAverage>0?d.globalRatingAverage.toFixed(1):"N/A",v=d.reviewCount&&!isNaN(d.reviewCount)?d.reviewCount:0,b=f.length>10&&i<f.length?m.default.createElement("div",{className:"row align-center"},m.default.createElement("button",{className:"user-reviews-load-more-btn",onClick:this.fetchReviews},"Load More Reviews",m.default.createElement("span",{className:l?"user_reviews__modal_loading show":"hide"}))):"";return m.default.createElement(p.default,{modalId:"user-review-modal",reviewsModalHeader:m.default.createElement("header",{className:"column small-12"},m.default.createElement("div",{className:"user_reviews__modal_header"},m.default.createElement("h2",{className:"user_reviews__modal_title"},a),m.default.createElement("div",{className:"user_reviews__modal_subtitle"},m.default.createElement("div",{className:"user_reviews__modal_review-summary"},m.default.createElement("p",{className:"user_reviews__modal_score"},h),e.renderStarRating(h),m.default.createElement("p",{className:"user_reviews__modal_description"},v," Review",v>1?"s":""),m.default.createElement("div",{className:"user_reviews__modal_verified-icon"},m.default.createElement("i",{className:"fa fa-ic_verified user_reviews__modal_verified-icon",alt:"verified reviews icon"}))),m.default.createElement(_.default,{handleSetSearchTerm:function(t){return e.setSearchTerm(t)},searchTerm:o}))))},m.default.createElement("div",{className:"row user_reviews__modal"},m.default.createElement("div",{className:"column small-12"},s?m.default.createElement(g.default,null):this.renderReviews(n.length?n:u),b)))}}]),a}(m.default.Component))||n)||n;t.default=y},"./client/components/Common/Modal/Partials/UserReviewModal/UserReviewModal.scss":function(e,t,a){},"./client/components/Common/Modal/Shared/ConfirmationMsg/ConfirmationMsg.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),s=a("./client/analytics/TrackingHelperApi.js"),i=r(a("./client/utils/utilities.js")),c=a("./client/utils/constants.ts"),d=r(a("./client/stores/stores.ts")),u=r(a("./client/components/VehicleDetails/DealerContact/DealerContact.jsx")),m=a("./client/utils/utils.ts");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={setView:function(){}},_=function(e){var t=h(h({},v),e).setView,a=d.default.SearchRequest.selectedVehicle,r=d.default.SearchRequest.selectedVehicle.dealer;(0,o.useEffect)((function(){d.default.Optimizely.activatePage("followConfirm");var e=(0,s.buildProps)({pageName:{value:"Find Car - Follow Car Modal - Confirmation"},prop2:{value:"Find Car - Follow Car Modal - Confirmation"},prop3:{value:"Find Car Follow Car"},prop4:{value:"Find a Car"},events:{value:"event63,event111,event311"}});(0,s.trackPage)(e)}));var n=function(e){i.default.prevent(e),d.default.Modals.setModal("",!1)},l=d.default.Optimizely.followLeadVariation;if("default"!==l){var f="sticky-cta"===l&&d.default.App.isMobile;return o.default.createElement("div",{className:"cfx__modal__complete__lead__container"},o.default.createElement("div",{className:(0,m.classNames)("split-lead",f&&"split-lead--sticky")},o.default.createElement(u.default,{listing:a,source:"followModal"})),o.default.createElement("div",{className:(0,m.classNames)("cfx__modal__complete__no__thanks",f&&"cfx__modal__complete__no__thanks--sticky")},o.default.createElement("span",{onClick:function(e){return n(e)},className:"cfx__modal__complete__no__thanks__text"},"No Thanks")))}return o.default.createElement(o.default.Fragment,null,o.default.createElement("img",{className:"cfx__modal__complete__icon",src:"https://staging-static.carfax.com/uclassets/images/confirmation-check-mark.png",alt:"check mark"}),o.default.createElement("span",{className:"cfx__modal__complete__title"},"You're Now Following This Car"),o.default.createElement("p",{className:"cfx__modal__complete__body"},'To view all the cars you are following, go to "Cars I\'m Following" under "Account".'),o.default.createElement("p",{className:"cfx__modal__complete__subtitle"},"Don't let this car get away!"),"ENHANCED"===a.recordType&&r&&r.phone&&r.phone.length?o.default.createElement("div",{className:"cfx__modal__complete__dealer__phone"},o.default.createElement("i",{className:"fa fa-phone fa-lg cfx__modal__complete__dealer__phone__icon"}),o.default.createElement("p",null,r&&r.phone)):null,r?o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"cfx__modal__complete__buttons__container ".concat(a&&"ENHANCED"!==a.recordType?"cfx__modal__complete__buttons__container--noCall":"")},o.default.createElement("button",{onClick:function(){t(c.CONVERSIONFLOWVIEWS.dealerContact),d.default.Modals.setCheckAvailabilityForm(!0),(0,s.trackClick)("event54","Email Dealer - ".concat(r.label," - ").concat(r.location.city," - ").concat(r.location.state," - ").concat(r.location.zip," - ").concat(r.phone))},className:"button large cfx__modal__complete__button",value:"Send"},o.default.createElement("i",{className:"fa fa-envelope cfx__modal__complete__dealer__envelope__icon"}),o.default.createElement("span",{className:"cfx__modal__complete__button__text"},d.default.App.isMobile?"Message":"Check Availability")),"ENHANCED"===a.recordType?o.default.createElement("button",{onClick:function(){(0,s.trackClick)("event49","Mobile Call Dealer - ".concat(r.label," - ").concat(r.location.city," - ").concat(r.location.state," - ").concat(r.location.zip," - ").concat(r.phone))},className:"button large cfx__modal__complete__button hide-for-xlarge",value:"Send"},o.default.createElement("a",{href:"tel:".concat(r&&r.phone),style:{color:"white"}},o.default.createElement("i",{className:"fa fa-lg fa-phone cfx__modal__complete__dealer__phone__icon--mobile"}),o.default.createElement("span",{className:"cfx__modal__complete__button__text"},"Call Dealer"))):""),o.default.createElement("div",{className:"cfx__modal__complete__no__thanks"},o.default.createElement("span",{onClick:function(e){return n(e)},className:"cfx__modal__complete__no__thanks__text"},"No Thanks"))):null)};t.default=_},"./client/components/Common/Modal/Shared/ConversionFlow/ConversionFlow.scss":function(e,t,a){},"./client/components/Common/Modal/Shared/ConversionFlow/ConversionFlow.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.ConversionFlow=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=x(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),i=a("./node_modules/mobx-react/index.module.js"),c=a("./node_modules/carfax-auth-provider/dist/index.js"),d=r(a("./shared/helpers/CookieManager.js")),u=r(a("./client/components/Common/Modal/Modal.jsx")),m=r(a("./client/stores/stores.ts")),f=a("./client/components/Common/Modal/Partials/Conversion/Conversion.tsx"),p=a("./client/components/Common/Modal/Partials/SignIn/SignIn.tsx"),h=a("./client/utils/constants.ts"),v=r(a("./client/utils/utilities.js")),_=r(a("./client/components/Common/Pillars/Pillars.jsx")),g=a("./client/components/Common/Modal/Partials/UpdatePassword/UpdatePassword.tsx"),b=a("./client/components/Common/Modal/Partials/ForgotPassword/ForgotPassword.tsx"),w=a("./client/components/Common/Modal/Partials/RequestReceived/RequestReceived.tsx"),S=r(a("./client/components/Common/Modal/Shared/ConfirmationMsg/ConfirmationMsg.jsx")),E=r(a("./client/components/VehicleDetails/DealerContact/DealerContact.jsx")),y=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx"));a("./client/components/Common/Modal/Shared/ConversionFlow/ConversionFlow.scss");var C=a("./client/utils/utils.ts");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(x=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.ConversionFlow=function(){var e,t,a,r,n,l,x=m.default.Modals.modal,O=(0,s.useState)(""),R=(0,o.default)(O,2),j=R[0],P=R[1],k=(0,s.useRef)(null),M=(0,s.useState)(x),F=(0,o.default)(M,2),I=F[0],T=F[1],D=function(){P("")},U=function(e){D(),T(e)},V=(0,c.useCarfaxAuth)()||{},A=V.login,L=V.signup;switch((0,s.useEffect)((function(){m.default.User.attemptedAccountCreationUserAlreadyExists&&m.default.User.setAttemptedAccountCreationUserAlreadyExists(!1)}),[]),(0,s.useEffect)((function(){var e=document.querySelector(".conversion-flow-modal__modal");e&&e.scrollIntoView()}),[]),(0,s.useEffect)((function(){""!==j&&k.current&&k.current.scrollIntoView()}),[j,k.current]),x){case h.CONVERSIONFLOWVIEWS.firstFollow:case h.CONVERSIONFLOWVIEWS.confirmationMessage:case"check-availability-vm-redesign-1305":var W=m.default.SearchRequest.selectedVehicle,q=W.title,B=W.mileage?W.mileage.label:0,H=W.price?W.price.current_price.label:0,z="default"!==(null===(e=m.default.Optimizely)||void 0===e?void 0:e.followLeadVariation)&&I===h.CONVERSIONFLOWVIEWS.confirmationMessage,Y=(n=(r=W).backfill?"Request Quote":"Call for Price","$0"!==(l=r&&r.price&&r.price.current_price&&r.price.current_price.label||"$0")?l:n),G=W.currentPrice>=5e3?"".concat(W.payment.label,"/mo est. ").concat(W.payment.down_payment_percentage?"(".concat(W.payment.down_payment_percentage,"% down)"):""):"",K=s.default.createElement("div",{className:"conversion-flow-modal__image__pillars",key:"conversion-flow-pillars__".concat(q,"-").concat(B,"-").concat(H)},s.default.createElement(_.default,{showToolTip:!1,listing:W,showDescriptionDefault:!1,listClassName:"srp-list-item-pillars-list",itemClassName:"srp-list-item-pillars-item"})),X=v.default.checkProperty(W,"images.firstPhoto.large")?W.images.firstPhoto.large:v.default.checkProperty(W,"images.firstPhoto.medium")?W.images.firstPhoto.medium:v.default.checkProperty(W,"images.firstPhoto.small")?W.images.firstPhoto.small:"",J=s.default.createElement("div",{className:"conversion-flow-modal__image__wrapper"},s.default.createElement("img",{className:"conversion-flow-modal__image conversion-flow-modal__image--first-follow",src:X,key:"conversion-flow-image__".concat(q,"-").concat(B,"-").concat(H)})),Z=s.default.createElement("div",{className:"conversion-flow-modal__image__text",key:"conversion-flow-image__text__".concat(q,"-").concat(B,"-").concat(Y)},s.default.createElement("div",{className:"conversion-flow-modal__image__text__make-model"},q),s.default.createElement("div",{className:"conversion-flow-modal__image__text__price"},Y," ",s.default.createElement("span",{className:"conversion-flow-modal__image__text__price__payment"},G)),s.default.createElement("div",{className:"conversion-flow-modal__image__text__mileage"},s.default.createElement("span",{className:"conversion-flow-modal__image__text__mileage__header"},"Mileage: "),B," miles"));t=s.default.createElement("div",{className:"conversion-flow-modal__header"},z&&s.default.createElement("div",{className:"conversion-flow-modal__complete__title__container"},s.default.createElement("img",{className:"conversion-flow-modal__complete__icon",src:"https://staging-static.carfax.com/uclassets/images/confirmation-check-mark.png",alt:"check mark"}),s.default.createElement("span",{className:"conversion-flow-modal__complete__title"},"You're Now Following This Car")),s.default.createElement("div",{className:"conversion-flow-modal__vehicle-details-container conversion-flow-modal__vehicle-details-container--first-follow"},Z,J,K),z&&s.default.createElement("p",{className:"conversion-flow-modal__complete__body"},'To view all the cars you are following, go to "Cars I\'m Following" under "Account".'));break;case h.CONVERSIONFLOWVIEWS.firstSaved:var $=m.default.SearchRequest.searchInfo.subject,Q=m.default.SearchParams,ee=Q.radius,te=Q.zip;t=s.default.createElement("div",{className:"conversion-flow-modal__header"},s.default.createElement("div",{className:"conversion-flow-modal__vehicle-details-container conversion-flow-modal__vehicle-details-container--first-saved"},s.default.createElement("div",{className:"conversion-flow-modal__vehicle-details__text"},s.default.createElement("div",{className:"conversion-flow-modal__vehicle-details__text__make-model"},$),s.default.createElement("div",{className:"conversion-flow-modal__vehicle-details__text"},"within"," ",s.default.createElement("span",{className:"conversion-flow-modal__vehicle-details__text__detail"},ee," miles")," ","of"," ",s.default.createElement("span",{className:"conversion-flow-modal__vehicle-details__text__detail"},te))),s.default.createElement("img",{className:"conversion-flow-modal__image",src:"https://static.carfax.com/uclassets/images/image_UCL_save_this_search.png"})))}var ae="",re="",ne=s.default.createElement("div",{className:"conversion-flow-modal__content__disclaimer conversion-flow-modal__content__disclaimer--footer"},s.default.createElement("a",{href:"https://www.carfax.com/company/privacy-statement",className:"conversion-flow-modal__content__disclaimer__input-link",target:"_blank",rel:"noreferrer noopener"},"Privacy Policy")," ","|"," ",s.default.createElement("a",{href:"https://www.carfax.com/company/terms-of-use",className:"conversion-flow-modal__content__disclaimer__input-link",target:"_blank",rel:"noreferrer noopener"},"Terms of Use"));switch(x){case h.CONVERSIONFLOWVIEWS.firstSaved:ae="Save This Search",re="Email me price drops and new listings for this search!";break;case h.CONVERSIONFLOWVIEWS.firstFollow:default:ae="Follow This Car",re="Email me if this and similar cars drop in price or become newly available!"}switch(I){case h.CONVERSIONFLOWVIEWS.firstFollow:ae="Sign Up - ".concat(ae),a=s.default.createElement(f.Conversion,{setView:U,setSystemErrorMessage:P,type:"first-follow"});break;case h.CONVERSIONFLOWVIEWS.firstSaved:ae="Sign Up - ".concat(ae),a=s.default.createElement(f.Conversion,{setView:U,setSystemErrorMessage:P,type:"first-saved"});break;case h.CONVERSIONFLOWVIEWS.signIn:ae="Log In - ".concat(ae),ne=null,a=s.default.createElement(p.SignIn,{setView:U,setSystemErrorMessage:P});break;case h.CONVERSIONFLOWVIEWS.forgotPassword:ae=h.forgotPasswordText.header,re=h.forgotPasswordText.subheader,a=s.default.createElement(b.ForgotPassword,{setView:U,setSystemErrorMessage:P});break;case h.CONVERSIONFLOWVIEWS.requestReceived:ae=h.requestReceivedText.header,re=h.requestReceivedText.subheader,a=s.default.createElement(w.RequestReceived,{setView:U});break;case h.CONVERSIONFLOWVIEWS.updatePassword:a=s.default.createElement(g.UpdatePassword,{setView:U,setSystemErrorMessage:P});break;case h.CONVERSIONFLOWVIEWS.confirmationMessage:ae="Follow Confirmation",re="",ne=null,a=s.default.createElement(S.default,{setView:U});break;case h.CONVERSIONFLOWVIEWS.dealerContact:ae="Contact Dealer",re="",ne=null,a=s.default.createElement(E.default,{source:"followModal"});break;case"check-availability-vm-redesign-1305":ae="",re="",ne=null,a=s.default.createElement(E.default,{source:"vmRedesignCheckAvailability"})}var le=s.default.createElement(s.default.Fragment,null,""!==re?s.default.createElement("div",{className:"conversion-flow-modal__modal__content__body"},re):null),oe=I===h.CONVERSIONFLOWVIEWS.signIn?s.default.createElement("div",{className:"conversion-flow-modal__content__no-account"},"New to CARFAX?"," ",s.default.createElement("a",{href:"#",className:"conversion-flow-modal__content__input-link",onClick:function(e){return function(e){e&&v.default.prevent(e),m.default.User.followPostLogin&&m.default.User.setFollowPostLogin(!1),m.default.User.saveSearchPostLogin&&m.default.User.setSaveSearchPostLogin(!1),T(x)}(e)}},"Sign Up ›")):null,se=s.default.createElement(s.default.Fragment,null,"It looks like you already have an account with us."," ",s.default.createElement("a",{className:"user-authentication-modal__error-message__text__link",href:"#",onClick:function(e){switch(v.default.prevent(e),m.default.User.setAttemptedAccountCreationUserAlreadyExists(!0),x){case h.CONVERSIONFLOWVIEWS.firstFollow:m.default.User.setFollowPostLogin(!0);break;case h.CONVERSIONFLOWVIEWS.firstSaved:m.default.User.setSaveSearchPostLogin(!0)}T(h.CONVERSIONFLOWVIEWS.signIn),P("")}},"Log In")),ie="We just sent a verification email to ",ce=s.default.createElement(s.default.Fragment,null,"You've almost reached the maximum number of login attempts."," ",s.default.createElement("a",{className:"user-authentication-modal__error-message__text__link",href:"#",onClick:function(e){v.default.prevent(e),U(h.CONVERSIONFLOWVIEWS.forgotPassword)}},"Reset Password")),de=m.default.Optimizely.modalsGlobalLoginVariation;return s.default.createElement(i.Observer,null,(function(){var e;return s.default.createElement(u.default,{modalId:"conversionFlow",wrapperClassName:"conversion-flow-modal__modal ".concat(m.default.App.isMobile?"conversion-flow-modal__modal--mobile":""),userId:m.default.User.id},"check-availability-vm-redesign-1305"!==x?s.default.createElement(y.default,{modalTitle:ae}):null,s.default.createElement("div",{className:"modal__body__wrapper"},t,s.default.createElement("div",{className:(0,C.classNames)("conversion-flow-modal__content__border-container",(I===h.CONVERSIONFLOWVIEWS.dealerContact||"check-availability-vm-redesign-1305"===I)&&"conversion-flow-modal__content__border-container--dealerContact","default"!==(null===(e=m.default.Optimizely)||void 0===e?void 0:e.followLeadVariation)&&I===h.CONVERSIONFLOWVIEWS.confirmationMessage&&"conversion-flow-modal__content__border-container--followLead")},s.default.createElement("div",{className:"conversion-flow-modal__content ".concat(I===h.CONVERSIONFLOWVIEWS.confirmationMessage?"conversion-flow-modal__content--confirmationMsg ":"","\n              ").concat(I===h.CONVERSIONFLOWVIEWS.dealerContact||"check-availability-vm-redesign-1305"===I?"conversion-flow-modal__content--dealerContact":"")},j?s.default.createElement("div",{ref:k,className:"user-authentication-flow-modal__content__error-message-container".concat(j.props&&j.props.children[0]===ie?" user-authentication-flow-modal__content__error-message-container--green":"")},s.default.createElement("div",{className:"user-authentication-flow-modal__content__error-message__text-container-flex"},s.default.createElement("img",{className:"user-authentication-flow-modal__content__error-message__icon--alert",src:j.props&&j.props.children[0]===ie?"https://static.carfax.com/uclassets/images/green-icon-alert.svg":"https://static.carfax.com/uclassets/images/icon-alert.svg"}),s.default.createElement("div",{className:"user-authentication-flow-modal__content__error-message__text".concat(!j.props||"It looks like you previously started an account with us. Please verify your email address to finish. "!==j.props.children[0]&&j.props.children[0]!==ie?"":" user-authentication-flow-modal__content__error-message__text--verify")},j?j===h.errorMessages.signUp.existingAccount?se:j===h.errorMessages.signIn.auth0ExcessAttempts?ce:j:null)),s.default.createElement("img",{className:"user-authentication-flow-modal__content__error-message__icon--close",src:j.props&&j.props.children[0]===ie?"https://static.carfax.com/uclassets/images/icon-x-green.svg":"https://static.carfax.com/uclassets/images/icon-x-red.svg",onClick:D})):null,le,"global-login"===de&&m.default.Modals.modal!==h.CONVERSIONFLOWVIEWS.confirmationMessage?s.default.createElement("div",{className:"auth0-tab-container"},s.default.createElement("div",{className:"auth0-tab-container__tab ".concat(I===h.CONVERSIONFLOWVIEWS.signIn?"auth0-tab-container__tab--active":""),onClick:function(e){v.default.prevent(e),U(h.CONVERSIONFLOWVIEWS.signIn)}},"Log In"),s.default.createElement("div",{className:"auth0-tab-container__tab ".concat(I===h.CONVERSIONFLOWVIEWS.firstFollow||I===h.CONVERSIONFLOWVIEWS.firstSaved?"auth0-tab-container__tab--active":""),onClick:function(e){v.default.prevent(e),U("first-follow"===m.default.Modals.modal?h.CONVERSIONFLOWVIEWS.firstFollow:h.CONVERSIONFLOWVIEWS.firstSaved)}},"Sign Up")):"",a,"global-login"===de&&m.default.Modals.modal!==h.CONVERSIONFLOWVIEWS.confirmationMessage?s.default.createElement("button",{className:"global__login__button",onClick:function(e){return function(e){v.default.prevent(e,null);var t="first-follow"===m.default.Modals.modal,a="first-saved"===m.default.Modals.modal;t?(localStorage.setItem("firstFollow",JSON.stringify(N({},m.default.SearchRequest.selectedVehicle))),localStorage.setItem("firstFollowSource",m.default.User.followSource)):a&&localStorage.setItem("firstSaved",JSON.stringify(N({},m.default.SearchParams.resultsParams))),window.location.pathname.indexOf("/Used-")>-1&&(localStorage.setItem("uiFilters",JSON.stringify(N({},m.default.Filters.uiDisplayFilters))),localStorage.setItem("SearchParamStore",JSON.stringify(N({},m.default.SearchParams))),localStorage.setItem("SearchRequestStore",JSON.stringify(N(N({},m.default.SearchRequest),{},{savedSrps:{}})))),d.default.saveCustomCookie("standardRedirectPath",window.location.pathname.substring(1));var r=I===h.CONVERSIONFLOWVIEWS.firstFollow,n=I===h.CONVERSIONFLOWVIEWS.firstSaved;(r||n)&&m.default.Optimizely.experiments["605-modals-global-login"]?(m.default.Optimizely.trackEvent("Action - Sign Up First ".concat(r?"Follow":"Save"," Click"),{directCall:!0}),d.default.saveCustomCookie("globalFollowOrSave","SignUp".concat(r?"Follow":"Save")),L()):m.default.Optimizely.experiments["605-modals-global-login"]&&(m.default.Optimizely.trackEvent("Action - Log In First ".concat(t?"Follow":"Save"," Click"),{directCall:!0}),d.default.saveCustomCookie("globalFollowOrSave","Login".concat(t?"Follow":"Save")),A())}(e)}},I===h.CONVERSIONFLOWVIEWS.firstFollow||I===h.CONVERSIONFLOWVIEWS.firstSaved?"Sign Up with Email":"Log In with Email"):"","default"===de?oe:"","default"===de?ne:""))))}))}},"./client/components/Common/Modal/Shared/ListingInfo/ListingInfo.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,s,i=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),c=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),d=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),h=r(a("./client/components/Common/Pillars/Pillars.jsx")),v=r(a("./client/utils/utilities.js"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,u.default)(this,a)}}a("./client/components/Common/Modal/Shared/ListingInfo/ListingInfo.scss");var b=(0,p.inject)("SearchRequestStore","OptimizelyStore")(l=(0,p.observer)((s=o=function(e){(0,d.default)(a,e);var t=g(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props.SearchRequestStore.selectedVehicle,t=e.payment?e.payment.down_payment_percentage:0,a=e.currentPrice<5e3?"":f.default.createElement("span",{className:"modal-listing-money-down"},"$",Math.round(e.payment?e.payment.total:0),"/mo est. (",t,"% down)");return f.default.createElement("div",{className:"modal-listing-info"},f.default.createElement("div",{className:"modal-listing-summary"},f.default.createElement("span",{className:"modal-listing-title"},e.title),f.default.createElement("span",{className:"modal-listing-price"},e.price?e.price.current_price.label:0,a),f.default.createElement("span",{className:"listing-modal-mileage"},f.default.createElement("span",{className:"listing-modal-mileage-title"},"Mileage: ")," ",e.mileage?e.mileage.label:0," miles")),f.default.createElement("div",{className:"modal-listing-photo"},f.default.createElement("img",{src:v.default.checkProperty(e,"images.firstPhoto.large")?e.images.firstPhoto.large:"https://static.carfax.com/uclassets/images/vdp-noimage.png",alt:""})),f.default.createElement("div",{className:"modal-listing-pillars"},f.default.createElement(h.default,{listing:e})))}}]),a}(f.Component),o.defaultProps={listing:{}},l=s))||l)||l;t.default=b},"./client/components/Common/Modal/Shared/ListingInfo/ListingInfo.scss":function(e,t,a){},"./client/components/Common/Modal/Shared/UserAuthenticationFlow/UserAuthenticationFlow.scss":function(e,t,a){},"./client/components/Common/Modal/Shared/UserAuthenticationFlow/UserAuthenticationFlow.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.UserAuthenticationFlow=void 0;var l=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),s=a("./node_modules/mobx-react/index.module.js"),i=a("./client/components/Common/Modal/Partials/SignIn/SignIn.tsx"),c=a("./client/components/Common/Modal/Partials/SignUp/SignUp.tsx"),d=a("./client/components/Common/Modal/Partials/SignUp/Partials/AccountCreated.tsx"),u=a("./client/components/Common/Modal/Partials/ForgotPassword/ForgotPassword.tsx"),m=a("./client/components/Common/Modal/Partials/RequestReceived/RequestReceived.tsx"),f=a("./client/utils/constants.ts"),p=r(a("./client/stores/stores.ts")),h=r(a("./client/components/Common/Modal/Modal.jsx")),v=r(a("./client/utils/utilities.js"));a("./client/components/Common/Modal/Shared/UserAuthenticationFlow/UserAuthenticationFlow.scss");var _=r(a("./client/components/Common/Modal/Shared/ModalHeader/ModalHeader.tsx")),g=a("./client/utils/utils.ts");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}t.UserAuthenticationFlow=function(){var e=p.default.Modals.modal,t=(0,o.useState)(""),a=(0,l.default)(t,2),r=a[0],n=a[1],b=(0,o.useRef)(null),w=(0,o.useState)(e),S=(0,l.default)(w,2),E=S[0],y=S[1],C=function(){n("")},x=function(e){var t;C(),y(e),null===(t=p.default.Modals)||void 0===t||t.setModal(e)};(0,o.useEffect)((function(){""!==r&&b.current&&b.current.scrollIntoView()}),[r,b.current]),(0,o.useEffect)((function(){var e=document.querySelector(".user-authentication-modal__modal");e&&e.scrollIntoView()}),[E]);var O,N=o.default.createElement("div",{className:"user-authentication-modal__header"},o.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/carfax.svg",className:"user-authentication-modal__header__logo",alt:"CARFAX logo"})),R="",j="";switch(E){case f.USERAUTHENTICATIONVIEWS.signIn:R=p.default.User.attemptedAccountCreationUserAlreadyExists?f.welcomeBackText.header:f.signInText.header,O=o.default.createElement(i.SignIn,{setView:x,setSystemErrorMessage:n});break;case f.USERAUTHENTICATIONVIEWS.signUp:R=f.signUpText.header,O=o.default.createElement(c.SignUp,{setView:x,setSystemErrorMessage:n});break;case f.USERAUTHENTICATIONVIEWS.accountCreated:N=o.default.createElement("div",{className:"account-created-modal__header account-created-modal__header--account-created"},o.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/carfax.svg",className:"account-created-modal__header__logo",alt:"CARFAX logo"}),o.default.createElement("img",{className:"account-created-modal__header__image--fox-celebrating",src:"https://static.carfax.com/uclassets/images/carFox_Celebrating.png",alt:"carfox celebrating"})),R="Account Created!",O=o.default.createElement(d.AccountCreated,null);break;case f.USERAUTHENTICATIONVIEWS.forgotPassword:R=f.forgotPasswordText.header,j=f.forgotPasswordText.subheader,O=o.default.createElement(u.ForgotPassword,{setView:x,setSystemErrorMessage:n});break;case f.USERAUTHENTICATIONVIEWS.requestReceived:R=f.forgotPasswordText.header,j=f.requestReceivedText.subheader,N=o.default.createElement("div",{className:"request-received-modal__header"},o.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/carfax.svg",className:"user-authentication-modal__header__logo",alt:"CARFAX logo"}),o.default.createElement("div",{className:"request-received-modal__header--request-received"},o.default.createElement("i",{className:"fa fa-check-circle"}),f.requestReceivedText.header)),O=o.default.createElement(m.RequestReceived,{setView:x})}var P=o.default.createElement(o.default.Fragment,null,""!==j?o.default.createElement("div",{className:"".concat(E,"-modal__content__body")},j):null),k=E===f.USERAUTHENTICATIONVIEWS.signIn,M=E===f.USERAUTHENTICATIONVIEWS.signUp,F=function(){C(),M?x(f.USERAUTHENTICATIONVIEWS.signIn):k&&x(f.USERAUTHENTICATIONVIEWS.signUp)},I=E===f.USERAUTHENTICATIONVIEWS.signIn||E===f.USERAUTHENTICATIONVIEWS.signUp?o.default.createElement("div",{className:"auth0-tab-container"},o.default.createElement("div",{className:"auth0-tab-container__tab ".concat(k?"auth0-tab-container__tab--active":""),onClick:F,tabIndex:0,role:"button",onKeyDown:v.default.handleKeysDown(["Enter"," "],F)},"Log In"),o.default.createElement("div",{className:"auth0-tab-container__tab ".concat(M?"auth0-tab-container__tab--active":""),onClick:F,tabIndex:0,role:"button",onKeyDown:v.default.handleKeysDown(["Enter"," "],F)},"Sign Up")):null,T=o.default.createElement(o.default.Fragment,null,"It looks like you already have an account with us."," ",o.default.createElement("a",{className:"user-authentication-modal__error-message__text__link",href:"#",onClick:function(e){return t=e,v.default.prevent(t),p.default.User.setAttemptedAccountCreationUserAlreadyExists(!0),y(f.USERAUTHENTICATIONVIEWS.signIn),void n("");var t}},"Log In")),D="We just sent a verification email to ",U=o.default.createElement(o.default.Fragment,null,"You've almost reached the maximum number of login attempts."," ",o.default.createElement("a",{className:"user-authentication-modal__error-message__text__link",href:"#",onClick:function(e){v.default.prevent(e),x(f.USERAUTHENTICATIONVIEWS.forgotPassword)}},"Reset Password"));return o.default.createElement(s.Observer,null,(function(){return o.default.createElement(h.default,{modalId:"userAuthenticationCombo",wrapperClassName:(0,g.classNames)(["user-authentication-modal__modal",(E===f.USERAUTHENTICATIONVIEWS.forgotPassword||E===f.USERAUTHENTICATIONVIEWS.requestReceived||E===f.USERAUTHENTICATIONVIEWS.accountCreated)&&"user-authentication-modal__modal_forgot_password"]),userId:p.default.User.id},o.default.createElement(_.default,{modalTitle:R}),N,o.default.createElement("div",{className:"".concat(E,"-modal__content")},r?o.default.createElement("div",{ref:b,className:"user-authentication-flow-modal__content__error-message-container".concat(r.props&&r.props.children[0]===D?" user-authentication-flow-modal__content__error-message-container--green":"")},o.default.createElement("div",{className:"user-authentication-flow-modal__content__error-message__text-container-flex"},o.default.createElement("img",{className:"user-authentication-flow-modal__content__error-message__icon--alert",src:r.props&&r.props.children[0]===D?"https://static.carfax.com/uclassets/images/green-icon-alert.svg":"https://static.carfax.com/uclassets/images/icon-alert.svg"}),o.default.createElement("div",{className:"user-authentication-flow-modal__content__error-message__text".concat(!r.props||"It looks like you previously started an account with us. Please verify your email address to finish. "!==r.props.children[0]&&r.props.children[0]!==D?"":" user-authentication-flow-modal__content__error-message__text--verify")},r===f.errorMessages.signUp.existingAccount?T:r===f.errorMessages.signIn.auth0ExcessAttempts?U:r)),o.default.createElement("img",{className:"user-authentication-flow-modal__content__error-message__icon--close",src:r.props&&r.props.children[0]===D?"https://static.carfax.com/uclassets/images/icon-x-green.svg":"https://static.carfax.com/uclassets/images/icon-x-red.svg",onClick:C})):null,I,P,O))}))}},"./client/components/Common/SearchForm/Dropdowns/Dropdowns.scss":function(e,t,a){},"./client/components/Common/SearchForm/Dropdowns/MobileDropdownDealerSearch.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),m=r(a("./client/components/Common/SearchForm/Dropdowns/MobileDropdownMakes.jsx"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/Common/SearchForm/Dropdowns/Dropdowns.scss");var p=(0,u.inject)("ModalStore","SearchParamStore","AppStore")(n=(0,u.observer)(n=function(e){(0,s.default)(a,e);var t=f(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleSelectMake=function(t,a){t.preventDefault(),e.props.SearchParamStore.setMake(a),e.handleClose()},e.handleClose=function(){e.props.ModalStore.callDropdown("")},e}return(0,o.default)(a,[{key:"render",value:function(){return d.default.createElement("div",null,this.props.AppStore.isMobile&&d.default.createElement("div",{className:"mobile-param-search-dropdown ".concat(this.props.ModalStore.active?"mobile-param-search-dropdown-active":""," ").concat(this.props.ModalStore.preparing?"mobile-param-search-dropdown-preparing":"")},d.default.createElement("div",{className:"mobile-param-search-dropdown-header"},"Select Make",d.default.createElement("i",{className:"fa fa-2x fa-times dropdown-close-button",onClick:this.handleClose})),d.default.createElement(m.default,{handleSelect:this.handleSelectMake})))}}]),a}(d.default.Component))||n)||n;t.default=p},"./client/components/Common/SearchForm/Dropdowns/MobileDropdownMakes.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),l=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),s=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),i=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=r(a("./node_modules/react/index.js")),d=(r(a("./node_modules/lodash/lodash.js")),a("./node_modules/mobx-react/index.module.js"));a("./client/components/Common/SearchForm/Dropdowns/Dropdowns.scss");var u,m,f,p=r(a("./client/utils/SearchUtils.ts"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var v=(0,d.inject)("SearchParamStore","SearchRequestStore","ModalStore","OptimizelyStore")(u=(0,d.observer)((f=m=function(e){(0,o.default)(a,e);var t=h(a);function a(){var e;(0,n.default)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).renderAllMakesOption=function(){return c.default.createElement("div",null,c.default.createElement("div",{key:"make-dropdown-0-abt28",className:"mobile-param-search-dropdown-item",onClick:function(t){return e.props.handleClose(t,!0)}},c.default.createElement("span",null,"All Makes"),c.default.createElement("i",{className:"fa fa-2x fa-angle-right"})))},e.renderOptions=function(t,a){return a&&a.length?c.default.createElement("div",null,c.default.createElement("div",{className:"mobile-param-search-dropdown-label"},t),a.map((function(t){return c.default.createElement("div",{key:"make-dropdown-".concat(t.id),className:"mobile-param-search-dropdown-item",onClick:function(a){return e.props.handleSelect(a,t.encodedName.replace("+"," "))}},c.default.createElement("span",null,t.label),c.default.createElement("i",{className:"fa fa-2x fa-angle-right"}))}))):null},e}return(0,l.default)(a,[{key:"render",value:function(){return c.default.createElement("div",{id:"mobile-search-dropdown-makes",className:"mobile-param-search-dropdown-container ".concat(this.props.active?"mobile-param-search-dropdown-active":""),style:{zIndex:10}},c.default.createElement("div",{className:" mobile-param-search-dropdown-scroll"},this.renderAllMakesOption(),this.renderOptions("Popular Makes",p.default.getPopularMakes(this.props.SearchRequestStore.makes)),this.renderOptions("Other Makes",p.default.getOtherMakes(this.props.SearchRequestStore.makes))))}}]),a}(c.default.Component),m.defaultProps={makes:[],twoStep:!1},u=f))||u)||u;t.default=v},"./client/components/Common/SearchForm/Wrappers/SearchMobileWrapper.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),i=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=r(a("./node_modules/react/index.js")),u=a("./node_modules/mobx-react/index.module.js"),m=r(a("./client/utils/utilities.js")),f=r(a("./client/components/Common/SearchForm/Forms/BodyTypeForm.jsx")),p=r(a("./client/components/Common/SearchForm/Forms/MakeModelForm.jsx")),h=r(a("./client/components/Common/SaveSearchButton/SaveSearchButton.tsx"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}a("./client/components/Common/SearchForm/Wrappers/SearchMobileWrapper.scss");var _=(0,u.inject)("AppStore","ModalStore","SearchParamStore","SearchRequestStore")(n=(0,u.observer)(n=function(e){(0,s.default)(a,e);var t=v(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleChangeTabs=function(t){m.default.prevent(t);var a=1===e.props.SearchParamStore.searchTab?2:1;e.props.SearchParamStore.setSearchTab(a)},e}return(0,o.default)(a,[{key:"render",value:function(){var e={type:"sidebar",buttonText:"Search"};return d.default.createElement("div",{className:"searchForm-wrapper mobile-search-by-box"},d.default.createElement("div",{className:"searchForm-wrapper-inner"},d.default.createElement("div",{className:"searchForm-body"},1===this.props.SearchParamStore.searchTab?d.default.createElement(p.default,e):d.default.createElement(f.default,e),!this.props.omitSaveSearch&&d.default.createElement("footer",{className:"searchForm-footer"},d.default.createElement(h.default,null)))),d.default.createElement("div",{className:"tabs searchForm-footer-tabs"},d.default.createElement("div",{className:"tabs-title searchForm-tab-title"},d.default.createElement("a",{id:"automation_srp_form_switch",href:"#",onClick:this.handleChangeTabs},1===this.props.SearchParamStore.searchTab?"Search by Body Style or Price":"Search by Make & Model"))))}}]),a}(d.default.Component))||n)||n;t.default=_},"./client/components/Common/SearchForm/Wrappers/SearchMobileWrapper.scss":function(e,t,a){},"./client/components/CulDeSacPages/data/kia/benefitsData.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[{title:"10-Year/100,000-Mile Powertrain Limited Warranty Coverage"},{title:"1-Year/12,000-Mile Platinum Coverage"},{title:"164-Point Inspection performed by Kia trained technician",checklistSrc:"https://media.carfax.com/img/cfx/ucl/cpo/kia/kia-CPO-Checklist.pdf"},{title:"Reconditioning performed using manufacturer-authorized parts"},{title:"CARFAX Vehicle History Report"},{title:"24-Hour Unlimited Mile Roadside Assistance",note:"* 24-Hour Unlimited Mile Roadside Assistance starts at the moment of purchase."},{title:"Rental Car Allowance with warrantable repair"},{title:"Travel Breakdown Protection when over 100 miles from home"}];t.default=r},"./client/components/CulDeSacPages/data/kia/roadsideAsstData.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[{title:"Flat Tire",imageSrc:"https://media.carfax.com/img/cfx/ucl/cpo/kia/kia-cpo-flat-tire.jpg",description:"Change your flat tire with your spare."},{title:"Out of Gas",imageSrc:"https://media.carfax.com/img/cfx/ucl/cpo/kia/kia-cpo-out-of-gas.jpg",description:"Arrange to have up to 3 gallons of gas delivered if your vehicle runs out of fuel."},{title:"Lockout",imageSrc:"https://media.carfax.com/img/cfx/ucl/cpo/kia/kia-cpo-lockout.jpg",description:"Assist in getting your vehicle unlocked if the keys are lost, broken or locked inside."},{title:"Jump Start",imageSrc:"https://media.carfax.com/img/cfx/ucl/cpo/kia/kia-cpo-jump-start.jpg",description:"Arrange a battery jump."},{title:"Towing",imageSrc:"https://media.carfax.com/img/cfx/ucl/cpo/kia/kia-cpo-towing.jpg",description:"Your vehicle will be towed to the nearest service facility."}];t.default=r},"./client/components/CulDeSacPages/modals/templates/benefitsBase.scss":function(e,t,a){},"./client/components/CulDeSacPages/modals/templates/hyundaiBenefits.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js"));a("./client/components/CulDeSacPages/modals/templates/benefitsBase.scss");var l=function(){return n.default.createElement("div",{className:"benefit"},n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/warranty-icon.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"Comprehensive Warranty Coverage"),n.default.createElement("p",{className:"benefit__paragraph_description"},"Hyundai Motor America offers the remainder of the 5-Year/60,000-Mile New Vehicle Limited Warranty* on CPO Vehicles."),n.default.createElement("p",{className:"benefit__paragraph_notes"},"*From original in-service date and zero (0) miles."))),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/warranty-icon.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"Powertrain Warranty Coverage"),n.default.createElement("p",{className:"benefit__paragraph_description"},"Hyundai Motor America offers a 10-Year/100,000-Mile CPO Powertrain Limited Warranty* on CPO Vehicles."),n.default.createElement("p",{className:"benefit__paragraph_notes"},"*From original in-service date and zero (0) miles. $50 deductible per repair visit applies. See dealer for program benefit details."))),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/150-point-inspection-icon.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"173-point inspection"),n.default.createElement("p",{className:"benefit__paragraph_description"},"An extensive 173-point* mechanical and appearance inspection, performed by Hyundai CPO program standards."),n.default.createElement("p",{className:"benefit__paragraph_notes"},"*179-point inspection with EV/HEV/PHEV; 190-point inspection with Equus."))),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/carfax-icon.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"CARFAX"),n.default.createElement("p",{className:"benefit__paragraph_description"},"Learn the details of your vehicle before you purchase. All Hyundai CPO vehicles included a complimentary, detailed CARFAX (R) Vehicle History Report (TM).")," ")),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/rental-car.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"Rental Car Reimbursement"),n.default.createElement("p",{className:"benefit__paragraph_description"},"Up to $35 per day for up to ten (10) days for covered repairs, including 1st day rental."))),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/travel-interruption.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"Travel Interruption Reimbursement"),n.default.createElement("p",{className:"benefit__paragraph_description"},"Should a mechanical breakdown of a covered part occur when you are 150 miles or more away from home, you are reimbursed up to $100 per day, $500 per occurrence."))),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/roadside-assistance.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"Roadside Assistance"),n.default.createElement("p",{className:"benefit__paragraph_description"},"10-Year/Unlimited Miles* complimentary coverage 24 hours a day, 7 days a week, 365 days a year. Roadside assistance coverage includes: towing, dead battery/jump start, flat tire change, lock-out service, and gas delivery."),n.default.createElement("p",{className:"benefit__paragraph_notes"},"*From original in-service date. See dealer for program benefit details."))),n.default.createElement("div",{className:"row benefit__paragraph"},n.default.createElement("div",{className:"column large-3 shrink no-padding"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/cpo/hyundai/images/sirius-xm.png",alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},"Sirius XM"),n.default.createElement("p",{className:"benefit__paragraph_description"},"Every Hyundai CPO vehicles comes with a complimentary 90-day trial of SiriusXM(R) 'All-Access' Satellite Radio that offers engaging audio content to make your drives more entertaining."))))};t.default=l},"./client/components/CulDeSacPages/modals/templates/kiaBenefits.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/analytics/BeaconHelperApi.js")),o=r(a("./client/utils/utilities.js")),s=r(a("./client/components/CulDeSacPages/data/kia/benefitsData.js"));a("./client/components/CulDeSacPages/modals/templates/benefitsBase.scss");var i=function(){return n.default.createElement("div",{className:"benefit kia"},n.default.createElement("div",{className:"benefit__paragraph row show-for-medium"},n.default.createElement("div",{className:"column large-9"}),n.default.createElement("div",{className:"column large-1 benefit__paragraph_status_header"},"CPO"),n.default.createElement("div",{className:"column large-2 benefit__paragraph_status_header"},"Non-CPO")),s.default.map((function(e){var t=e.title,a=e.checklistSrc,r=e.note;return n.default.createElement("div",{className:"benefit__paragraph row"},n.default.createElement("div",{className:"column small-12 large-9"},n.default.createElement("p",{className:"benefit__paragraph_headline"},t.includes("-Point")&&a?n.default.createElement("span",null,n.default.createElement("a",{href:a,onClick:function(e){return function(e,t){o.default.prevent(e),window.open("".concat(e.target.href),"_blank"),l.default.vdpCPOCallToAction({make:"Kia",callToActionType:t})}(e,"vdpChecklist")}},"164-Point Inspection")," ","performed by Kia trained technician"):n.default.createElement("span",null,t)),r&&n.default.createElement("p",{className:"benefit__paragraph_notes"},r)),n.default.createElement("div",{className:"column small-3 xlarge-1"},n.default.createElement("span",{className:"benefit__paragraph_icon_text hide-for-medium"},"CPO"),n.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/culdesac/shared/ic_done.svg",alt:"benefit icon",className:"benefit__paragraph_done_icon"})),n.default.createElement("div",{className:"column small-4 xlarge-2"},n.default.createElement("span",{className:"benefit__paragraph_icon_text hide-for-medium"},"Non-CPO"),n.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/culdesac/shared/ic_cancel.svg",alt:"benefit icon",className:"benefit__paragraph_cancel_icon"})))})))};t.default=i},"./client/components/CulDeSacPages/modals/templates/kiaRoadsideAssistance.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js")),l=r(a("./client/components/CulDeSacPages/data/kia/roadsideAsstData.js"));a("./client/components/CulDeSacPages/modals/templates/benefitsBase.scss");var o=function(){return n.default.createElement("div",{className:"benefit kia"},l.default.map((function(e){var t=e.imageSrc,a=e.title,r=e.description;return n.default.createElement("div",{className:"benefit__paragraph row"},n.default.createElement("div",{className:"column small-12 medium-6 large-4"},n.default.createElement("img",{src:t,alt:"benefit icon",className:"benefit__paragraph_icon"})),n.default.createElement("div",{className:"column small-12 medium-6"},n.default.createElement("div",{className:"benefit__paragraph_right_col"},n.default.createElement("p",{className:"benefit__paragraph_headline"},a),n.default.createElement("p",{className:"benefit__paragraph_description"},r))))})))};t.default=o},"./client/components/CulDeSacPages/modals/templates/volkswagenBenefits.tsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./node_modules/react/index.js"));a("./client/components/CulDeSacPages/modals/templates/benefitsBase.scss");var l=function(){return n.default.createElement("div",{className:"benefit row"},n.default.createElement("div",{className:"benefit__paragraph"},n.default.createElement("ul",{className:"benefit__list"},n.default.createElement("li",null,"100+ Point Dealer Inspection"),n.default.createElement("li",null,"Model-Specific Limited Warranty",n.default.createElement("sup",null,"1")),n.default.createElement("li",null,"2 year, 24-hour Roadside Assistance",n.default.createElement("sup",null,"2"))),n.default.createElement("div",{className:"benefit__disclaimer"},n.default.createElement("p",null,n.default.createElement("sup",null,"1")," For all CPO limited warranties: Repairs covered by each limited warranty will be performed at no additional charge after a deductible of $50 per dealer visit. See owner’s literature or dealer for each warranty’s exclusions and limitations.",n.default.createElement("br",null),"For CPO TDI Diesel vehicles only: Vehicles also carry a TDI Extended Emissions Warranty (no deductible)."),n.default.createElement("p",null,n.default.createElement("sup",null,"2")," Roadside Assistance provided by a third party."))))};t.default=l},"./client/components/FindADealer/DealerMakeSearchForm/DealerMakeSearchForm.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,s,i=r(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),c=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),d=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),u=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),m=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),f=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),h=a("./node_modules/mobx-react/index.module.js"),v=r(a("./node_modules/lodash/lodash.js")),_=r(a("./client/utils/custom-validations.js")),g=r(a("./client/utils/utilities.js")),b=r(a("./client/stores/stores.ts")),w=r(a("./client/components/Common/Validator/index.jsx")),S=r(a("./client/components/Common/Basic/Checkbox/Checkbox.tsx")),E=r(a("./client/components/Common/CPOTooltip/CPOTooltip.tsx"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}a("./client/components/Common/SearchForm/Wrappers/wrapper.scss"),w.default.extendErrors(_.default);var N=(0,h.observer)((s=o=function(e){(0,u.default)(a,e);var t=O(a);function a(e){var r;return(0,c.default)(this,a),(r=t.call(this,e)).componentDidMount=function(){b.default.DealerSearch.getDealerMakes(b.default.SearchRequest.params),r.prePopulateForm()},r.toggleCPOValue=function(){return r.setState({certified:!r.state.certified})},r.prePopulateForm=function(){var e=b.default.SearchParams.resultsParams.make,t={make:e=void 0!==e?e.replace(" ","+"):"",radius:b.default.SearchParams.radius||50,zip:b.default.SearchParams.zip,certified:b.default.SearchParams.selectedCPO||!1,carfaxId:b.default.SearchParams.carfaxId||r.props.dealer.id};r.setState(x({},t))},r.handleDealerMakeSearchFormSubmit=function(e){g.default.prevent(e);var t={make:r.state.make||"",model:r.state.model,carfaxId:r.state.carfaxId,certified:r.state.certified};""===t.make&&(delete t.make,delete t.model),b.default.SearchRequest.setVehicle(""),b.default.SearchRequest.searchByDealerMakeModel(t),b.default.Modals.setModal("")},r.handleOnChange=function(e){if(e){var t={make:r.state.make,model:r.state.model,carfaxId:r.state.carfaxId,certified:r.state.certified};t[e.target.name]=e.target.value,t.certified=!1,"make"===e.target.name&&(b.default.SearchParams.setMake(e.target.value),t.model=""),"model"===e.target.name&&b.default.SearchParams.setModel(e.target.value),r.setState(x({},t))}},r.handleOnCheckbox=function(e){var t={make:r.state.make,model:r.state.model,carfaxId:r.state.carfaxId,certified:r.state.certified};t.certified=e.target.checked,b.default.SearchParams.setCPO(e.target.checked),r.setState(x({},t),(function(){r.props.preventSubmitOnCPOChange||r.handleDealerMakeSearchFormSubmit(e)}))},r.renderMakeOptions=function(){try{return b.default.DealerSearch.makes.map((function(e){var t=e.label||e.name;return p.default.createElement("option",{key:"cfx-make-".concat(e.encodedName),value:e.encodedName,"data-cpo":e.cpoPartner}," ",t," (",e.value,") ")}))}catch(e){console.error(e)}},r.renderModelOptions=function(){try{var e=[];if(b.default.DealerSearch.dealerInventory){var t=v.default.filter(b.default.DealerSearch.dealerInventory,(function(e){return e.encodedName===r.state.make}))[0];e=t?t.models:[]}return e.map((function(e){var t=e.name;return p.default.createElement("option",{key:"cfx-model-".concat(e.encodedName),value:e.encodedName},t," (",e.totalCount,")")}))}catch(e){console.error(e)}},r.state={certified:!1,carfaxId:"",make:"",model:"",radius:0,zip:"",makes:e.makes||[]},r}return(0,d.default)(a,[{key:"componentDidUpdate",value:function(){this.state.certified!==b.default.SearchParams.selectedCPO&&this.toggleCPOValue()}},{key:"render",value:function(){var e=this,t=!this.state.make;return p.default.createElement("div",{className:"searchForm-wrapper ".concat(this.props.containerClassName||"")},p.default.createElement("div",{className:"searchForm-wrapper-inner"},p.default.createElement("div",{className:"searchForm-body"},p.default.createElement(w.default.Form,{ref:"searchForm",className:this.props.formClassName,onSubmit:this.handleDealerMakeSearchFormSubmit},p.default.createElement(w.default.Select,{className:"".concat(this.props.makeDropdownClassName," form-control"),containerClassName:"small-12 columns",id:"dealerMakes",name:"make",ref:"make",value:this.state.make,onChange:this.handleOnChange},p.default.createElement("option",{id:"makes_All",value:""},"All Makes"),this.renderMakeOptions()),p.default.createElement(w.default.Select,{className:"".concat(this.props.modelDropdownClassName," form-control"),containerClassName:"small-12 columns",id:"modelName",disabled:t,name:"model",ref:"model",value:this.state.model,onChange:this.handleOnChange},p.default.createElement("option",{id:"models_All",value:""},"All Models"),this.renderModelOptions()),p.default.createElement("div",{className:b.default.SearchParams.displayCPO?"small-12 columns show":"hide"},p.default.createElement("div",{className:"checkbox-list checkbox-list--left checkbox-list--large list-unstyled"},p.default.createElement(S.default,{key:"dealer_make_cpo_".concat(!!b.default.SearchParams.selectedCPO),name:"cpo",wrapperClass:"checkbox-list checkbox-list--left checkbox-list--large list-unstyled",labelClass:"checkbox checkbox-styled control-label dsrp-checkbox-cpo",title:"Certified Pre-Owned Vehicles",subTextClass:"",value:"checked",checked:b.default.SearchParams.selectedCPO,handleClick:function(t){return e.handleOnCheckbox(t)}}),p.default.createElement(E.default,{linkTrackEvent:"event29",eventName:"CPO Search Tooltip",type:1,pageType:this.props.pageType}))),p.default.createElement("div",{className:"columns"},p.default.createElement(w.default.Button,{className:this.props.submitBtnClassName,value:this.props.submitBtnText},this.props.submitBtnText))))))}}]),a}(p.Component),o.defaultProps={dealer:{params:{}},submitBtnText:"Search",isRedirect:!1},l=s))||l;t.default=N},"./client/components/FindADealer/DealersSearchForm/DealersSearchForm.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l,o,s=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),c=r(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),m=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),f=r(a("./node_modules/react/index.js")),p=a("./node_modules/mobx-react/index.module.js"),h=r(a("./client/api/SearchApi.ts")),v=r(a("./client/utils/SearchUtils.ts")),_=r(a("./client/utils/utilities.js")),g=r(a("./client/stores/stores.ts")),b=r(a("./config.js")),w=r(a("./client/components/Common/Basic/Checkbox/Checkbox.tsx")),S=r(a("./client/components/Common/CPOTooltip/CPOTooltip.tsx")),E=r(a("./client/components/Common/SearchForm/Dropdowns/MobileDropdownDealerSearch.jsx"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,u.default)(this,a)}}a("./client/components/FindADealer/DealersSearchForm/DealersSearchForm.scss"),a("./client/components/Common/SearchForm/Wrappers/wrapper.scss");var C=(0,p.observer)((o=l=function(e){(0,d.default)(a,e);var t=y(a);function a(){var e;(0,s.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).handleOpenMobileDropdown=function(){g.default.Modals.callDropdown("search-dealers")},e.handleChangeMake=function(e){var t=e.target.value||"";g.default.SearchParams.setMake(t)},e.handleSubmitSearch=function(t){_.default.prevent(t),h.default.submitNewDealerSearchRequest(),e.props.shouldCloseModalsOnSearch&&g.default.Modals.setModal("")},e.handleOnCPOChange=function(e){g.default.SearchParams.changeCPO(e)},e.handleZipChange=function(e){e&&e.target&&g.default.SearchParams.setZip(e.target.value)},e.handleRadiusChange=function(e){e&&e.target&&g.default.SearchParams.setRadius(e.target.value)},e.renderPopularMakeOptions=function(){var e=v.default.getPopularMakes(g.default.SearchRequest.makes);return e.length>0?f.default.createElement("optgroup",{label:"Popular Makes"},e.map((function(e){return f.default.createElement("option",{key:"cfx-make-".concat(e.id),id:"make_".concat(e.encodedName),value:e.encodedName,"data-cpo":e.cpoPartner}," ",e.label," ")}))," "):""},e.renderOtherMakeOptions=function(){var e=v.default.getOtherMakes(g.default.SearchRequest.makes);return e.length>0?f.default.createElement("optgroup",{label:"Other Makes"},e.map((function(e){return f.default.createElement("option",{key:"cfx-make-".concat(e.id),id:"make_".concat(e.encodedName),value:e.encodedName,"data-cpo":e.cpoPartner}," ",e.label," ")}))," "):""},e.renderRadiusOptions=function(){return b.default.radius.slice(0,-1).map((function(e){return f.default.createElement("option",{key:"ds-radius-".concat(e.value),value:e.value}," ",e.label," ")}),(0,c.default)(e))},e.renderSubmitButton=function(){var t=e.props.submitBtnText;return g.default.App.isLoading&&(t=f.default.createElement("i",{className:"fa fa-cog fa-spin fa-fw","aria-hidden":"true"})),f.default.createElement("button",{type:"submit",id:"fadSubmit",disabled:!g.default.SearchParams.searchEnabled,className:e.props.submitBtnClassName,value:e.props.submitBtnText},t)},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){g.default.SearchParams.setActiveSearchForm("DealersSearchForm")}},{key:"componentWillUnmount",value:function(){g.default.SearchParams.setActiveSearchForm("")}},{key:"render",value:function(){var e=this.props.zipCodeClassName,t=g.default.SearchParams.cpoStatus,a=g.default.SearchParams.selectedMake.replace(" ","+");return g.default.DealerSearch.serverError&&(e="is-invalid-input"),f.default.createElement("div",{className:"searchForm-wrapper".concat(this.props.containerClassName?" ".concat(this.props.containerClassName):"")},f.default.createElement(E.default,null),f.default.createElement("div",{className:"searchForm-wrapper-inner"},f.default.createElement("div",{className:"searchForm-body"},f.default.createElement("header",{className:"searchForm-header"},f.default.createElement("h4",null,"Find a Dealer"),f.default.createElement("button",{className:"close-button search-close-button",type:"button"},f.default.createElement("span",{"aria-hidden":"true"},"×"))),f.default.createElement("form",{ref:"searchForm",className:this.props.formClassName,onSubmit:this.handleSubmitSearch},f.default.createElement("div",{className:"small-12 columns"},f.default.createElement("div",{className:"form-field-wrapper"},g.default.App.isMobile&&"homepage"===this.props.type&&f.default.createElement("div",{className:"form-control-event",onClick:this.handleOpenMobileDropdown}),f.default.createElement("select",{className:this.props.makeDropdownClassName,name:"make",ref:"make",value:a,onChange:this.handleChangeMake},f.default.createElement("option",{value:""},"Select Make"),this.renderPopularMakeOptions(),this.renderOtherMakeOptions()))),f.default.createElement("div",{className:"small-12 columns"},f.default.createElement("div",{className:"row dealerSearchForm-zip-row"},f.default.createElement("div",{className:"columns"},f.default.createElement("select",{className:this.props.radiusDropdownClassName,name:"radius",ref:"radius",value:g.default.SearchParams.radius,onChange:this.handleRadiusChange},this.renderRadiusOptions())),f.default.createElement("span",{className:"columns align-self-middle form-control miles-of-txt"},"miles of"),f.default.createElement("div",{className:"columns small-5"},f.default.createElement("input",{type:"tel",maxLength:"5",ref:"zip",name:"zip",id:"fadZip",placeholder:"Zip Code",className:"".concat(e),value:g.default.SearchParams.zip,onChange:this.handleZipChange})))),f.default.createElement("ul",{className:"checkbox-list checkbox-list--left checkbox-list--large checkbox-list--small list-unstyled dsrp-checkbox-cpo ".concat(t.display?"show":"hide"),style:{listStyle:"none"}},f.default.createElement("li",{className:"small-12 columns"},f.default.createElement(w.default,{key:"dsrp-checkbox-cpo-".concat(t.selected),name:"cpo",wrapperClass:"checkbox-list checkbox-list--left checkbox-list--large list-unstyled dsrp-checkbox-cpo",labelClass:"checkbox checkbox-styled control-label cpo-checkbox",title:"Certified Pre-Owned Vehicles",subTextClass:"",value:"checked",checked:!!t.selected,handleClick:this.handleOnCPOChange}),"sidebar"===this.props.type||"FAD homepage"===this.props.type||"FAD sidebar"===this.props.type?f.default.createElement(S.default,{linkTrackEvent:"event29",eventName:"CPO Search Tooltip",type:1,pageType:this.props.type}):"")),f.default.createElement("div",{className:"columns"},this.renderSubmitButton())))))}}]),a}(f.default.Component),l.defaultProps={submitBtnText:"Submit"},n=o))||n;t.default=C},"./client/components/FindADealer/DealersSearchForm/DealersSearchForm.scss":function(e,t,a){},"./client/components/SearchResults/UserReviews/ExtendedReviewItem.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./node_modules/fecha/fecha.js")),p=r(a("./shared/services/UserServices.js")),h=r(a("./client/components/Common/Stars/SVGStars.jsx")),v=r(a("./client/components/SearchResults/UserReviews/UserReviewFlagCommentBox.jsx")),_=r(a("./client/components/SearchResults/UserReviews/userRnRMethods.js"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/SearchResults/UserReviews/ExtendedReviewItem.scss");var w=(0,m.inject)("UserStore","SearchRequestStore")(l=(0,m.observer)(l=function(e){(0,i.default)(a,e);var t=b(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).getExpandToggleLink=function(e,t){var a=e.globalReview&&r.state.showFullReview?"Read Less":"Read More";if(e.globalReview.length>t||e.reviewSections.length>0)return u.default.createElement("button",{className:"extended-review-modal-item__toggle",onClick:r.toggleShowFullReview},a)},r.setShowError=function(e){r.setState({showError:e})},r.handleSetFeedback=function(e){r.setState({feedback:e,showError:!1})},r.toggleFlagReviewCommentBox=function(){"undefined"!=typeof window&&(document.getElementsByClassName("extended-review-modal-item")[0].scrollTop=0),r.toggleCommentBox(!r.state.commentBoxOpen),r.props.SearchRequestStore.setReportReviewActive(!r.state.commentBoxOpen)},r.handleCancelFeedback=function(){r.setShowError(!1),r.toggleCommentBox(!1)},r.toggleFeedbackSubmitted=function(e){e&&r.setState({commentBoxOpen:!e}),r.setState({feedbackSubmitted:e}),r.props.SearchRequestStore.setReviewFeedbackSubmitted(e)},r.toggleCommentBox=function(e){r.state.feedbackSubmitted&&r.setState({feedbackSubmitted:!1}),r.setState({commentBoxOpen:e}),r.props.SearchRequestStore.setReportReviewActive(e)},r.handleSubmitFeedback=function(){if(!r.state.feedback.trim().length)return r.setShowError(!0),null;var e=JSON.parse(JSON.stringify(r.props.review));delete e.commentBoxOpen,delete e.feedbackSubmitted;var t={reportComment:r.state.feedback,review:e};return r.props.UserStore.setIsLoading(!0),r.sendFeedback(JSON.stringify(t))},r.toggleShowFullReview=function(){r.setState({showFullReview:!r.state.showFullReview})},r.sendFeedback=function(e){p.default.flagReview(e).then((function(e){200===e.status?(r.props.UserStore.setIsLoading(!1),r.toggleCommentBox(!1),r.toggleFeedbackSubmitted(!0)):(console.error("Something went wrong :("),r.props.UserStore.setIsLoading(!1),r.toggleCommentBox(!1),r.toggleFeedbackSubmitted(!1))})).catch((function(){r.props.UserStore.setIsLoading(!1),console.error("Something went wrong :(")}))},r.renderButtons=function(){var e="Submit";return r.props.isLoading&&(e=u.default.createElement("span",null,u.default.createElement("i",{className:"fa fa-cog fa-spin fa-fw","aria-hidden":"true"}))),u.default.createElement("div",{className:"user-reviews__comment_btn_group"},u.default.createElement("button",{type:"submit",tabIndex:"0",disabled:r.props.UserStore.isLoading,className:"user-reviews__submit_btn",onClick:r.handleSubmitFeedback},e),u.default.createElement("button",{className:"user-reviews__cancel_btn",tabIndex:"0",type:"button",onClick:r.handleCancelFeedback},"Cancel"))},r.state={showFullReview:!1,commentBoxOpen:!1,feedbackSubmitted:!1,feedback:"",showError:!1},r}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.showFullReview,t=!e;this.setState({showFullReview:e,commentBoxOpen:t})}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,r=a.commentBoxOpen,n=a.feedbackSubmitted,l=document.getElementById("extended-review-modal");r!==t.commentBoxOpen&&(r?l.classList.add("commentbox-reveal"):l.classList.remove("commentbox-reveal")),n!==t.feedbackSubmitted&&(n?l.classList.add("commentbox-reveal"):l.classList.remove("commentbox-reveal"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showFullReview,r=t.commentBoxOpen,n=t.feedbackSubmitted,l=this.props,o=l.review,s=l.charLimit,i=l.searchTerm,c=this.props.showFullReview,d=o.globalRating,m=o.globalTitle,p=o.screenName,g=o.date,b=o.globalReview&&(a||o.globalReview.length<=s)?o.globalReview:"".concat(o.globalReview.substring(0,s),"..."),w=a?_.default.getUserReviewSection(o,i):"",S=c?null:this.getExpandToggleLink(o,s);return u.default.createElement("div",{className:"extended-review-section"},n?u.default.createElement("div",{className:"user-review-feedback-success-container"},u.default.createElement("p",null,"Your report was submitted."),u.default.createElement("p",null,"Thank you for your submission. The team at CARFAX will review your report soon.")):u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"extended-review-modal-item ".concat(r?"":"padded")},!n&&r?u.default.createElement(v.default,{setFeedback:function(t){return e.handleSetFeedback(t)},commentTooShort:this.state.showError,setShowError:function(t){return e.setShowError(t)}}):null,u.default.createElement("div",{className:"extended-review-modal-item__stars"},u.default.createElement(h.default,{value:d})),u.default.createElement("div",{className:"extended-review-modal-item__details"},u.default.createElement("div",{className:"extended-review-modal-item__reviewer"},"by ",u.default.createElement("strong",null,p," "),u.default.createElement("span",{className:"extended-review-modal-item__date"},"on"," "," ",f.default.format(new Date(g),"longDate"))),m&&u.default.createElement("div",{className:"extended-review-modal-item__title"},m),b&&u.default.createElement("div",{className:"extended-review-modal-item__review"},'"',_.default.highlightText(b,i),'"'),w,S)),u.default.createElement("div",{className:"extended-review-footer"},!n&&r?this.renderButtons():u.default.createElement("button",{className:"flag-review-btn",onClick:this.toggleFlagReviewCommentBox},"Flag Review"))))}}]),a}(u.Component))||l)||l;t.default=w},"./client/components/SearchResults/UserReviews/ExtendedReviewItem.scss":function(e,t,a){},"./client/components/SearchResults/UserReviews/UserReviewFeedbackSuccess.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement("div",{className:"user-review-feedback-success"},n.default.createElement("div",{className:"user-review-feedback-success-icon"},n.default.createElement("img",{src:"https://static.carfax.com/uclassets/images/Success-Icon.png",alt:"checkmark icon"})),n.default.createElement("div",{className:"user-review-feedback-success-text"},n.default.createElement("span",{className:"display-block-on-mobile"},"Thank you for your submission."),"Our team will review it shortly."))};var n=r(a("./node_modules/react/index.js"));a("./client/components/SearchResults/UserReviews/UserReviewFeedbackSuccess.scss")},"./client/components/SearchResults/UserReviews/UserReviewFeedbackSuccess.scss":function(e,t,a){},"./client/components/SearchResults/UserReviews/UserReviewFlagCommentBox.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.useState)(""),a=(0,l.default)(t,2),r=a[0],n=a[1],i=(0,o.useRef)(!0);(0,o.useEffect)((function(){i.current?i.current=!1:e.setFeedback(r)}),[r]);return o.default.createElement("div",{className:"user-reviews__flag-commentbox"},o.default.createElement("h3",{className:"user-reviews__flag-commentbox_title"},"Tell us why you find this review inappropriate."),o.default.createElement("div",{className:"user-reviews__flag-commentbox_textarea-container"},o.default.createElement("textarea",{value:r,onChange:function(e){s.default.prevent(e),n(e.target.value)},onBlur:function(){return e.setShowError(!1)},name:"user-reviews-commentbox",className:"user-reviews__flag-commentbox_textarea ".concat(e.commentTooShort?"invalid":""),placeholder:"Enter your response...",rows:"4"})),e.commentTooShort?o.default.createElement("div",{className:"user-reviews__flag-commentbox_error-text"},"Reasoning is required!"):null)};var l=r(a("./node_modules/@babel/runtime/helpers/slicedToArray.js")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),s=r(a("./client/utils/utilities.js"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}a("./client/components/SearchResults/UserReviews/UserReviewFlagCommentBox.scss")},"./client/components/SearchResults/UserReviews/UserReviewFlagCommentBox.scss":function(e,t,a){},"./client/components/SearchResults/UserReviews/UserReviewSection.jsx":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=r(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=r(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=r(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=r(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a("./node_modules/react/index.js")),m=a("./node_modules/mobx-react/index.module.js"),f=r(a("./node_modules/fecha/fecha.js")),p=r(a("./shared/services/UserServices.js")),h=r(a("./client/utils/utilities.js")),v=r(a("./client/components/Common/Stars/SVGStars.jsx")),_=r(a("./client/components/SearchResults/UserReviews/UserReviewFlag.jsx")),g=r(a("./client/components/SearchResults/UserReviews/UserReviewFlagCommentBox.jsx")),b=r(a("./client/components/SearchResults/UserReviews/UserReviewFeedbackSuccess.jsx")),w=r(a("./client/components/SearchResults/UserReviews/userRnRMethods.js"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}a("./client/components/SearchResults/UserReviews/UserReviewSection.scss");var y=(0,m.inject)("SearchRequestStore","ModalStore","UserStore")(l=(0,m.observer)(l=function(e){(0,i.default)(a,e);var t=E(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).getViewAllReviewsLink=function(){return u.default.createElement("div",{className:"user-reviews-btn-container"},u.default.createElement("button",{onClick:r.handleClick,className:"user-reviews-view-all-btn"},"View All Reviews"))},r.getExpandToggleLink=function(e,t){var a=e.globalReview&&r.state.showFullReview?"Read Less":"Read More";if(e.globalReview.length>t||e.reviewSections.length>0)return u.default.createElement("button",{className:"user-reviews-item__toggle",onClick:r.toggleShowFullReview},a)},r.toggleShowFullReview=function(){r.setState({showFullReview:!r.state.showFullReview})},r.handleClick=function(e){h.default.prevent(e),"undefined"!=typeof window&&r.props.SearchRequestStore.fetchReviewsList(),r.props.ModalStore.setModal("user-review-modal",!0)},r.toggleShowFullReview=function(){r.setState({showFullReview:!r.state.showFullReview})},r.toggleFlagReviewCommentBox=function(){r.props.setCommentBoxStatus(!r.props.review.commentBoxOpen)},r.sendFeedback=function(e){p.default.flagReview(e).then((function(e){200===e.status?(r.props.UserStore.setIsLoading(!1),r.props.setCommentBoxStatus(!1),r.props.setFeedbackSubmitted(!0)):(console.error("Something went wrong :("),r.props.UserStore.setIsLoading(!1),r.props.setCommentBoxStatus(!1),r.props.setFeedbackSubmitted(!1))})).catch((function(){r.props.UserStore.setIsLoading(!1),console.error("Something went wrong :(")}))},r.handleCancelFeedback=function(){return r.props.setCommentBoxStatus(!1)},r.handleSubmitFeedback=function(e){var t=JSON.parse(JSON.stringify(r.props.review));delete t.commentBoxOpen,delete t.feedbackSubmitted;var a={reportComment:e,review:t};return r.props.UserStore.setIsLoading(!0),r.sendFeedback(JSON.stringify(a))},r.state={showFullReview:!1},r}return(0,s.default)(a,[{key:"render",value:function(){var e=this,t=this.state.showFullReview,a=this.props,r=a.review,n=a.showViewAllReviewsLink,l=a.charLimit,o=a.searchTerm,s=r.globalRating,i=r.globalTitle,c=r.screenName,d=r.date,m=r.commentBoxOpen,p=r.feedbackSubmitted,h=this.props.SearchRequestStore.reviews,S=r.globalReview&&(t||r.globalReview.length<=l)?r.globalReview:"".concat(r.globalReview.substring(0,l),"..."),E=t?w.default.getUserReviewSection(r,o):"",y=this.getExpandToggleLink(r,l),C=h&&h.reviewList&&n?this.getViewAllReviewsLink():"";return u.default.createElement("div",{className:"users-reviews-section"},u.default.createElement("div",null,p?u.default.createElement("div",{className:"user-reviews-item__feedback-success-container"},u.default.createElement(b.default,null)):null),u.default.createElement("div",{className:"user-reviews-item side-margins border-bottom\n          ".concat(m?"commentbox-reveal":"")},u.default.createElement("div",{className:"user-reviews-item__flag"},u.default.createElement(_.default,{handleToggleFlagReviewCommentBox:this.toggleFlagReviewCommentBox,color:m?"#1976D2":"#BDBDBD"}),!p&&m?u.default.createElement(g.default,{submitFeedback:function(t){return e.handleSubmitFeedback(t)},cancelFeedback:this.handleCancelFeedback,title:"Report this Review",isLoading:this.props.UserStore.isLoading}):null),u.default.createElement("div",{className:"user-reviews-item__stars"},u.default.createElement(v.default,{value:s})),u.default.createElement("div",{className:"user-reviews-item__details"},u.default.createElement("div",{className:"user-reviews-item__reviewer"},"by ",u.default.createElement("strong",null,c," "),u.default.createElement("span",{className:"user-reviews-item__date"},"on ",f.default.format(new Date(d),"longDate"))),i&&u.default.createElement("div",{className:"user-reviews-item__title"},i),S&&u.default.createElement("div",{className:"user-reviews-item__review"},'"',w.default.highlightText(S,o),'"'),E,y)),C)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.searchTerm!==t.searchTerm?{searchTerm:e.searchTerm,showFullReview:e.containsSearchTerm}:null}}]),a}(u.Component))||l)||l;t.default=y},"./client/components/SearchResults/UserReviews/UserReviewSection.scss":function(e,t,a){},"./client/images/icn_green_check.png":function(e,t,a){e.exports=a.p+"images/icn_green_check.png"},"./shared/services/LeadServices.js":function(e,t,a){"use strict";var r=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("./shared/services/RestClient.js")),l=r(a("./shared/services/CagClient.js")),o={sendToPhone:function(e){var t=l.default.sendToPhone(e.consumerId,e.listingId),a=l.default.getArgsWithReqSignAuthHeader(null,t);return new Promise((function(r){n.default.post(t,a,e).then((function(e){r(e)})).catch((function(e){var t=e.response||e;throw console.error(t),new Error(t)}))}))},sendShare:function(e){var t=l.default.sendShare(e.consumerId),a=l.default.getArgsWithReqSignAuthHeader(null,t);return new Promise((function(r){n.default.post(t,a,e).then((function(e){r(e)})).catch((function(e){var t=e.response||e;throw console.error(t),new Error(t)}))}))}};t.default=o}}]);